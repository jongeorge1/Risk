steal.loading('zoladex/zoladex.js','jquery/jquery.js','jquery/view/ejs/ejs.js','jquery/view/view.js','jquery/lang/string/rsplit/rsplit.js','jquery/lang/string/string.js','zoladex/lib/jQueryMobile/jquery.mobile-1.0.js','zoladex/models/websqlmodel.js','jquery/model/model.js','jquery/class/class.js','zoladex/models/models.js','zoladex/controllers/controllers.js','zoladex/lib/jQueryValidation/jquery.validate.js','zoladex/classes/qsutils.js','zoladex/controllers/tabbar_controller.js','zoladex/controllers/hcplist_controller.js','zoladex/controllers/hcpdetails_controller.js','zoladex/controllers/hcpadd_controller.js','zoladex/controllers/hcpedit_controller.js','zoladex/controllers/hcpdelete_controller.js','zoladex/controllers/practicelist_controller.js','zoladex/controllers/practicedetails_controller.js','zoladex/controllers/practiceadd_controller.js','zoladex/controllers/practiceedit_controller.js','zoladex/controllers/practicedelete_controller.js','zoladex/controllers/supportgrouplist_controller.js','zoladex/controllers/patientappointmentadd_controller.js','zoladex/controllers/patientappointmentedit_controller.js','zoladex/controllers/patientappointmentlist_controller.js','zoladex/controllers/patientappointmentdelete_controller.js','zoladex/controllers/symptomlist_controller.js','zoladex/controllers/symptomadd_controller.js','zoladex/controllers/symptomedit_controller.js','zoladex/controllers/symptomdelete_controller.js','zoladex/controllers/questionadd_controller.js','zoladex/controllers/questionlist_controller.js','zoladex/controllers/leveladd_controller.js','zoladex/controllers/levelchart_controller.js','zoladex/controllers/home_controller.js','zoladex/controllers/alert_controller.js','zoladex/controllers/appointmenttypeadd_controller.js','zoladex/controllers/symptomtypeadd_controller.js','zoladex/controllers/questiondialog_controller.js','jquery/controller/controller.js','jquery/dom/form_params/form_params.js','jquery/controller/view/view.js','jquery/event/destroyed/destroyed.js','jquery/event/event.js','jquery/dom/dom.js','zoladex/views/tab_bar/init.ejs','zoladex/models/hcp.js','zoladex/lib/WebSQL/db.js','zoladex/views/hcp_list/init.ejs','jquery/lang/string/deparam/deparam.js','zoladex/models/practice.js','zoladex/views/hcp_details/init.ejs','zoladex/models/hcppractice.js','zoladex/views/hcp_addedit/init.ejs','zoladex/views/practice_list/init.ejs','zoladex/views/practice_details/init.ejs','zoladex/models/practiceB.js','zoladex/views/practice_addedit/init.ejs','zoladex/models/appointment.js','zoladex/models/appointmenttype.js','zoladex/models/healthcare_location.js','zoladex/lib/mobiscroll/js/mobiscroll-1.5.2.js','zoladex/views/patientappointment_addedit/init.ejs','zoladex/models/appointmentlistitem.js','zoladex/views/patientappointment_list/init.ejs','zoladex/models/patientsymptomlistitem.js','zoladex/views/symptom_list/init.ejs','zoladex/models/patientsymptom.js','zoladex/models/symptom.js','zoladex/views/symptom_addedit/init.ejs','zoladex/models/category.js','zoladex/models/question.js','zoladex/models/myquestion.js','zoladex/views/question_addedit/init.ejs','zoladex/models/myquestionlist.js','zoladex/views/question_list/init.ejs','zoladex/models/psalevel.js','zoladex/views/level_addedit/init.ejs','zoladex/models/alert.js','zoladex/views/alerts/init.ejs');
steal({src: 'zoladex/production.css', has: ['zoladex/lib/jQueryMobile/Overrides.css','zoladex/lib/jQueryMobile/AZBaseTemplate.css','zoladex/lib/jQueryMobile/jquery.mobile.structure-1.0.css','zoladex/lib/jQueryValidation/validation.css','zoladex/lib/mobiscroll/css/mobiscroll-1.5.2.css']});
var baseurl,alertHasBeenShown=false;
steal("jquery","jquery/view/ejs","./lib/jQueryMobile/Overrides.css","./lib/jQueryMobile/AZBaseTemplate.css","./lib/jQueryMobile/jquery.mobile.structure-1.0.css",function(){baseurl=window.location.href.replace(/\/$|\/index\.html/i,"");configureJqueryMobile()}).then("./lib/jQueryMobile/jquery.mobile-1.0.js","./models/websqlmodel.js").then("./lib/jQueryValidation/validation.css","./models/models.js","./controllers/controllers.js","./lib/jQueryValidation/jquery.validate.js","./classes/qsutils.js",function(){localStorageDB.init()});
function configureJqueryMobile(){$(document).bind("pagebeforecreate",function(a){if($(a.target).attr("data-role")==="dialog"&&typeof $(a.target).attr("id")==="undefined")return"";bindTabBar(a);bindHcpControllers(a);bindPracticeControllers(a);bindSymptomControllers(a);bindAppointmentControllers(a);if($(a.target).filter("#indexPage").length>0)return"";if($(a.target).filter("#SupportGroupListPage").length>0){$("#SupportGroupListPage").zoladex_support_group_list();return true}if($("#AddLevelForm").length>
0){$("#AddLevelForm").zoladex_level_add();return true}});$(document).bind("pagecreate",function(a){if($(a.target).filter("#HcpListPage").length>0)$("#HcpListList").zoladex_hcp_list("loadData");else if($(a.target).filter("#PracticeListPage").length>0)$("#PracticeListList").zoladex_practice_list("loadData");else if($(a.target).filter("#SymptomsListPage").length>0)$("#SymptomListContainer").zoladex_symptom_list("loadData");else if($("#NewPracticeForm").length>0){$("#NewPracticeForm").zoladex_practice_add();
$("#NewPracticeForm").validate()}else if($(a.target).filter("#MyQuestionListPage").length>0)$("#MyQuestionListPage").zoladex_my_questions_list();else{$(a.target).filter("#LevelsPage").length>0&&$("#LevelsPage").zoladex_level_chart();if($(a.target).filter("#HomePage").length>0)$("#HomePage").zoladex_home();else $(a.target).filter("#AlertDialog").length>0&&$("#AlertDialog").zoladex_alerts()}});$(document).bind("pagehide",function(a,b){if($(b.nextPage).filter("#HcpDetailsPage").length>0){$("#HcpDetailsPage").controllers().length<
1&&$("#HcpDetailsPage").zoladex_hcp_details();$("#HcpDetailsPage").zoladex_hcp_details("loadData")}else if($(b.nextPage).filter("#HcpEditPage").length>0){$("#EditHcpForm").controllers().length<1&&$("#EditHcpForm").zoladex_hcp_edit();if($(a.target).attr("data-role")==="dialog")return"";$("#EditHcpForm").zoladex_hcp_edit("loadData")}else if($(b.nextPage).filter("#AddHcpPage").length>0){$("#NewHcpForm").controllers().length<1&&$("#NewHcpForm").zoladex_hcp_add();if($(a.target).attr("data-role")==="dialog")return"";
$("#NewHcpForm").zoladex_hcp_add("loadData")}else if($(b.nextPage).filter("#EditAppointmentPage").length>0){$("#EditAppointmentForm").controllers().length<1&&$("#EditAppointmentForm").zoladex_patient_appointment_edit();$("#EditAppointmentForm").zoladex_patient_appointment_edit("loadData")}else if($("#NewAppointmentForm").length>0)$("#NewAppointmentForm").zoladex_patient_appointment_add();else if($(b.nextPage).filter("#PracticeDetailsPage").length>0){$("#PracticeDetailsPage").controllers().length==
0&&$("#PracticeDetailsPage").zoladex_practice_details();$("#PracticeDetailsPage").zoladex_practice_details("loadData")}else if($(b.nextPage).filter("#PracticeEditPage").length>0){$("#EditPracticeForm").controllers().length==0&&$("#EditPracticeForm").zoladex_practice_edit();$("#EditPracticeForm").zoladex_practice_edit("loadData")}else if($(b.nextPage).filter("#SymptomEditPage").length>0)$("#EditSymptomForm").zoladex_symptom_edit();else if($(b.nextPage).filter("#SelectQuestionPage").length>0)$("#SelectQuestionPage").zoladex_question_add();
else $("#QuestionDialog").length>0&&$("#QuestionDialog").zoladex_question_dialog()})}
function bindHcpControllers(a){if($(a.target).filter("#HcpListPage").length>0)$("#HcpListList").zoladex_hcp_list();else if($(a.target).filter("#HcpDetailsPage").length>0)$("#HcpDetailsPage").zoladex_hcp_details();else if($("#NewHcpForm").length>0){$("#NewHcpForm").zoladex_hcp_add();$("#NewHcpForm").validate()}else if($("#EditHcpForm").length>0){$("#EditHcpForm").zoladex_hcp_edit();$("#EditHcpForm").validate()}else if($("#HCPDeleteConfirmDialog").length>0)$("#HCPDeleteConfirmDialog").zoladex_hcp_delete();
else if($("#AppointmentTypeAddDialog").length>0)$("#AppointmentTypeAddDialog").zoladex_appointment_type_add();else $("#SymptomTypeAddDialog").length>0&&$("#SymptomTypeAddDialog").zoladex_symptom_type_add()}
function bindPracticeControllers(a){if($(a.target).filter("#PracticeListPage").length>0)$("#PracticeListList").zoladex_practice_list();else if($("#PracticeDeleteConfirmDialog").length>0)$("#PracticeDeleteConfirmDialog").zoladex_practice_delete();else if($(a.target).filter("#PracticeDetailsPage").length>0)$("#PracticeDetailsPage").zoladex_practice_details();else if($("#NewPracticeForm").length>0){$("#NewPracticeForm").zoladex_practice_add();$("#NewPracticeForm").validate()}else if($("#EditPracticeForm").length>
0){$("#EditPracticeForm").zoladex_practice_edit();$("#EditPracticeForm").validate()}}function bindSymptomControllers(a){if($(a.target).filter("#SymptomsListPage").length>0)$("#SymptomListContainer").zoladex_symptom_list();else if($(a.target).filter("#SymptomRecordPage").length>0)$("#RecordSymptomForm").zoladex_symptom_add();else $("#SymptomDeleteConfirmDialog").length>0&&$("#SymptomDeleteConfirmDialog").zoladex_symptom_delete()}
function bindAppointmentControllers(a){if($(a.target).filter("#calendarPage").length>0)$("#AppointmentsList").zoladex_patient_appointment_list();else if($("#AppointmentDeleteConfirmDialog").length>0)$("#AppointmentDeleteConfirmDialog").zoladex_patient_appointment_delete();else if($("#NewAppointmentForm").length>0){$("#NewAppointmentForm").zoladex_patient_appointment_add();$("#NewAppointmentForm").validate()}else if($("#EditAppointmentForm").length>0){$("#EditAppointmentForm").zoladex_patient_appointment_edit();
$("#EditAppointmentForm").validate()}}function bindTabBar(a){a=determinePageClass(a);if(a!="index"){$(".tabBarContainer").zoladex_tab_bar("destroy");$(".tabBarContainer").zoladex_tab_bar({page:a})}}function determinePageClass(a){a=$(a.target).attr("class");if(a!=undefined)return a.replace("Page","");return 0}steal.loaded("zoladex/zoladex.js");
(function(a,b){function f(c,e,g){if(g===b&&c.nodeType===1){g="data-"+e.replace(Z,"-$1").toLowerCase();g=c.getAttribute(g);if(typeof g==="string"){try{g=g==="true"?true:g==="false"?false:g==="null"?null:!d.isNaN(g)?parseFloat(g):W.test(g)?d.parseJSON(g):g}catch(i){}d.data(c,e,g)}else g=b}return g}function h(c){for(var e in c)if(e!=="toJSON")return false;return true}function j(c,e,g){var i=e+"defer",k=e+"queue",m=e+"mark",r=d.data(c,i,b,true);if(r&&(g==="queue"||!d.data(c,k,b,true))&&(g==="mark"||!d.data(c,
m,b,true)))setTimeout(function(){if(!d.data(c,k,b,true)&&!d.data(c,m,b,true)){d.removeData(c,i,true);r.resolve()}},0)}function l(){return false}function q(){return true}function s(c,e,g){var i=d.extend({},g[0]);i.type=c;i.originalEvent={};i.liveFired=b;d.event.handle.call(e,i);i.isDefaultPrevented()&&g[0].preventDefault()}function v(c){var e,g,i,k,m,r,B,C,I,X,ma,na=[];k=[];m=d._data(this,"events");if(!(c.liveFired===this||!m||!m.live||c.target.disabled||c.button&&c.type==="click")){if(c.namespace)ma=
new RegExp("(^|\\.)"+c.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)");c.liveFired=this;var pa=m.live.slice(0);for(B=0;B<pa.length;B++){m=pa[B];m.origType.replace(Oa,"")===c.type?k.push(m.selector):pa.splice(B--,1)}k=d(c.target).closest(k,c.currentTarget);C=0;for(I=k.length;C<I;C++){X=k[C];for(B=0;B<pa.length;B++){m=pa[B];if(X.selector===m.selector&&(!ma||ma.test(m.namespace))&&!X.elem.disabled){r=X.elem;i=null;if(m.preType==="mouseenter"||m.preType==="mouseleave"){c.type=m.preType;if((i=d(c.relatedTarget).closest(m.selector)[0])&&
d.contains(r,i))i=r}if(!i||i!==r)na.push({elem:r,handleObj:m,level:X.level})}}}C=0;for(I=na.length;C<I;C++){k=na[C];if(g&&k.level>g)break;c.currentTarget=k.elem;c.data=k.handleObj.data;c.handleObj=k.handleObj;ma=k.handleObj.origHandler.apply(k.elem,arguments);if(ma===false||c.isPropagationStopped()){g=k.level;if(ma===false)e=false;if(c.isImmediatePropagationStopped())break}}return e}}function D(c,e){return(c&&c!=="*"?c+".":"")+e.replace(Ja,"`").replace(Pa,"&")}function x(c){return!c||!c.parentNode||
c.parentNode.nodeType===11}function K(c,e,g){e=e||0;if(d.isFunction(e))return d.grep(c,function(k,m){return!!e.call(k,m,k)===g});else if(e.nodeType)return d.grep(c,function(k){return k===e===g});else if(typeof e==="string"){var i=d.grep(c,function(k){return k.nodeType===1});if(Eb.test(e))return d.filter(e,i,!g);else e=d.filter(e,i)}return d.grep(c,function(k){return d.inArray(k,e)>=0===g})}function G(c){return d.nodeName(c,"table")?c.getElementsByTagName("tbody")[0]||c.appendChild(c.ownerDocument.createElement("tbody")):
c}function u(c,e){if(!(e.nodeType!==1||!d.hasData(c))){var g=d.expando,i=d.data(c),k=d.data(e,i);if(i=i[g]){c=i.events;k=k[g]=d.extend({},i);if(c){delete k.handle;k.events={};for(var m in c){g=0;for(i=c[m].length;g<i;g++)d.event.add(e,m+(c[m][g].namespace?".":"")+c[m][g].namespace,c[m][g],c[m][g].data)}}}}}function t(c,e){var g;if(e.nodeType===1){e.clearAttributes&&e.clearAttributes();e.mergeAttributes&&e.mergeAttributes(c);g=e.nodeName.toLowerCase();if(g==="object")e.outerHTML=c.outerHTML;else if(g===
"input"&&(c.type==="checkbox"||c.type==="radio")){if(c.checked)e.defaultChecked=e.checked=c.checked;if(e.value!==c.value)e.value=c.value}else if(g==="option")e.selected=c.defaultSelected;else if(g==="input"||g==="textarea")e.defaultValue=c.defaultValue;e.removeAttribute(d.expando)}}function N(c){return"getElementsByTagName"in c?c.getElementsByTagName("*"):"querySelectorAll"in c?c.querySelectorAll("*"):[]}function P(c){if(c.type==="checkbox"||c.type==="radio")c.defaultChecked=c.checked}function o(c){if(d.nodeName(c,
"input"))P(c);else"getElementsByTagName"in c&&d.grep(c.getElementsByTagName("input"),P)}function y(c,e){e.src?d.ajax({url:e.src,async:false,dataType:"script"}):d.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Fb,"/*$0*/"));e.parentNode&&e.parentNode.removeChild(e)}function z(c,e,g){var i=e==="width"?c.offsetWidth:c.offsetHeight,k=e==="width"?Gb:Hb;if(i>0){g!=="border"&&d.each(k,function(){g||(i-=parseFloat(d.css(c,"padding"+this))||0);if(g==="margin")i+=parseFloat(d.css(c,g+this))||0;
else i-=parseFloat(d.css(c,"border"+this+"Width"))||0});return i+"px"}i=Wa(c,e,e);if(i<0||i==null)i=c.style[e]||0;i=parseFloat(i)||0;g&&d.each(k,function(){i+=parseFloat(d.css(c,"padding"+this))||0;if(g!=="padding")i+=parseFloat(d.css(c,"border"+this+"Width"))||0;if(g==="margin")i+=parseFloat(d.css(c,g+this))||0});return i+"px"}function E(c){return function(e,g){if(typeof e!=="string"){g=e;e="*"}if(d.isFunction(g)){e=e.toLowerCase().split(lb);for(var i=0,k=e.length,m,r;i<k;i++){m=e[i];if(r=/^\+/.test(m))m=
m.substr(1)||"*";m=c[m]=c[m]||[];m[r?"unshift":"push"](g)}}}}function V(c,e,g,i,k,m){k=k||e.dataTypes[0];m=m||{};m[k]=true;k=c[k];for(var r=0,B=k?k.length:0,C=c===eb,I;r<B&&(C||!I);r++){I=k[r](e,g,i);if(typeof I==="string")if(!C||m[I])I=b;else{e.dataTypes.unshift(I);I=V(c,e,g,i,I,m)}}if((C||!I)&&!m["*"])I=V(c,e,g,i,"*",m);return I}function Q(c,e){var g,i,k=d.ajaxSettings.flatOptions||{};for(g in e)if(e[g]!==b)(k[g]?c:i||(i={}))[g]=e[g];i&&d.extend(true,c,i)}function F(c,e,g,i){if(d.isArray(e))d.each(e,
function(m,r){g||Ib.test(c)?i(c,r):F(c+"["+(typeof r==="object"||d.isArray(r)?m:"")+"]",r,g,i)});else if(!g&&e!=null&&typeof e==="object")for(var k in e)F(c+"["+k+"]",e[k],g,i);else i(c,e)}function T(c,e,g){var i=c.contents,k=c.dataTypes,m=c.responseFields,r,B,C,I;for(B in m)if(B in g)e[m[B]]=g[B];for(;k[0]==="*";){k.shift();if(r===b)r=c.mimeType||e.getResponseHeader("content-type")}if(r)for(B in i)if(i[B]&&i[B].test(r)){k.unshift(B);break}if(k[0]in g)C=k[0];else{for(B in g){if(!k[0]||c.converters[B+
" "+k[0]]){C=B;break}I||(I=B)}C=C||I}if(C){C!==k[0]&&k.unshift(C);return g[C]}}function ba(c,e){if(c.dataFilter)e=c.dataFilter(e,c.dataType);var g=c.dataTypes,i={},k,m,r=g.length,B,C=g[0],I,X,ma,na,pa;for(k=1;k<r;k++){if(k===1)for(m in c.converters)if(typeof m==="string")i[m.toLowerCase()]=c.converters[m];I=C;C=g[k];if(C==="*")C=I;else if(I!=="*"&&I!==C){X=I+" "+C;ma=i[X]||i["* "+C];if(!ma){pa=b;for(na in i){B=na.split(" ");if(B[0]===I||B[0]==="*")if(pa=i[B[1]+" "+C]){na=i[na];if(na===true)ma=pa;
else if(pa===true)ma=na;break}}}ma||pa||d.error("No conversion from "+X.replace(" "," to "));if(ma!==true)e=ma?ma(e):pa(na(e))}}return e}function ia(){try{return new a.XMLHttpRequest}catch(c){}}function ca(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(c){}}function ea(){setTimeout(n,0);return $a=d.now()}function n(){$a=b}function H(c,e){var g={};d.each(mb.concat.apply([],mb.slice(0,e)),function(){g[this]=c});return g}function U(c){if(!fb[c]){var e=J.body,g=d("<"+c+">").appendTo(e),i=
g.css("display");g.remove();if(i==="none"||i===""){if(!Qa){Qa=J.createElement("iframe");Qa.frameBorder=Qa.width=Qa.height=0}e.appendChild(Qa);if(!Xa||!Qa.createElement){Xa=(Qa.contentWindow||Qa.contentDocument).document;Xa.write((J.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Xa.close()}g=Xa.createElement(c);Xa.body.appendChild(g);i=d.css(g,"display");e.removeChild(Qa)}fb[c]=i}return fb[c]}function da(c){return d.isWindow(c)?c:c.nodeType===9?c.defaultView||c.parentWindow:false}
var J=a.document,ta=a.navigator,qa=a.location,d=function(){function c(){if(!e.isReady){try{J.documentElement.doScroll("left")}catch(A){setTimeout(c,1);return}e.ready()}}var e=function(A,aa){return new e.fn.init(A,aa,k)},g=a.jQuery,i=a.$,k,m=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,r=/\S/,B=/^\s+/,C=/\s+$/,I=/\d/,X=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ma=/^[\],:{}\s]*$/,na=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,pa=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,wa=/(?:^|:|,)(?:\s*\[)+/g,
Ta=/(webkit)[ \/]([\w.]+)/,Da=/(opera)(?:.*version)?[ \/]([\w.]+)/,La=/(msie) ([\w.]+)/,Na=/(mozilla)(?:.*? rv:([\w.]+))?/,p=/-([a-z]|[0-9])/ig,w=/^-ms-/,M=function(A,aa){return(aa+"").toUpperCase()},L=ta.userAgent,S,Y,ha=Object.prototype.toString,fa=Object.prototype.hasOwnProperty,ra=Array.prototype.push,Ea=Array.prototype.slice,Ca=String.prototype.trim,Ha=Array.prototype.indexOf,sa={};e.fn=e.prototype={constructor:e,init:function(A,aa,ja){var la;if(!A)return this;if(A.nodeType){this.context=this[0]=
A;this.length=1;return this}if(A==="body"&&!aa&&J.body){this.context=J;this[0]=J.body;this.selector=A;this.length=1;return this}if(typeof A==="string")if((la=A.charAt(0)==="<"&&A.charAt(A.length-1)===">"&&A.length>=3?[null,A,null]:m.exec(A))&&(la[1]||!aa))if(la[1]){ja=(aa=aa instanceof e?aa[0]:aa)?aa.ownerDocument||aa:J;if(A=X.exec(A))if(e.isPlainObject(aa)){A=[J.createElement(A[1])];e.fn.attr.call(A,aa,true)}else A=[ja.createElement(A[1])];else{A=e.buildFragment([la[1]],[ja]);A=(A.cacheable?e.clone(A.fragment):
A.fragment).childNodes}return e.merge(this,A)}else{if((aa=J.getElementById(la[2]))&&aa.parentNode){if(aa.id!==la[2])return ja.find(A);this.length=1;this[0]=aa}this.context=J;this.selector=A;return this}else return!aa||aa.jquery?(aa||ja).find(A):this.constructor(aa).find(A);else if(e.isFunction(A))return ja.ready(A);if(A.selector!==b){this.selector=A.selector;this.context=A.context}return e.makeArray(A,this)},selector:"",jquery:"1.6.4",length:0,size:function(){return this.length},toArray:function(){return Ea.call(this,
0)},get:function(A){return A==null?this.toArray():A<0?this[this.length+A]:this[A]},pushStack:function(A,aa,ja){var la=this.constructor();e.isArray(A)?ra.apply(la,A):e.merge(la,A);la.prevObject=this;la.context=this.context;if(aa==="find")la.selector=this.selector+(this.selector?" ":"")+ja;else if(aa)la.selector=this.selector+"."+aa+"("+ja+")";return la},each:function(A,aa){return e.each(this,A,aa)},ready:function(A){e.bindReady();S.done(A);return this},eq:function(A){return A===-1?this.slice(A):this.slice(A,
+A+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Ea.apply(this,arguments),"slice",Ea.call(arguments).join(","))},map:function(A){return this.pushStack(e.map(this,function(aa,ja){return A.call(aa,ja,aa)}))},end:function(){return this.prevObject||this.constructor(null)},push:ra,sort:[].sort,splice:[].splice};e.fn.init.prototype=e.fn;e.extend=e.fn.extend=function(){var A,aa,ja,la,za,ua=arguments[0]||{},Fa=1,Ga=arguments.length,gb=false;
if(typeof ua==="boolean"){gb=ua;ua=arguments[1]||{};Fa=2}if(typeof ua!=="object"&&!e.isFunction(ua))ua={};if(Ga===Fa){ua=this;--Fa}for(;Fa<Ga;Fa++)if((A=arguments[Fa])!=null)for(aa in A){ja=ua[aa];la=A[aa];if(ua!==la)if(gb&&la&&(e.isPlainObject(la)||(za=e.isArray(la)))){if(za){za=false;ja=ja&&e.isArray(ja)?ja:[]}else ja=ja&&e.isPlainObject(ja)?ja:{};ua[aa]=e.extend(gb,ja,la)}else if(la!==b)ua[aa]=la}return ua};e.extend({noConflict:function(A){if(a.$===e)a.$=i;if(A&&a.jQuery===e)a.jQuery=g;return e},
isReady:false,readyWait:1,holdReady:function(A){if(A)e.readyWait++;else e.ready(true)},ready:function(A){if(A===true&&!--e.readyWait||A!==true&&!e.isReady){if(!J.body)return setTimeout(e.ready,1);e.isReady=true;if(!(A!==true&&--e.readyWait>0)){S.resolveWith(J,[e]);e.fn.trigger&&e(J).trigger("ready").unbind("ready")}}},bindReady:function(){if(!S){S=e._Deferred();if(J.readyState==="complete")return setTimeout(e.ready,1);if(J.addEventListener){J.addEventListener("DOMContentLoaded",Y,false);a.addEventListener("load",
e.ready,false)}else if(J.attachEvent){J.attachEvent("onreadystatechange",Y);a.attachEvent("onload",e.ready);var A=false;try{A=a.frameElement==null}catch(aa){}J.documentElement.doScroll&&A&&c()}}},isFunction:function(A){return e.type(A)==="function"},isArray:Array.isArray||function(A){return e.type(A)==="array"},isWindow:function(A){return A&&typeof A==="object"&&"setInterval"in A},isNaN:function(A){return A==null||!I.test(A)||isNaN(A)},type:function(A){return A==null?String(A):sa[ha.call(A)]||"object"},
isPlainObject:function(A){if(!A||e.type(A)!=="object"||A.nodeType||e.isWindow(A))return false;try{if(A.constructor&&!fa.call(A,"constructor")&&!fa.call(A.constructor.prototype,"isPrototypeOf"))return false}catch(aa){return false}var ja;for(ja in A);return ja===b||fa.call(A,ja)},isEmptyObject:function(A){for(var aa in A)return false;return true},error:function(A){throw A;},parseJSON:function(A){if(typeof A!=="string"||!A)return null;A=e.trim(A);if(a.JSON&&a.JSON.parse)return a.JSON.parse(A);if(ma.test(A.replace(na,
"@").replace(pa,"]").replace(wa,"")))return(new Function("return "+A))();e.error("Invalid JSON: "+A)},parseXML:function(A){var aa,ja;try{if(a.DOMParser){ja=new DOMParser;aa=ja.parseFromString(A,"text/xml")}else{aa=new ActiveXObject("Microsoft.XMLDOM");aa.async="false";aa.loadXML(A)}}catch(la){aa=b}if(!aa||!aa.documentElement||aa.getElementsByTagName("parsererror").length)e.error("Invalid XML: "+A);return aa},noop:function(){},globalEval:function(A){if(A&&r.test(A))(a.execScript||function(aa){a.eval.call(a,
aa)})(A)},camelCase:function(A){return A.replace(w,"ms-").replace(p,M)},nodeName:function(A,aa){return A.nodeName&&A.nodeName.toUpperCase()===aa.toUpperCase()},each:function(A,aa,ja){var la,za=0,ua=A.length,Fa=ua===b||e.isFunction(A);if(ja)if(Fa)for(la in A){if(aa.apply(A[la],ja)===false)break}else for(;za<ua;){if(aa.apply(A[za++],ja)===false)break}else if(Fa)for(la in A){if(aa.call(A[la],la,A[la])===false)break}else for(;za<ua;)if(aa.call(A[za],za,A[za++])===false)break;return A},trim:Ca?function(A){return A==
null?"":Ca.call(A)}:function(A){return A==null?"":A.toString().replace(B,"").replace(C,"")},makeArray:function(A,aa){aa=aa||[];if(A!=null){var ja=e.type(A);A.length==null||ja==="string"||ja==="function"||ja==="regexp"||e.isWindow(A)?ra.call(aa,A):e.merge(aa,A)}return aa},inArray:function(A,aa){if(!aa)return-1;if(Ha)return Ha.call(aa,A);for(var ja=0,la=aa.length;ja<la;ja++)if(aa[ja]===A)return ja;return-1},merge:function(A,aa){var ja=A.length,la=0;if(typeof aa.length==="number")for(var za=aa.length;la<
za;la++)A[ja++]=aa[la];else for(;aa[la]!==b;)A[ja++]=aa[la++];A.length=ja;return A},grep:function(A,aa,ja){var la=[],za;ja=!!ja;for(var ua=0,Fa=A.length;ua<Fa;ua++){za=!!aa(A[ua],ua);ja!==za&&la.push(A[ua])}return la},map:function(A,aa,ja){var la,za,ua=[],Fa=0,Ga=A.length;if(A instanceof e||Ga!==b&&typeof Ga==="number"&&(Ga>0&&A[0]&&A[Ga-1]||Ga===0||e.isArray(A)))for(;Fa<Ga;Fa++){la=aa(A[Fa],Fa,ja);if(la!=null)ua[ua.length]=la}else for(za in A){la=aa(A[za],za,ja);if(la!=null)ua[ua.length]=la}return ua.concat.apply([],
ua)},guid:1,proxy:function(A,aa){if(typeof aa==="string"){var ja=A[aa];aa=A;A=ja}if(!e.isFunction(A))return b;var la=Ea.call(arguments,2);ja=function(){return A.apply(aa,la.concat(Ea.call(arguments)))};ja.guid=A.guid=A.guid||ja.guid||e.guid++;return ja},access:function(A,aa,ja,la,za,ua){var Fa=A.length;if(typeof aa==="object"){for(var Ga in aa)e.access(A,Ga,aa[Ga],la,za,ja);return A}if(ja!==b){la=!ua&&la&&e.isFunction(ja);for(Ga=0;Ga<Fa;Ga++)za(A[Ga],aa,la?ja.call(A[Ga],Ga,za(A[Ga],aa)):ja,ua);return A}return Fa?
za(A[0],aa):b},now:function(){return(new Date).getTime()},uaMatch:function(A){A=A.toLowerCase();A=Ta.exec(A)||Da.exec(A)||La.exec(A)||A.indexOf("compatible")<0&&Na.exec(A)||[];return{browser:A[1]||"",version:A[2]||"0"}},sub:function(){function A(ja,la){return new A.fn.init(ja,la)}e.extend(true,A,this);A.superclass=this;A.fn=A.prototype=this();A.fn.constructor=A;A.sub=this.sub;A.fn.init=function(ja,la){if(la&&la instanceof e&&!(la instanceof A))la=A(la);return e.fn.init.call(this,ja,la,aa)};A.fn.init.prototype=
A.fn;var aa=A(J);return A},browser:{}});e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(A,aa){sa["[object "+aa+"]"]=aa.toLowerCase()});L=e.uaMatch(L);if(L.browser){e.browser[L.browser]=true;e.browser.version=L.version}if(e.browser.webkit)e.browser.safari=true;if(r.test("\u00a0")){B=/^[\s\xA0]+/;C=/[\s\xA0]+$/}k=e(J);if(J.addEventListener)Y=function(){J.removeEventListener("DOMContentLoaded",Y,false);e.ready()};else if(J.attachEvent)Y=function(){if(J.readyState===
"complete"){J.detachEvent("onreadystatechange",Y);e.ready()}};return e}(),O="done fail isResolved isRejected promise then always pipe".split(" "),R=[].slice;d.extend({_Deferred:function(){var c=[],e,g,i,k={done:function(){if(!i){var m=arguments,r,B,C,I,X;if(e){X=e;e=0}r=0;for(B=m.length;r<B;r++){C=m[r];I=d.type(C);if(I==="array")k.done.apply(k,C);else I==="function"&&c.push(C)}X&&k.resolveWith(X[0],X[1])}return this},resolveWith:function(m,r){if(!i&&!e&&!g){r=r||[];g=1;try{for(;c[0];)c.shift().apply(m,
r)}finally{e=[m,r];g=0}}return this},resolve:function(){k.resolveWith(this,arguments);return this},isResolved:function(){return!!(g||e)},cancel:function(){i=1;c=[];return this}};return k},Deferred:function(c){var e=d._Deferred(),g=d._Deferred(),i;d.extend(e,{then:function(k,m){e.done(k).fail(m);return this},always:function(){return e.done.apply(e,arguments).fail.apply(this,arguments)},fail:g.done,rejectWith:g.resolveWith,reject:g.resolve,isRejected:g.isResolved,pipe:function(k,m){return d.Deferred(function(r){d.each({done:[k,
"resolve"],fail:[m,"reject"]},function(B,C){var I=C[0],X=C[1],ma;d.isFunction(I)?e[B](function(){(ma=I.apply(this,arguments))&&d.isFunction(ma.promise)?ma.promise().then(r.resolve,r.reject):r[X+"With"](this===e?r:this,[ma])}):e[B](r[X])})}).promise()},promise:function(k){if(k==null){if(i)return i;i=k={}}for(var m=O.length;m--;)k[O[m]]=e[O[m]];return k}});e.done(g.cancel).fail(e.cancel);delete e.cancel;c&&c.call(e,e);return e},when:function(c){function e(B){return function(C){g[B]=arguments.length>
1?R.call(arguments,0):C;--m||r.resolveWith(r,R.call(g,0))}}var g=arguments,i=0,k=g.length,m=k,r=k<=1&&c&&d.isFunction(c.promise)?c:d.Deferred();if(k>1){for(;i<k;i++)if(g[i]&&d.isFunction(g[i].promise))g[i].promise().then(e(i),r.reject);else--m;m||r.resolveWith(r,g)}else if(r!==c)r.resolveWith(r,k?[c]:[]);return r.promise()}});d.support=function(){var c=J.createElement("div"),e=J.documentElement,g,i,k,m,r,B;c.setAttribute("className","t");c.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
g=c.getElementsByTagName("*");i=c.getElementsByTagName("a")[0];if(!g||!g.length||!i)return{};k=J.createElement("select");m=k.appendChild(J.createElement("option"));g=c.getElementsByTagName("input")[0];r={leadingWhitespace:c.firstChild.nodeType===3,tbody:!c.getElementsByTagName("tbody").length,htmlSerialize:!!c.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:i.getAttribute("href")==="/a",opacity:/^0.55$/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,
checkOn:g.value==="on",optSelected:m.selected,getSetAttribute:c.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};g.checked=true;r.noCloneChecked=g.cloneNode(true).checked;k.disabled=true;r.optDisabled=!m.disabled;try{delete c.test}catch(C){r.deleteExpando=false}if(!c.addEventListener&&c.attachEvent&&c.fireEvent){c.attachEvent("onclick",function(){r.noCloneEvent=
false});c.cloneNode(true).fireEvent("onclick")}g=J.createElement("input");g.value="t";g.setAttribute("type","radio");r.radioValue=g.value==="t";g.setAttribute("checked","checked");c.appendChild(g);i=J.createDocumentFragment();i.appendChild(c.firstChild);r.checkClone=i.cloneNode(true).cloneNode(true).lastChild.checked;c.innerHTML="";c.style.width=c.style.paddingLeft="1px";k=J.getElementsByTagName("body")[0];i=J.createElement(k?"div":"body");m={visibility:"hidden",width:0,height:0,border:0,margin:0,
background:"none"};k&&d.extend(m,{position:"absolute",left:"-1000px",top:"-1000px"});for(B in m)i.style[B]=m[B];i.appendChild(c);e=k||e;e.insertBefore(i,e.firstChild);r.appendChecked=g.checked;r.boxModel=c.offsetWidth===2;if("zoom"in c.style){c.style.display="inline";c.style.zoom=1;r.inlineBlockNeedsLayout=c.offsetWidth===2;c.style.display="";c.innerHTML="<div style='width:4px;'></div>";r.shrinkWrapBlocks=c.offsetWidth!==2}c.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";
k=c.getElementsByTagName("td");g=k[0].offsetHeight===0;k[0].style.display="";k[1].style.display="none";r.reliableHiddenOffsets=g&&k[0].offsetHeight===0;c.innerHTML="";if(J.defaultView&&J.defaultView.getComputedStyle){g=J.createElement("div");g.style.width="0";g.style.marginRight="0";c.appendChild(g);r.reliableMarginRight=(parseInt((J.defaultView.getComputedStyle(g,null)||{marginRight:0}).marginRight,10)||0)===0}i.innerHTML="";e.removeChild(i);if(c.attachEvent)for(B in{submit:1,change:1,focusin:1}){e=
"on"+B;g=e in c;if(!g){c.setAttribute(e,"return;");g=typeof c[e]==="function"}r[B+"Bubbles"]=g}i=i=k=m=k=g=c=g=null;return r}();d.boxModel=d.support.boxModel;var W=/^(?:\{.*\}|\[.*\])$/,Z=/([A-Z])/g;d.extend({cache:{},uuid:0,expando:"jQuery"+(d.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(c){c=c.nodeType?d.cache[c[d.expando]]:c[d.expando];return!!c&&!h(c)},data:function(c,e,g,i){if(d.acceptData(c)){var k=
d.expando,m=typeof e==="string",r=c.nodeType,B=r?d.cache:c,C=r?c[d.expando]:c[d.expando]&&d.expando;if(!((!C||i&&C&&B[C]&&!B[C][k])&&m&&g===b)){if(!C)if(r)c[d.expando]=C=++d.uuid;else C=d.expando;if(!B[C]){B[C]={};if(!r)B[C].toJSON=d.noop}if(typeof e==="object"||typeof e==="function")if(i)B[C][k]=d.extend(B[C][k],e);else B[C]=d.extend(B[C],e);c=B[C];if(i){c[k]||(c[k]={});c=c[k]}if(g!==b)c[d.camelCase(e)]=g;if(e==="events"&&!c[e])return c[k]&&c[k].events;if(m){g=c[e];if(g==null)g=c[d.camelCase(e)]}else g=
c;return g}}},removeData:function(c,e,g){if(d.acceptData(c)){var i,k=d.expando,m=c.nodeType,r=m?d.cache:c,B=m?c[d.expando]:d.expando;if(r[B]){if(e)if(i=g?r[B][k]:r[B]){i[e]||(e=d.camelCase(e));delete i[e];if(!h(i))return}if(g){delete r[B][k];if(!h(r[B]))return}e=r[B][k];if(d.support.deleteExpando||!r.setInterval)delete r[B];else r[B]=null;if(e){r[B]={};if(!m)r[B].toJSON=d.noop;r[B][k]=e}else if(m)if(d.support.deleteExpando)delete c[d.expando];else if(c.removeAttribute)c.removeAttribute(d.expando);
else c[d.expando]=null}}},_data:function(c,e,g){return d.data(c,e,g,true)},acceptData:function(c){if(c.nodeName){var e=d.noData[c.nodeName.toLowerCase()];if(e)return!(e===true||c.getAttribute("classid")!==e)}return true}});d.fn.extend({data:function(c,e){var g=null;if(typeof c==="undefined"){if(this.length){g=d.data(this[0]);if(this[0].nodeType===1)for(var i=this[0].attributes,k,m=0,r=i.length;m<r;m++){k=i[m].name;if(k.indexOf("data-")===0){k=d.camelCase(k.substring(5));f(this[0],k,g[k])}}}return g}else if(typeof c===
"object")return this.each(function(){d.data(this,c)});var B=c.split(".");B[1]=B[1]?"."+B[1]:"";if(e===b){g=this.triggerHandler("getData"+B[1]+"!",[B[0]]);if(g===b&&this.length){g=d.data(this[0],c);g=f(this[0],c,g)}return g===b&&B[1]?this.data(B[0]):g}else return this.each(function(){var C=d(this),I=[B[0],e];C.triggerHandler("setData"+B[1]+"!",I);d.data(this,c,e);C.triggerHandler("changeData"+B[1]+"!",I)})},removeData:function(c){return this.each(function(){d.removeData(this,c)})}});d.extend({_mark:function(c,
e){if(c){e=(e||"fx")+"mark";d.data(c,e,(d.data(c,e,b,true)||0)+1,true)}},_unmark:function(c,e,g){if(c!==true){g=e;e=c;c=false}if(e){g=g||"fx";var i=g+"mark";if(c=c?0:(d.data(e,i,b,true)||1)-1)d.data(e,i,c,true);else{d.removeData(e,i,true);j(e,g,"mark")}}},queue:function(c,e,g){if(c){e=(e||"fx")+"queue";var i=d.data(c,e,b,true);if(g)if(!i||d.isArray(g))i=d.data(c,e,d.makeArray(g),true);else i.push(g);return i||[]}},dequeue:function(c,e){e=e||"fx";var g=d.queue(c,e),i=g.shift();if(i==="inprogress")i=
g.shift();if(i){e==="fx"&&g.unshift("inprogress");i.call(c,function(){d.dequeue(c,e)})}if(!g.length){d.removeData(c,e+"queue",true);j(c,e,"queue")}}});d.fn.extend({queue:function(c,e){if(typeof c!=="string"){e=c;c="fx"}if(e===b)return d.queue(this[0],c);return this.each(function(){var g=d.queue(this,c,e);c==="fx"&&g[0]!=="inprogress"&&d.dequeue(this,c)})},dequeue:function(c){return this.each(function(){d.dequeue(this,c)})},delay:function(c,e){c=d.fx?d.fx.speeds[c]||c:c;e=e||"fx";return this.queue(e,
function(){var g=this;setTimeout(function(){d.dequeue(g,e)},c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,e){function g(){--m||i.resolveWith(k,[k])}if(typeof c!=="string"){e=c;c=b}c=c||"fx";var i=d.Deferred(),k=this;e=k.length;var m=1,r=c+"defer",B=c+"queue";c=c+"mark";for(var C;e--;)if(C=d.data(k[e],r,b,true)||(d.data(k[e],B,b,true)||d.data(k[e],c,b,true))&&d.data(k[e],r,d._Deferred(),true)){m++;C.done(g)}g();return i.promise()}});var ga=/[\n\t\r]/g,ka=/\s+/,va=/\r/g,
oa=/^(?:button|input)$/i,Ba=/^(?:button|input|object|select|textarea)$/i,ya=/^a(?:rea)?$/i,xa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ia,Ka;d.fn.extend({attr:function(c,e){return d.access(this,c,e,true,d.attr)},removeAttr:function(c){return this.each(function(){d.removeAttr(this,c)})},prop:function(c,e){return d.access(this,c,e,true,d.prop)},removeProp:function(c){c=d.propFix[c]||c;return this.each(function(){try{this[c]=
b;delete this[c]}catch(e){}})},addClass:function(c){var e,g,i,k,m,r,B;if(d.isFunction(c))return this.each(function(C){d(this).addClass(c.call(this,C,this.className))});if(c&&typeof c==="string"){e=c.split(ka);g=0;for(i=this.length;g<i;g++){k=this[g];if(k.nodeType===1)if(!k.className&&e.length===1)k.className=c;else{m=" "+k.className+" ";r=0;for(B=e.length;r<B;r++)~m.indexOf(" "+e[r]+" ")||(m+=e[r]+" ");k.className=d.trim(m)}}}return this},removeClass:function(c){var e,g,i,k,m,r,B;if(d.isFunction(c))return this.each(function(C){d(this).removeClass(c.call(this,
C,this.className))});if(c&&typeof c==="string"||c===b){e=(c||"").split(ka);g=0;for(i=this.length;g<i;g++){k=this[g];if(k.nodeType===1&&k.className)if(c){m=(" "+k.className+" ").replace(ga," ");r=0;for(B=e.length;r<B;r++)m=m.replace(" "+e[r]+" "," ");k.className=d.trim(m)}else k.className=""}}return this},toggleClass:function(c,e){var g=typeof c,i=typeof e==="boolean";if(d.isFunction(c))return this.each(function(k){d(this).toggleClass(c.call(this,k,this.className,e),e)});return this.each(function(){if(g===
"string")for(var k,m=0,r=d(this),B=e,C=c.split(ka);k=C[m++];){B=i?B:!r.hasClass(k);r[B?"addClass":"removeClass"](k)}else if(g==="undefined"||g==="boolean"){this.className&&d._data(this,"__className__",this.className);this.className=this.className||c===false?"":d._data(this,"__className__")||""}})},hasClass:function(c){c=" "+c+" ";for(var e=0,g=this.length;e<g;e++)if(this[e].nodeType===1&&(" "+this[e].className+" ").replace(ga," ").indexOf(c)>-1)return true;return false},val:function(c){var e,g,i=
this[0];if(!arguments.length){if(i){if((e=d.valHooks[i.nodeName.toLowerCase()]||d.valHooks[i.type])&&"get"in e&&(g=e.get(i,"value"))!==b)return g;g=i.value;return typeof g==="string"?g.replace(va,""):g==null?"":g}return b}var k=d.isFunction(c);return this.each(function(m){var r=d(this);if(this.nodeType===1){m=k?c.call(this,m,r.val()):c;if(m==null)m="";else if(typeof m==="number")m+="";else if(d.isArray(m))m=d.map(m,function(B){return B==null?"":B+""});e=d.valHooks[this.nodeName.toLowerCase()]||d.valHooks[this.type];
if(!e||!("set"in e)||e.set(this,m,"value")===b)this.value=m}})}});d.extend({valHooks:{option:{get:function(c){var e=c.attributes.value;return!e||e.specified?c.value:c.text}},select:{get:function(c){var e,g=c.selectedIndex,i=[],k=c.options;c=c.type==="select-one";if(g<0)return null;for(var m=c?g:0,r=c?g+1:k.length;m<r;m++){e=k[m];if(e.selected&&(d.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!d.nodeName(e.parentNode,"optgroup"))){e=d(e).val();if(c)return e;
i.push(e)}}if(c&&!i.length&&k.length)return d(k[g]).val();return i},set:function(c,e){var g=d.makeArray(e);d(c).find("option").each(function(){this.selected=d.inArray(d(this).val(),g)>=0});if(!g.length)c.selectedIndex=-1;return g}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(c,e,g,i){var k=c.nodeType;if(!c||k===3||k===8||k===2)return b;if(i&&e in d.attrFn)return d(c)[e](g);if(!("getAttribute"in c))return d.prop(c,
e,g);var m,r;if(i=k!==1||!d.isXMLDoc(c)){e=d.attrFix[e]||e;r=d.attrHooks[e];if(!r)if(xa.test(e))r=Ka;else if(Ia)r=Ia}if(g!==b)if(g===null){d.removeAttr(c,e);return b}else if(r&&"set"in r&&i&&(m=r.set(c,g,e))!==b)return m;else{c.setAttribute(e,""+g);return g}else if(r&&"get"in r&&i&&(m=r.get(c,e))!==null)return m;else{m=c.getAttribute(e);return m===null?b:m}},removeAttr:function(c,e){var g;if(c.nodeType===1){e=d.attrFix[e]||e;d.attr(c,e,"");c.removeAttribute(e);if(xa.test(e)&&(g=d.propFix[e]||e)in
c)c[g]=false}},attrHooks:{type:{set:function(c,e){if(oa.test(c.nodeName)&&c.parentNode)d.error("type property can't be changed");else if(!d.support.radioValue&&e==="radio"&&d.nodeName(c,"input")){var g=c.value;c.setAttribute("type",e);if(g)c.value=g;return e}}},value:{get:function(c,e){if(Ia&&d.nodeName(c,"button"))return Ia.get(c,e);return e in c?c.value:null},set:function(c,e,g){if(Ia&&d.nodeName(c,"button"))return Ia.set(c,e,g);c.value=e}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor",
"class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(c,e,g){var i=c.nodeType;if(!c||i===3||i===8||i===2)return b;var k,m;if(i!==1||!d.isXMLDoc(c)){e=d.propFix[e]||e;m=d.propHooks[e]}return g!==b?m&&"set"in m&&(k=m.set(c,g,e))!==b?k:(c[e]=g):m&&"get"in m&&(k=m.get(c,e))!==null?k:c[e]},propHooks:{tabIndex:{get:function(c){var e=c.getAttributeNode("tabindex");
return e&&e.specified?parseInt(e.value,10):Ba.test(c.nodeName)||ya.test(c.nodeName)&&c.href?0:b}}}});d.attrHooks.tabIndex=d.propHooks.tabIndex;Ka={get:function(c,e){var g;return d.prop(c,e)===true||(g=c.getAttributeNode(e))&&g.nodeValue!==false?e.toLowerCase():b},set:function(c,e,g){if(e===false)d.removeAttr(c,g);else{e=d.propFix[g]||g;if(e in c)c[e]=true;c.setAttribute(g,g.toLowerCase())}return g}};if(!d.support.getSetAttribute){Ia=d.valHooks.button={get:function(c,e){return(c=c.getAttributeNode(e))&&
c.nodeValue!==""?c.nodeValue:b},set:function(c,e,g){var i=c.getAttributeNode(g);if(!i){i=J.createAttribute(g);c.setAttributeNode(i)}return i.nodeValue=e+""}};d.each(["width","height"],function(c,e){d.attrHooks[e]=d.extend(d.attrHooks[e],{set:function(g,i){if(i===""){g.setAttribute(e,"auto");return i}}})})}d.support.hrefNormalized||d.each(["href","src","width","height"],function(c,e){d.attrHooks[e]=d.extend(d.attrHooks[e],{get:function(g){g=g.getAttribute(e,2);return g===null?b:g}})});if(!d.support.style)d.attrHooks.style=
{get:function(c){return c.style.cssText.toLowerCase()||b},set:function(c,e){return c.style.cssText=""+e}};if(!d.support.optSelected)d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(){return null}});d.support.checkOn||d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(c){return c.getAttribute("value")===null?"on":c.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(c,e){if(d.isArray(e))return c.checked=d.inArray(d(c).val(),
e)>=0}})});var Oa=/\.(.*)$/,Ra=/^(?:textarea|input|select)$/i,Ja=/\./g,Pa=/ /g,Aa=/[^\w\s.|`]/g,Sa=function(c){return c.replace(Aa,"\\$&")};d.event={add:function(c,e,g,i){if(!(c.nodeType===3||c.nodeType===8)){if(g===false)g=l;else if(!g)return;var k,m;if(g.handler){k=g;g=k.handler}if(!g.guid)g.guid=d.guid++;if(m=d._data(c)){var r=m.events,B=m.handle;if(!r)m.events=r={};if(!B)m.handle=B=function(pa){return typeof d!=="undefined"&&(!pa||d.event.triggered!==pa.type)?d.event.handle.apply(B.elem,arguments):
b};B.elem=c;e=e.split(" ");for(var C,I=0,X;C=e[I++];){m=k?d.extend({},k):{handler:g,data:i};if(C.indexOf(".")>-1){X=C.split(".");C=X.shift();m.namespace=X.slice(0).sort().join(".")}else{X=[];m.namespace=""}m.type=C;if(!m.guid)m.guid=g.guid;var ma=r[C],na=d.event.special[C]||{};if(!ma){ma=r[C]=[];if(!na.setup||na.setup.call(c,i,X,B)===false)if(c.addEventListener)c.addEventListener(C,B,false);else c.attachEvent&&c.attachEvent("on"+C,B)}if(na.add){na.add.call(c,m);if(!m.handler.guid)m.handler.guid=g.guid}ma.push(m);
d.event.global[C]=true}c=null}}},global:{},remove:function(c,e,g,i){if(!(c.nodeType===3||c.nodeType===8)){if(g===false)g=l;var k,m,r=0,B,C,I,X,ma,na,pa=d.hasData(c)&&d._data(c),wa=pa&&pa.events;if(pa&&wa){if(e&&e.type){g=e.handler;e=e.type}if(!e||typeof e==="string"&&e.charAt(0)==="."){e=e||"";for(k in wa)d.event.remove(c,k+e)}else{for(e=e.split(" ");k=e[r++];){X=k;B=k.indexOf(".")<0;C=[];if(!B){C=k.split(".");k=C.shift();I=new RegExp("(^|\\.)"+d.map(C.slice(0).sort(),Sa).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(ma=
wa[k])if(g){X=d.event.special[k]||{};for(m=i||0;m<ma.length;m++){na=ma[m];if(g.guid===na.guid){if(B||I.test(na.namespace)){i==null&&ma.splice(m--,1);X.remove&&X.remove.call(c,na)}if(i!=null)break}}if(ma.length===0||i!=null&&ma.length===1){if(!X.teardown||X.teardown.call(c,C)===false)d.removeEvent(c,k,pa.handle);delete wa[k]}}else for(m=0;m<ma.length;m++){na=ma[m];if(B||I.test(na.namespace)){d.event.remove(c,X,na.handler,m);ma.splice(m--,1)}}}if(d.isEmptyObject(wa)){if(e=pa.handle)e.elem=null;delete pa.events;
delete pa.handle;d.isEmptyObject(pa)&&d.removeData(c,b,true)}}}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(c,e,g,i){var k=c.type||c,m=[],r;if(k.indexOf("!")>=0){k=k.slice(0,-1);r=true}if(k.indexOf(".")>=0){m=k.split(".");k=m.shift();m.sort()}if(!((!g||d.event.customEvent[k])&&!d.event.global[k])){c=typeof c==="object"?c[d.expando]?c:new d.Event(k,c):new d.Event(k);c.type=k;c.exclusive=r;c.namespace=m.join(".");c.namespace_re=new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.)?")+
"(\\.|$)");if(i||!g){c.preventDefault();c.stopPropagation()}if(g){if(!(g.nodeType===3||g.nodeType===8)){c.result=b;c.target=g;e=e!=null?d.makeArray(e):[];e.unshift(c);m=g;i=k.indexOf(":")<0?"on"+k:"";do{r=d._data(m,"handle");c.currentTarget=m;r&&r.apply(m,e);if(i&&d.acceptData(m)&&m[i]&&m[i].apply(m,e)===false){c.result=false;c.preventDefault()}m=m.parentNode||m.ownerDocument||m===c.target.ownerDocument&&a}while(m&&!c.isPropagationStopped());if(!c.isDefaultPrevented()){var B;m=d.event.special[k]||
{};if((!m._default||m._default.call(g.ownerDocument,c)===false)&&!(k==="click"&&d.nodeName(g,"a"))&&d.acceptData(g)){try{if(i&&g[k]){if(B=g[i])g[i]=null;d.event.triggered=k;g[k]()}}catch(C){}if(B)g[i]=B;d.event.triggered=b}}return c.result}}else d.each(d.cache,function(){var I=this[d.expando];I&&I.events&&I.events[k]&&d.event.trigger(c,e,I.handle.elem)})}},handle:function(c){c=d.event.fix(c||a.event);var e=((d._data(this,"events")||{})[c.type]||[]).slice(0),g=!c.exclusive&&!c.namespace,i=Array.prototype.slice.call(arguments,
0);i[0]=c;c.currentTarget=this;for(var k=0,m=e.length;k<m;k++){var r=e[k];if(g||c.namespace_re.test(r.namespace)){c.handler=r.handler;c.data=r.data;c.handleObj=r;r=r.handler.apply(this,i);if(r!==b){c.result=r;if(r===false){c.preventDefault();c.stopPropagation()}}if(c.isImmediatePropagationStopped())break}}return c.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(c){if(c[d.expando])return c;var e=c;c=d.Event(e);for(var g=this.props.length,i;g;){i=this.props[--g];c[i]=e[i]}if(!c.target)c.target=c.srcElement||J;if(c.target.nodeType===3)c.target=c.target.parentNode;if(!c.relatedTarget&&c.fromElement)c.relatedTarget=c.fromElement===c.target?c.toElement:c.fromElement;if(c.pageX==null&&c.clientX!=null){g=c.target.ownerDocument||J;e=g.documentElement;g=g.body;c.pageX=c.clientX+(e&&e.scrollLeft||g&&g.scrollLeft||0)-(e&&e.clientLeft||g&&g.clientLeft||
0);c.pageY=c.clientY+(e&&e.scrollTop||g&&g.scrollTop||0)-(e&&e.clientTop||g&&g.clientTop||0)}if(c.which==null&&(c.charCode!=null||c.keyCode!=null))c.which=c.charCode!=null?c.charCode:c.keyCode;if(!c.metaKey&&c.ctrlKey)c.metaKey=c.ctrlKey;if(!c.which&&c.button!==b)c.which=c.button&1?1:c.button&2?3:c.button&4?2:0;return c},guid:1E8,proxy:d.proxy,special:{ready:{setup:d.bindReady,teardown:d.noop},live:{add:function(c){d.event.add(this,D(c.origType,c.selector),d.extend({},c,{handler:v,guid:c.handler.guid}))},
remove:function(c){d.event.remove(this,D(c.origType,c.selector),c)}},beforeunload:{setup:function(c,e,g){if(d.isWindow(this))this.onbeforeunload=g},teardown:function(c,e){if(this.onbeforeunload===e)this.onbeforeunload=null}}}};d.removeEvent=J.removeEventListener?function(c,e,g){c.removeEventListener&&c.removeEventListener(e,g,false)}:function(c,e,g){c.detachEvent&&c.detachEvent("on"+e,g)};d.Event=function(c,e){if(!this.preventDefault)return new d.Event(c,e);if(c&&c.type){this.originalEvent=c;this.type=
c.type;this.isDefaultPrevented=c.defaultPrevented||c.returnValue===false||c.getPreventDefault&&c.getPreventDefault()?q:l}else this.type=c;e&&d.extend(this,e);this.timeStamp=d.now();this[d.expando]=true};d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=q;var c=this.originalEvent;if(c)if(c.preventDefault)c.preventDefault();else c.returnValue=false},stopPropagation:function(){this.isPropagationStopped=q;var c=this.originalEvent;if(c){c.stopPropagation&&c.stopPropagation();c.cancelBubble=
true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=q;this.stopPropagation()},isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l};var ab=function(c){var e=c.relatedTarget,g=false,i=c.type;c.type=c.data;if(e!==this){if(e)g=d.contains(this,e);if(!g){d.event.handle.apply(this,arguments);c.type=i}}},nb=function(c){c.type=c.data;d.event.handle.apply(this,arguments)};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(c,e){d.event.special[c]=
{setup:function(g){d.event.add(this,e,g&&g.selector?nb:ab,c)},teardown:function(g){d.event.remove(this,e,g&&g.selector?nb:ab)}}});if(!d.support.submitBubbles)d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return false;else{d.event.add(this,"click.specialSubmit",function(c){var e=c.target,g=d.nodeName(e,"input")||d.nodeName(e,"button")?e.type:"";if((g==="submit"||g==="image")&&d(e).closest("form").length)s("submit",this,arguments)});d.event.add(this,"keypress.specialSubmit",function(c){var e=
c.target,g=d.nodeName(e,"input")||d.nodeName(e,"button")?e.type:"";if((g==="text"||g==="password")&&d(e).closest("form").length&&c.keyCode===13)s("submit",this,arguments)})}},teardown:function(){d.event.remove(this,".specialSubmit")}};if(!d.support.changeBubbles){var Za,ob=function(c){var e=d.nodeName(c,"input")?c.type:"",g=c.value;if(e==="radio"||e==="checkbox")g=c.checked;else if(e==="select-multiple")g=c.selectedIndex>-1?d.map(c.options,function(i){return i.selected}).join("-"):"";else if(d.nodeName(c,
"select"))g=c.selectedIndex;return g},bb=function(c,e){var g=c.target,i,k;if(!(!Ra.test(g.nodeName)||g.readOnly)){i=d._data(g,"_change_data");k=ob(g);if(c.type!=="focusout"||g.type!=="radio")d._data(g,"_change_data",k);if(!(i===b||k===i))if(i!=null||k){c.type="change";c.liveFired=b;d.event.trigger(c,e,g)}}};d.event.special.change={filters:{focusout:bb,beforedeactivate:bb,click:function(c){var e=c.target,g=d.nodeName(e,"input")?e.type:"";if(g==="radio"||g==="checkbox"||d.nodeName(e,"select"))bb.call(this,
c)},keydown:function(c){var e=c.target,g=d.nodeName(e,"input")?e.type:"";if(c.keyCode===13&&!d.nodeName(e,"textarea")||c.keyCode===32&&(g==="checkbox"||g==="radio")||g==="select-multiple")bb.call(this,c)},beforeactivate:function(c){c=c.target;d._data(c,"_change_data",ob(c))}},setup:function(){if(this.type==="file")return false;for(var c in Za)d.event.add(this,c+".specialChange",Za[c]);return Ra.test(this.nodeName)},teardown:function(){d.event.remove(this,".specialChange");return Ra.test(this.nodeName)}};
Za=d.event.special.change.filters;Za.focus=Za.beforeactivate}d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(c,e){function g(k){var m=d.event.fix(k);m.type=e;m.originalEvent={};d.event.trigger(m,null,m.target);m.isDefaultPrevented()&&k.preventDefault()}var i=0;d.event.special[e]={setup:function(){i++===0&&J.addEventListener(c,g,true)},teardown:function(){--i===0&&J.removeEventListener(c,g,true)}}});d.each(["bind","one"],function(c,e){d.fn[e]=function(g,i,k){var m;if(typeof g===
"object"){for(var r in g)this[e](r,i,g[r],k);return this}if(arguments.length===2||i===false){k=i;i=b}if(e==="one"){m=function(C){d(this).unbind(C,m);return k.apply(this,arguments)};m.guid=k.guid||d.guid++}else m=k;if(g==="unload"&&e!=="one")this.one(g,i,k);else{r=0;for(var B=this.length;r<B;r++)d.event.add(this[r],g,m,i)}return this}});d.fn.extend({unbind:function(c,e){if(typeof c==="object"&&!c.preventDefault)for(var g in c)this.unbind(g,c[g]);else{g=0;for(var i=this.length;g<i;g++)d.event.remove(this[g],
c,e)}return this},delegate:function(c,e,g,i){return this.live(e,g,i,c)},undelegate:function(c,e,g){return arguments.length===0?this.unbind("live"):this.die(e,null,g,c)},trigger:function(c,e){return this.each(function(){d.event.trigger(c,e,this)})},triggerHandler:function(c,e){if(this[0])return d.event.trigger(c,e,this[0],true)},toggle:function(c){var e=arguments,g=c.guid||d.guid++,i=0,k=function(m){var r=(d.data(this,"lastToggle"+c.guid)||0)%i;d.data(this,"lastToggle"+c.guid,r+1);m.preventDefault();
return e[r].apply(this,arguments)||false};for(k.guid=g;i<e.length;)e[i++].guid=g;return this.click(k)},hover:function(c,e){return this.mouseenter(c).mouseleave(e||c)}});var hb={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};d.each(["live","die"],function(c,e){d.fn[e]=function(g,i,k,m){var r=0,B,C,I=m||this.selector,X=m?this:d(this.context);if(typeof g==="object"&&!g.preventDefault){for(B in g)X[e](B,i,g[B],I);return this}if(e==="die"&&!g&&m&&m.charAt(0)==="."){X.unbind(m);
return this}if(i===false||d.isFunction(i)){k=i||l;i=b}for(g=(g||"").split(" ");(m=g[r++])!=null;){B=Oa.exec(m);C="";if(B){C=B[0];m=m.replace(Oa,"")}if(m==="hover")g.push("mouseenter"+C,"mouseleave"+C);else{B=m;if(hb[m]){g.push(hb[m]+C);m+=C}else m=(hb[m]||m)+C;if(e==="live"){C=0;for(var ma=X.length;C<ma;C++)d.event.add(X[C],"live."+D(m,I),{data:i,selector:I,handler:k,origType:m,origHandler:k,preType:B})}else X.unbind("live."+D(m,I),k)}}return this}});d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),
function(c,e){d.fn[e]=function(g,i){if(i==null){i=g;g=null}return arguments.length>0?this.bind(e,g,i):this.trigger(e)};if(d.attrFn)d.attrFn[e]=true});(function(){function c(p,w,M,L,S,Y){S=0;for(var ha=L.length;S<ha;S++){var fa=L[S];if(fa){var ra=false;for(fa=fa[p];fa;){if(fa.sizcache===M){ra=L[fa.sizset];break}if(fa.nodeType===1&&!Y){fa.sizcache=M;fa.sizset=S}if(fa.nodeName.toLowerCase()===w){ra=fa;break}fa=fa[p]}L[S]=ra}}}function e(p,w,M,L,S,Y){S=0;for(var ha=L.length;S<ha;S++){var fa=L[S];if(fa){var ra=
false;for(fa=fa[p];fa;){if(fa.sizcache===M){ra=L[fa.sizset];break}if(fa.nodeType===1){if(!Y){fa.sizcache=M;fa.sizset=S}if(typeof w!=="string"){if(fa===w){ra=true;break}}else if(I.filter(w,[fa]).length>0){ra=fa;break}}fa=fa[p]}L[S]=ra}}}var g=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i=0,k=Object.prototype.toString,m=false,r=true,B=/\\/g,C=/\W/;[0,0].sort(function(){r=false;return 0});var I=function(p,w,M,L){M=
M||[];var S=w=w||J;if(w.nodeType!==1&&w.nodeType!==9)return[];if(!p||typeof p!=="string")return M;var Y,ha,fa,ra,Ea,Ca=true,Ha=I.isXML(w),sa=[],A=p;do{g.exec("");if(Y=g.exec(A)){A=Y[3];sa.push(Y[1]);if(Y[2]){ra=Y[3];break}}}while(Y);if(sa.length>1&&ma.exec(p))if(sa.length===2&&X.relative[sa[0]])ha=Na(sa[0]+sa[1],w);else for(ha=X.relative[sa[0]]?[w]:I(sa.shift(),w);sa.length;){p=sa.shift();if(X.relative[p])p+=sa.shift();ha=Na(p,ha)}else{if(!L&&sa.length>1&&w.nodeType===9&&!Ha&&X.match.ID.test(sa[0])&&
!X.match.ID.test(sa[sa.length-1])){Y=I.find(sa.shift(),w,Ha);w=Y.expr?I.filter(Y.expr,Y.set)[0]:Y.set[0]}if(w){Y=L?{expr:sa.pop(),set:wa(L)}:I.find(sa.pop(),sa.length===1&&(sa[0]==="~"||sa[0]==="+")&&w.parentNode?w.parentNode:w,Ha);ha=Y.expr?I.filter(Y.expr,Y.set):Y.set;if(sa.length>0)fa=wa(ha);else Ca=false;for(;sa.length;){Y=Ea=sa.pop();if(X.relative[Ea])Y=sa.pop();else Ea="";if(Y==null)Y=w;X.relative[Ea](fa,Y,Ha)}}else fa=[]}fa||(fa=ha);fa||I.error(Ea||p);if(k.call(fa)==="[object Array]")if(Ca)if(w&&
w.nodeType===1)for(p=0;fa[p]!=null;p++){if(fa[p]&&(fa[p]===true||fa[p].nodeType===1&&I.contains(w,fa[p])))M.push(ha[p])}else for(p=0;fa[p]!=null;p++)fa[p]&&fa[p].nodeType===1&&M.push(ha[p]);else M.push.apply(M,fa);else wa(fa,M);if(ra){I(ra,S,M,L);I.uniqueSort(M)}return M};I.uniqueSort=function(p){if(Da){m=r;p.sort(Da);if(m)for(var w=1;w<p.length;w++)p[w]===p[w-1]&&p.splice(w--,1)}return p};I.matches=function(p,w){return I(p,null,null,w)};I.matchesSelector=function(p,w){return I(w,null,null,[p]).length>
0};I.find=function(p,w,M){var L;if(!p)return[];for(var S=0,Y=X.order.length;S<Y;S++){var ha,fa=X.order[S];if(ha=X.leftMatch[fa].exec(p)){var ra=ha[1];ha.splice(1,1);if(ra.substr(ra.length-1)!=="\\"){ha[1]=(ha[1]||"").replace(B,"");L=X.find[fa](ha,w,M);if(L!=null){p=p.replace(X.match[fa],"");break}}}}L||(L=typeof w.getElementsByTagName!=="undefined"?w.getElementsByTagName("*"):[]);return{set:L,expr:p}};I.filter=function(p,w,M,L){for(var S,Y,ha=p,fa=[],ra=w,Ea=w&&w[0]&&I.isXML(w[0]);p&&w.length;){for(var Ca in X.filter)if((S=
X.leftMatch[Ca].exec(p))!=null&&S[2]){var Ha,sa,A=X.filter[Ca];sa=S[1];Y=false;S.splice(1,1);if(sa.substr(sa.length-1)!=="\\"){if(ra===fa)fa=[];if(X.preFilter[Ca])if(S=X.preFilter[Ca](S,ra,M,fa,L,Ea)){if(S===true)continue}else Y=Ha=true;if(S)for(var aa=0;(sa=ra[aa])!=null;aa++)if(sa){Ha=A(sa,S,aa,ra);var ja=L^!!Ha;if(M&&Ha!=null)if(ja)Y=true;else ra[aa]=false;else if(ja){fa.push(sa);Y=true}}if(Ha!==b){M||(ra=fa);p=p.replace(X.match[Ca],"");if(!Y)return[];break}}}if(p===ha)if(Y==null)I.error(p);else break;
ha=p}return ra};I.error=function(p){throw"Syntax error, unrecognized expression: "+p;};var X=I.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(p){return p.getAttribute("href")},type:function(p){return p.getAttribute("type")}},relative:{"+":function(p,w){var M=typeof w==="string",L=M&&!C.test(w);M=M&&!L;if(L)w=w.toLowerCase();L=0;for(var S=p.length,Y;L<S;L++)if(Y=p[L]){for(;(Y=Y.previousSibling)&&Y.nodeType!==
1;);p[L]=M||Y&&Y.nodeName.toLowerCase()===w?Y||false:Y===w}M&&I.filter(w,p,true)},">":function(p,w){var M,L=typeof w==="string",S=0,Y=p.length;if(L&&!C.test(w))for(w=w.toLowerCase();S<Y;S++){if(M=p[S]){M=M.parentNode;p[S]=M.nodeName.toLowerCase()===w?M:false}}else{for(;S<Y;S++)if(M=p[S])p[S]=L?M.parentNode:M.parentNode===w;L&&I.filter(w,p,true)}},"":function(p,w,M){var L,S=i++,Y=e;if(typeof w==="string"&&!C.test(w)){L=w=w.toLowerCase();Y=c}Y("parentNode",w,S,p,L,M)},"~":function(p,w,M){var L,S=i++,
Y=e;if(typeof w==="string"&&!C.test(w)){L=w=w.toLowerCase();Y=c}Y("previousSibling",w,S,p,L,M)}},find:{ID:function(p,w,M){if(typeof w.getElementById!=="undefined"&&!M)return(p=w.getElementById(p[1]))&&p.parentNode?[p]:[]},NAME:function(p,w){if(typeof w.getElementsByName!=="undefined"){var M=[];w=w.getElementsByName(p[1]);for(var L=0,S=w.length;L<S;L++)w[L].getAttribute("name")===p[1]&&M.push(w[L]);return M.length===0?null:M}},TAG:function(p,w){if(typeof w.getElementsByTagName!=="undefined")return w.getElementsByTagName(p[1])}},
preFilter:{CLASS:function(p,w,M,L,S,Y){p=" "+p[1].replace(B,"")+" ";if(Y)return p;Y=0;for(var ha;(ha=w[Y])!=null;Y++)if(ha)if(S^(ha.className&&(" "+ha.className+" ").replace(/[\t\n\r]/g," ").indexOf(p)>=0))M||L.push(ha);else if(M)w[Y]=false;return false},ID:function(p){return p[1].replace(B,"")},TAG:function(p){return p[1].replace(B,"").toLowerCase()},CHILD:function(p){if(p[1]==="nth"){p[2]||I.error(p[0]);p[2]=p[2].replace(/^\+|\s*/g,"");var w=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(p[2]==="even"&&"2n"||
p[2]==="odd"&&"2n+1"||!/\D/.test(p[2])&&"0n+"+p[2]||p[2]);p[2]=w[1]+(w[2]||1)-0;p[3]=w[3]-0}else p[2]&&I.error(p[0]);p[0]=i++;return p},ATTR:function(p,w,M,L,S,Y){w=p[1]=p[1].replace(B,"");if(!Y&&X.attrMap[w])p[1]=X.attrMap[w];p[4]=(p[4]||p[5]||"").replace(B,"");if(p[2]==="~=")p[4]=" "+p[4]+" ";return p},PSEUDO:function(p,w,M,L,S){if(p[1]==="not")if((g.exec(p[3])||"").length>1||/^\w/.test(p[3]))p[3]=I(p[3],null,null,w);else{p=I.filter(p[3],w,M,true^S);M||L.push.apply(L,p);return false}else if(X.match.POS.test(p[0])||
X.match.CHILD.test(p[0]))return true;return p},POS:function(p){p.unshift(true);return p}},filters:{enabled:function(p){return p.disabled===false&&p.type!=="hidden"},disabled:function(p){return p.disabled===true},checked:function(p){return p.checked===true},selected:function(p){return p.selected===true},parent:function(p){return!!p.firstChild},empty:function(p){return!p.firstChild},has:function(p,w,M){return!!I(M[3],p).length},header:function(p){return/h\d/i.test(p.nodeName)},text:function(p){var w=
p.getAttribute("type"),M=p.type;return p.nodeName.toLowerCase()==="input"&&"text"===M&&(w===M||w===null)},radio:function(p){return p.nodeName.toLowerCase()==="input"&&"radio"===p.type},checkbox:function(p){return p.nodeName.toLowerCase()==="input"&&"checkbox"===p.type},file:function(p){return p.nodeName.toLowerCase()==="input"&&"file"===p.type},password:function(p){return p.nodeName.toLowerCase()==="input"&&"password"===p.type},submit:function(p){var w=p.nodeName.toLowerCase();return(w==="input"||
w==="button")&&"submit"===p.type},image:function(p){return p.nodeName.toLowerCase()==="input"&&"image"===p.type},reset:function(p){var w=p.nodeName.toLowerCase();return(w==="input"||w==="button")&&"reset"===p.type},button:function(p){var w=p.nodeName.toLowerCase();return w==="input"&&"button"===p.type||w==="button"},input:function(p){return/input|select|textarea|button/i.test(p.nodeName)},focus:function(p){return p===p.ownerDocument.activeElement}},setFilters:{first:function(p,w){return w===0},last:function(p,
w,M,L){return w===L.length-1},even:function(p,w){return w%2===0},odd:function(p,w){return w%2===1},lt:function(p,w,M){return w<M[3]-0},gt:function(p,w,M){return w>M[3]-0},nth:function(p,w,M){return M[3]-0===w},eq:function(p,w,M){return M[3]-0===w}},filter:{PSEUDO:function(p,w,M,L){var S=w[1],Y=X.filters[S];if(Y)return Y(p,M,w,L);else if(S==="contains")return(p.textContent||p.innerText||I.getText([p])||"").indexOf(w[3])>=0;else if(S==="not"){w=w[3];M=0;for(L=w.length;M<L;M++)if(w[M]===p)return false;
return true}else I.error(S)},CHILD:function(p,w){var M=w[1],L=p;switch(M){case "only":case "first":for(;L=L.previousSibling;)if(L.nodeType===1)return false;if(M==="first")return true;L=p;case "last":for(;L=L.nextSibling;)if(L.nodeType===1)return false;return true;case "nth":M=w[2];var S=w[3];if(M===1&&S===0)return true;w=w[0];var Y=p.parentNode;if(Y&&(Y.sizcache!==w||!p.nodeIndex)){var ha=0;for(L=Y.firstChild;L;L=L.nextSibling)if(L.nodeType===1)L.nodeIndex=++ha;Y.sizcache=w}p=p.nodeIndex-S;return M===
0?p===0:p%M===0&&p/M>=0}},ID:function(p,w){return p.nodeType===1&&p.getAttribute("id")===w},TAG:function(p,w){return w==="*"&&p.nodeType===1||p.nodeName.toLowerCase()===w},CLASS:function(p,w){return(" "+(p.className||p.getAttribute("class"))+" ").indexOf(w)>-1},ATTR:function(p,w){var M=w[1];p=X.attrHandle[M]?X.attrHandle[M](p):p[M]!=null?p[M]:p.getAttribute(M);M=p+"";var L=w[2];w=w[4];return p==null?L==="!=":L==="="?M===w:L==="*="?M.indexOf(w)>=0:L==="~="?(" "+M+" ").indexOf(w)>=0:!w?M&&p!==false:
L==="!="?M!==w:L==="^="?M.indexOf(w)===0:L==="$="?M.substr(M.length-w.length)===w:L==="|="?M===w||M.substr(0,w.length+1)===w+"-":false},POS:function(p,w,M,L){var S=X.setFilters[w[2]];if(S)return S(p,M,w,L)}}},ma=X.match.POS,na=function(p,w){return"\\"+(w-0+1)};for(var pa in X.match){X.match[pa]=new RegExp(X.match[pa].source+/(?![^\[]*\])(?![^\(]*\))/.source);X.leftMatch[pa]=new RegExp(/(^(?:.|\r|\n)*?)/.source+X.match[pa].source.replace(/\\(\d+)/g,na))}var wa=function(p,w){p=Array.prototype.slice.call(p,
0);if(w){w.push.apply(w,p);return w}return p};try{Array.prototype.slice.call(J.documentElement.childNodes,0)}catch(Ta){wa=function(p,w){var M=0;w=w||[];if(k.call(p)==="[object Array]")Array.prototype.push.apply(w,p);else if(typeof p.length==="number")for(var L=p.length;M<L;M++)w.push(p[M]);else for(;p[M];M++)w.push(p[M]);return w}}var Da,La;if(J.documentElement.compareDocumentPosition)Da=function(p,w){if(p===w){m=true;return 0}if(!p.compareDocumentPosition||!w.compareDocumentPosition)return p.compareDocumentPosition?
-1:1;return p.compareDocumentPosition(w)&4?-1:1};else{Da=function(p,w){if(p===w){m=true;return 0}else if(p.sourceIndex&&w.sourceIndex)return p.sourceIndex-w.sourceIndex;var M,L,S=[],Y=[];M=p.parentNode;L=w.parentNode;var ha=M;if(M===L)return La(p,w);else if(M){if(!L)return 1}else return-1;for(;ha;){S.unshift(ha);ha=ha.parentNode}for(ha=L;ha;){Y.unshift(ha);ha=ha.parentNode}M=S.length;L=Y.length;for(ha=0;ha<M&&ha<L;ha++)if(S[ha]!==Y[ha])return La(S[ha],Y[ha]);return ha===M?La(p,Y[ha],-1):La(S[ha],
w,1)};La=function(p,w,M){if(p===w)return M;for(p=p.nextSibling;p;){if(p===w)return-1;p=p.nextSibling}return 1}}I.getText=function(p){for(var w="",M,L=0;p[L];L++){M=p[L];if(M.nodeType===3||M.nodeType===4)w+=M.nodeValue;else if(M.nodeType!==8)w+=I.getText(M.childNodes)}return w};(function(){var p=J.createElement("div"),w="script"+(new Date).getTime(),M=J.documentElement;p.innerHTML="<a name='"+w+"'/>";M.insertBefore(p,M.firstChild);if(J.getElementById(w)){X.find.ID=function(L,S,Y){if(typeof S.getElementById!==
"undefined"&&!Y)return(S=S.getElementById(L[1]))?S.id===L[1]||typeof S.getAttributeNode!=="undefined"&&S.getAttributeNode("id").nodeValue===L[1]?[S]:b:[]};X.filter.ID=function(L,S){var Y=typeof L.getAttributeNode!=="undefined"&&L.getAttributeNode("id");return L.nodeType===1&&Y&&Y.nodeValue===S}}M.removeChild(p);M=p=null})();(function(){var p=J.createElement("div");p.appendChild(J.createComment(""));if(p.getElementsByTagName("*").length>0)X.find.TAG=function(w,M){M=M.getElementsByTagName(w[1]);if(w[1]===
"*"){w=[];for(var L=0;M[L];L++)M[L].nodeType===1&&w.push(M[L]);M=w}return M};p.innerHTML="<a href='#'></a>";if(p.firstChild&&typeof p.firstChild.getAttribute!=="undefined"&&p.firstChild.getAttribute("href")!=="#")X.attrHandle.href=function(w){return w.getAttribute("href",2)};p=null})();J.querySelectorAll&&function(){var p=I,w=J.createElement("div");w.innerHTML="<p class='TEST'></p>";if(!(w.querySelectorAll&&w.querySelectorAll(".TEST").length===0)){I=function(L,S,Y,ha){S=S||J;if(!ha&&!I.isXML(S)){var fa=
/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(L);if(fa&&(S.nodeType===1||S.nodeType===9))if(fa[1])return wa(S.getElementsByTagName(L),Y);else if(fa[2]&&X.find.CLASS&&S.getElementsByClassName)return wa(S.getElementsByClassName(fa[2]),Y);if(S.nodeType===9){if(L==="body"&&S.body)return wa([S.body],Y);else if(fa&&fa[3]){var ra=S.getElementById(fa[3]);if(ra&&ra.parentNode){if(ra.id===fa[3])return wa([ra],Y)}else return wa([],Y)}try{return wa(S.querySelectorAll(L),Y)}catch(Ea){}}else if(S.nodeType===1&&S.nodeName.toLowerCase()!==
"object"){fa=S;var Ca=(ra=S.getAttribute("id"))||"__sizzle__",Ha=S.parentNode,sa=/^\s*[+~]/.test(L);if(ra)Ca=Ca.replace(/'/g,"\\$&");else S.setAttribute("id",Ca);if(sa&&Ha)S=S.parentNode;try{if(!sa||Ha)return wa(S.querySelectorAll("[id='"+Ca+"'] "+L),Y)}catch(A){}finally{ra||fa.removeAttribute("id")}}}return p(L,S,Y,ha)};for(var M in p)I[M]=p[M];w=null}}();(function(){var p=J.documentElement,w=p.matchesSelector||p.mozMatchesSelector||p.webkitMatchesSelector||p.msMatchesSelector;if(w){var M=!w.call(J.createElement("div"),
"div"),L=false;try{w.call(J.documentElement,"[test!='']:sizzle")}catch(S){L=true}I.matchesSelector=function(Y,ha){ha=ha.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!I.isXML(Y))try{if(L||!X.match.PSEUDO.test(ha)&&!/!=/.test(ha)){var fa=w.call(Y,ha);if(fa||!M||Y.document&&Y.document.nodeType!==11)return fa}}catch(ra){}return I(ha,null,null,[Y]).length>0}}})();(function(){var p=J.createElement("div");p.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!p.getElementsByClassName||p.getElementsByClassName("e").length===
0)){p.lastChild.className="e";if(p.getElementsByClassName("e").length!==1){X.order.splice(1,0,"CLASS");X.find.CLASS=function(w,M,L){if(typeof M.getElementsByClassName!=="undefined"&&!L)return M.getElementsByClassName(w[1])};p=null}}})();I.contains=J.documentElement.contains?function(p,w){return p!==w&&(p.contains?p.contains(w):true)}:J.documentElement.compareDocumentPosition?function(p,w){return!!(p.compareDocumentPosition(w)&16)}:function(){return false};I.isXML=function(p){return(p=(p?p.ownerDocument||
p:0).documentElement)?p.nodeName!=="HTML":false};var Na=function(p,w){var M,L=[],S="";for(w=w.nodeType?[w]:w;M=X.match.PSEUDO.exec(p);){S+=M[0];p=p.replace(X.match.PSEUDO,"")}p=X.relative[p]?p+"*":p;M=0;for(var Y=w.length;M<Y;M++)I(p,w[M],L);return I.filter(S,L)};d.find=I;d.expr=I.selectors;d.expr[":"]=d.expr.filters;d.unique=I.uniqueSort;d.text=I.getText;d.isXMLDoc=I.isXML;d.contains=I.contains})();var Jb=/Until$/,Kb=/^(?:parents|prevUntil|prevAll)/,Lb=/,/,Eb=/^.[^:#\[\.,]*$/,Mb=Array.prototype.slice,
pb=d.expr.match.POS,Nb={children:true,contents:true,next:true,prev:true};d.fn.extend({find:function(c){var e=this,g,i;if(typeof c!=="string")return d(c).filter(function(){g=0;for(i=e.length;g<i;g++)if(d.contains(e[g],this))return true});var k=this.pushStack("","find",c),m,r,B;g=0;for(i=this.length;g<i;g++){m=k.length;d.find(c,this[g],k);if(g>0)for(r=m;r<k.length;r++)for(B=0;B<m;B++)if(k[B]===k[r]){k.splice(r--,1);break}}return k},has:function(c){var e=d(c);return this.filter(function(){for(var g=
0,i=e.length;g<i;g++)if(d.contains(this,e[g]))return true})},not:function(c){return this.pushStack(K(this,c,false),"not",c)},filter:function(c){return this.pushStack(K(this,c,true),"filter",c)},is:function(c){return!!c&&(typeof c==="string"?d.filter(c,this).length>0:this.filter(c).length>0)},closest:function(c,e){var g=[],i,k,m=this[0];if(d.isArray(c)){var r,B={},C=1;if(m&&c.length){i=0;for(k=c.length;i<k;i++){r=c[i];B[r]||(B[r]=pb.test(r)?d(r,e||this.context):r)}for(;m&&m.ownerDocument&&m!==e;){for(r in B){c=
B[r];if(c.jquery?c.index(m)>-1:d(m).is(c))g.push({selector:r,elem:m,level:C})}m=m.parentNode;C++}}return g}r=pb.test(c)||typeof c!=="string"?d(c,e||this.context):0;i=0;for(k=this.length;i<k;i++)for(m=this[i];m;)if(r?r.index(m)>-1:d.find.matchesSelector(m,c)){g.push(m);break}else{m=m.parentNode;if(!m||!m.ownerDocument||m===e||m.nodeType===11)break}g=g.length>1?d.unique(g):g;return this.pushStack(g,"closest",c)},index:function(c){if(!c)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof c===
"string")return d.inArray(this[0],d(c));return d.inArray(c.jquery?c[0]:c,this)},add:function(c,e){c=typeof c==="string"?d(c,e):d.makeArray(c&&c.nodeType?[c]:c);e=d.merge(this.get(),c);return this.pushStack(x(c[0])||x(e[0])?e:d.unique(e))},andSelf:function(){return this.add(this.prevObject)}});d.each({parent:function(c){return(c=c.parentNode)&&c.nodeType!==11?c:null},parents:function(c){return d.dir(c,"parentNode")},parentsUntil:function(c,e,g){return d.dir(c,"parentNode",g)},next:function(c){return d.nth(c,
2,"nextSibling")},prev:function(c){return d.nth(c,2,"previousSibling")},nextAll:function(c){return d.dir(c,"nextSibling")},prevAll:function(c){return d.dir(c,"previousSibling")},nextUntil:function(c,e,g){return d.dir(c,"nextSibling",g)},prevUntil:function(c,e,g){return d.dir(c,"previousSibling",g)},siblings:function(c){return d.sibling(c.parentNode.firstChild,c)},children:function(c){return d.sibling(c.firstChild)},contents:function(c){return d.nodeName(c,"iframe")?c.contentDocument||c.contentWindow.document:
d.makeArray(c.childNodes)}},function(c,e){d.fn[c]=function(g,i){var k=d.map(this,e,g),m=Mb.call(arguments);Jb.test(c)||(i=g);if(i&&typeof i==="string")k=d.filter(i,k);k=this.length>1&&!Nb[c]?d.unique(k):k;if((this.length>1||Lb.test(i))&&Kb.test(c))k=k.reverse();return this.pushStack(k,c,m.join(","))}});d.extend({filter:function(c,e,g){if(g)c=":not("+c+")";return e.length===1?d.find.matchesSelector(e[0],c)?[e[0]]:[]:d.find.matches(c,e)},dir:function(c,e,g){var i=[];for(c=c[e];c&&c.nodeType!==9&&(g===
b||c.nodeType!==1||!d(c).is(g));){c.nodeType===1&&i.push(c);c=c[e]}return i},nth:function(c,e,g){e=e||1;for(var i=0;c;c=c[g])if(c.nodeType===1&&++i===e)break;return c},sibling:function(c,e){for(var g=[];c;c=c.nextSibling)c.nodeType===1&&c!==e&&g.push(c);return g}});var Ob=/ jQuery\d+="(?:\d+|null)"/g,ib=/^\s+/,qb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,rb=/<([\w:]+)/,Pb=/<tbody/i,Qb=/<|&#?\w+;/,sb=/<(?:script|object|embed|option|style)/i,tb=/checked\s*(?:[^=]|=\s*.checked.)/i,
Rb=/\/(java|ecma)script/i,Fb=/^\s*<!(?:\[CDATA\[|\-\-)/,Ma={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};Ma.optgroup=Ma.option;Ma.tbody=Ma.tfoot=Ma.colgroup=Ma.caption=Ma.thead;Ma.th=Ma.td;if(!d.support.htmlSerialize)Ma._default=
[1,"div<div>","</div>"];d.fn.extend({text:function(c){if(d.isFunction(c))return this.each(function(e){var g=d(this);g.text(c.call(this,e,g.text()))});if(typeof c!=="object"&&c!==b)return this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(c));return d.text(this)},wrapAll:function(c){if(d.isFunction(c))return this.each(function(g){d(this).wrapAll(c.call(this,g))});if(this[0]){var e=d(c,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&e.insertBefore(this[0]);e.map(function(){for(var g=
this;g.firstChild&&g.firstChild.nodeType===1;)g=g.firstChild;return g}).append(this)}return this},wrapInner:function(c){if(d.isFunction(c))return this.each(function(e){d(this).wrapInner(c.call(this,e))});return this.each(function(){var e=d(this),g=e.contents();g.length?g.wrapAll(c):e.append(c)})},wrap:function(c){return this.each(function(){d(this).wrapAll(c)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,
true,function(c){this.nodeType===1&&this.appendChild(c)})},prepend:function(){return this.domManip(arguments,true,function(c){this.nodeType===1&&this.insertBefore(c,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(e){this.parentNode.insertBefore(e,this)});else if(arguments.length){var c=d(arguments[0]);c.push.apply(c,this.toArray());return this.pushStack(c,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,
false,function(e){this.parentNode.insertBefore(e,this.nextSibling)});else if(arguments.length){var c=this.pushStack(this,"after",arguments);c.push.apply(c,d(arguments[0]).toArray());return c}},remove:function(c,e){for(var g=0,i;(i=this[g])!=null;g++)if(!c||d.filter(c,[i]).length){if(!e&&i.nodeType===1){d.cleanData(i.getElementsByTagName("*"));d.cleanData([i])}i.parentNode&&i.parentNode.removeChild(i)}return this},empty:function(){for(var c=0,e;(e=this[c])!=null;c++)for(e.nodeType===1&&d.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);
return this},clone:function(c,e){c=c==null?false:c;e=e==null?c:e;return this.map(function(){return d.clone(this,c,e)})},html:function(c){if(c===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Ob,""):null;else if(typeof c==="string"&&!sb.test(c)&&(d.support.leadingWhitespace||!ib.test(c))&&!Ma[(rb.exec(c)||["",""])[1].toLowerCase()]){c=c.replace(qb,"<$1></$2>");try{for(var e=0,g=this.length;e<g;e++)if(this[e].nodeType===1){d.cleanData(this[e].getElementsByTagName("*"));this[e].innerHTML=
c}}catch(i){this.empty().append(c)}}else d.isFunction(c)?this.each(function(k){var m=d(this);m.html(c.call(this,k,m.html()))}):this.empty().append(c);return this},replaceWith:function(c){if(this[0]&&this[0].parentNode){if(d.isFunction(c))return this.each(function(e){var g=d(this),i=g.html();g.replaceWith(c.call(this,e,i))});if(typeof c!=="string")c=d(c).detach();return this.each(function(){var e=this.nextSibling,g=this.parentNode;d(this).remove();e?d(e).before(c):d(g).append(c)})}else return this.length?
this.pushStack(d(d.isFunction(c)?c():c),"replaceWith",c):this},detach:function(c){return this.remove(c,true)},domManip:function(c,e,g){var i,k,m,r=c[0],B=[];if(!d.support.checkClone&&arguments.length===3&&typeof r==="string"&&tb.test(r))return this.each(function(){d(this).domManip(c,e,g,true)});if(d.isFunction(r))return this.each(function(ma){var na=d(this);c[0]=r.call(this,ma,e?na.html():b);na.domManip(c,e,g)});if(this[0]){i=r&&r.parentNode;i=d.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===
this.length?{fragment:i}:d.buildFragment(c,this,B);m=i.fragment;if(k=m.childNodes.length===1?(m=m.firstChild):m.firstChild){e=e&&d.nodeName(k,"tr");for(var C=0,I=this.length,X=I-1;C<I;C++)g.call(e?G(this[C],k):this[C],i.cacheable||I>1&&C<X?d.clone(m,true,true):m)}B.length&&d.each(B,y)}return this}});d.buildFragment=function(c,e,g){var i,k,m,r;if(e&&e[0])r=e[0].ownerDocument||e[0];r.createDocumentFragment||(r=J);if(c.length===1&&typeof c[0]==="string"&&c[0].length<512&&r===J&&c[0].charAt(0)==="<"&&
!sb.test(c[0])&&(d.support.checkClone||!tb.test(c[0]))){k=true;if((m=d.fragments[c[0]])&&m!==1)i=m}if(!i){i=r.createDocumentFragment();d.clean(c,r,i,g)}if(k)d.fragments[c[0]]=m?i:1;return{fragment:i,cacheable:k}};d.fragments={};d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,e){d.fn[c]=function(g){var i=[];g=d(g);var k=this.length===1&&this[0].parentNode;if(k&&k.nodeType===11&&k.childNodes.length===1&&g.length===1){g[e](this[0]);
return this}else{k=0;for(var m=g.length;k<m;k++){var r=(k>0?this.clone(true):this).get();d(g[k])[e](r);i=i.concat(r)}return this.pushStack(i,c,g.selector)}}});d.extend({clone:function(c,e,g){var i=c.cloneNode(true),k,m,r;if((!d.support.noCloneEvent||!d.support.noCloneChecked)&&(c.nodeType===1||c.nodeType===11)&&!d.isXMLDoc(c)){t(c,i);k=N(c);m=N(i);for(r=0;k[r];++r)m[r]&&t(k[r],m[r])}if(e){u(c,i);if(g){k=N(c);m=N(i);for(r=0;k[r];++r)u(k[r],m[r])}}return i},clean:function(c,e,g,i){e=e||J;if(typeof e.createElement===
"undefined")e=e.ownerDocument||e[0]&&e[0].ownerDocument||J;for(var k=[],m,r=0,B;(B=c[r])!=null;r++){if(typeof B==="number")B+="";if(B){if(typeof B==="string")if(Qb.test(B)){B=B.replace(qb,"<$1></$2>");m=(rb.exec(B)||["",""])[1].toLowerCase();var C=Ma[m]||Ma._default,I=C[0],X=e.createElement("div");for(X.innerHTML=C[1]+B+C[2];I--;)X=X.lastChild;if(!d.support.tbody){I=Pb.test(B);C=m==="table"&&!I?X.firstChild&&X.firstChild.childNodes:C[1]==="<table>"&&!I?X.childNodes:[];for(m=C.length-1;m>=0;--m)d.nodeName(C[m],
"tbody")&&!C[m].childNodes.length&&C[m].parentNode.removeChild(C[m])}!d.support.leadingWhitespace&&ib.test(B)&&X.insertBefore(e.createTextNode(ib.exec(B)[0]),X.firstChild);B=X.childNodes}else B=e.createTextNode(B);var ma;if(!d.support.appendChecked)if(B[0]&&typeof(ma=B.length)==="number")for(m=0;m<ma;m++)o(B[m]);else o(B);if(B.nodeType)k.push(B);else k=d.merge(k,B)}}if(g){c=function(na){return!na.type||Rb.test(na.type)};for(r=0;k[r];r++)if(i&&d.nodeName(k[r],"script")&&(!k[r].type||k[r].type.toLowerCase()===
"text/javascript"))i.push(k[r].parentNode?k[r].parentNode.removeChild(k[r]):k[r]);else{if(k[r].nodeType===1){e=d.grep(k[r].getElementsByTagName("script"),c);k.splice.apply(k,[r+1,0].concat(e))}g.appendChild(k[r])}}return k},cleanData:function(c){for(var e,g,i=d.cache,k=d.expando,m=d.event.special,r=d.support.deleteExpando,B=0,C;(C=c[B])!=null;B++)if(!(C.nodeName&&d.noData[C.nodeName.toLowerCase()]))if(g=C[d.expando]){if((e=i[g]&&i[g][k])&&e.events){for(var I in e.events)m[I]?d.event.remove(C,I):d.removeEvent(C,
I,e.handle);if(e.handle)e.handle.elem=null}if(r)delete C[d.expando];else C.removeAttribute&&C.removeAttribute(d.expando);delete i[g]}}});var jb=/alpha\([^)]*\)/i,Sb=/opacity=([^)]*)/,Tb=/([A-Z]|^ms)/g,ub=/^-?\d+(?:px)?$/i,Ub=/^-?\d/,Vb=/^([\-+])=([\-+.\de]+)/,Wb={position:"absolute",visibility:"hidden",display:"block"},Gb=["Left","Right"],Hb=["Top","Bottom"],Wa,vb,wb;d.fn.css=function(c,e){if(arguments.length===2&&e===b)return this;return d.access(this,c,e,true,function(g,i,k){return k!==b?d.style(g,
i,k):d.css(g,i)})};d.extend({cssHooks:{opacity:{get:function(c,e){if(e){c=Wa(c,"opacity","opacity");return c===""?"1":c}else return c.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(c,e,g,i){if(!(!c||c.nodeType===3||c.nodeType===8||!c.style)){var k,m=d.camelCase(e),r=c.style,B=d.cssHooks[m];e=d.cssProps[m]||m;if(g!==b){i=typeof g;if(i===
"string"&&(k=Vb.exec(g))){g=+(k[1]+1)*+k[2]+parseFloat(d.css(c,e));i="number"}if(!(g==null||i==="number"&&isNaN(g))){if(i==="number"&&!d.cssNumber[m])g+="px";if(!B||!("set"in B)||(g=B.set(c,g))!==b)try{r[e]=g}catch(C){}}}else{if(B&&"get"in B&&(k=B.get(c,false,i))!==b)return k;return r[e]}}},css:function(c,e,g){var i,k;e=d.camelCase(e);k=d.cssHooks[e];e=d.cssProps[e]||e;if(e==="cssFloat")e="float";if(k&&"get"in k&&(i=k.get(c,true,g))!==b)return i;else if(Wa)return Wa(c,e)},swap:function(c,e,g){var i=
{};for(var k in e){i[k]=c.style[k];c.style[k]=e[k]}g.call(c);for(k in e)c.style[k]=i[k]}});d.curCSS=d.css;d.each(["height","width"],function(c,e){d.cssHooks[e]={get:function(g,i,k){var m;if(i){if(g.offsetWidth!==0)return z(g,e,k);else d.swap(g,Wb,function(){m=z(g,e,k)});return m}},set:function(g,i){if(ub.test(i)){i=parseFloat(i);if(i>=0)return i+"px"}else return i}}});if(!d.support.opacity)d.cssHooks.opacity={get:function(c,e){return Sb.test((e&&c.currentStyle?c.currentStyle.filter:c.style.filter)||
"")?parseFloat(RegExp.$1)/100+"":e?"1":""},set:function(c,e){var g=c.style;c=c.currentStyle;var i=d.isNaN(e)?"":"alpha(opacity="+e*100+")",k=c&&c.filter||g.filter||"";g.zoom=1;if(e>=1&&d.trim(k.replace(jb,""))===""){g.removeAttribute("filter");if(c&&!c.filter)return}g.filter=jb.test(k)?k.replace(jb,i):k+" "+i}};d(function(){if(!d.support.reliableMarginRight)d.cssHooks.marginRight={get:function(c,e){var g;d.swap(c,{display:"inline-block"},function(){g=e?Wa(c,"margin-right","marginRight"):c.style.marginRight});
return g}}});if(J.defaultView&&J.defaultView.getComputedStyle)vb=function(c,e){var g,i;e=e.replace(Tb,"-$1").toLowerCase();if(!(i=c.ownerDocument.defaultView))return b;if(i=i.getComputedStyle(c,null)){g=i.getPropertyValue(e);if(g===""&&!d.contains(c.ownerDocument.documentElement,c))g=d.style(c,e)}return g};if(J.documentElement.currentStyle)wb=function(c,e){var g,i=c.currentStyle&&c.currentStyle[e],k=c.runtimeStyle&&c.runtimeStyle[e],m=c.style;if(!ub.test(i)&&Ub.test(i)){g=m.left;if(k)c.runtimeStyle.left=
c.currentStyle.left;m.left=e==="fontSize"?"1em":i||0;i=m.pixelLeft+"px";m.left=g;if(k)c.runtimeStyle.left=k}return i===""?"auto":i};Wa=vb||wb;if(d.expr&&d.expr.filters){d.expr.filters.hidden=function(c){var e=c.offsetHeight;return c.offsetWidth===0&&e===0||!d.support.reliableHiddenOffsets&&(c.style.display||d.css(c,"display"))==="none"};d.expr.filters.visible=function(c){return!d.expr.filters.hidden(c)}}var Xb=/%20/g,Ib=/\[\]$/,xb=/\r?\n/g,Yb=/#.*$/,Zb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,$b=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
ac=/^(?:GET|HEAD)$/,bc=/^\/\//,yb=/\?/,cc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,dc=/^(?:select|textarea)/i,lb=/\s+/,ec=/([?&])_=[^&]*/,zb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Ab=d.fn.load,eb={},Bb={},Ua,Va,Cb=["*/"]+["*"];try{Ua=qa.href}catch(kc){Ua=J.createElement("a");Ua.href="";Ua=Ua.href}Va=zb.exec(Ua.toLowerCase())||[];d.fn.extend({load:function(c,e,g){if(typeof c!=="string"&&Ab)return Ab.apply(this,arguments);else if(!this.length)return this;var i=c.indexOf(" ");
if(i>=0){var k=c.slice(i,c.length);c=c.slice(0,i)}i="GET";if(e)if(d.isFunction(e)){g=e;e=b}else if(typeof e==="object"){e=d.param(e,d.ajaxSettings.traditional);i="POST"}var m=this;d.ajax({url:c,type:i,dataType:"html",data:e,complete:function(r,B,C){C=r.responseText;if(r.isResolved()){r.done(function(I){C=I});m.html(k?d("<div>").append(C.replace(cc,"")).find(k):C)}g&&m.each(g,[C,B,r])}});return this},serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?
d.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||dc.test(this.nodeName)||$b.test(this.type))}).map(function(c,e){c=d(this).val();return c==null?null:d.isArray(c)?d.map(c,function(g){return{name:e.name,value:g.replace(xb,"\r\n")}}):{name:e.name,value:c.replace(xb,"\r\n")}}).get()}});d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,e){d.fn[e]=function(g){return this.bind(e,g)}});d.each(["get","post"],function(c,
e){d[e]=function(g,i,k,m){if(d.isFunction(i)){m=m||k;k=i;i=b}return d.ajax({type:e,url:g,data:i,success:k,dataType:m})}});d.extend({getScript:function(c,e){return d.get(c,b,e,"script")},getJSON:function(c,e,g){return d.get(c,e,g,"json")},ajaxSetup:function(c,e){if(e)Q(c,d.ajaxSettings);else{e=c;c=d.ajaxSettings}Q(c,e);return c},ajaxSettings:{url:Ua,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Va[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",
processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Cb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":true,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:E(eb),ajaxTransport:E(Bb),ajax:function(c,e){function g(L,S,Y,ha){if(Da!==2){Da=2;Ta&&clearTimeout(Ta);
wa=b;na=ha||"";p.readyState=L>0?4:0;var fa,ra,Ea;ha=S;Y=Y?T(i,p,Y):b;var Ca;if(L>=200&&L<300||L===304){if(i.ifModified){if(Ca=p.getResponseHeader("Last-Modified"))d.lastModified[I]=Ca;if(Ca=p.getResponseHeader("Etag"))d.etag[I]=Ca}if(L===304){ha="notmodified";fa=true}else try{ra=ba(i,Y);ha="success";fa=true}catch(Ha){ha="parsererror";Ea=Ha}}else{Ea=ha;if(!ha||L){ha="error";if(L<0)L=0}}p.status=L;p.statusText=""+(S||ha);fa?r.resolveWith(k,[ra,ha,p]):r.rejectWith(k,[p,ha,Ea]);p.statusCode(C);C=b;if(La)m.trigger("ajax"+
(fa?"Success":"Error"),[p,i,fa?ra:Ea]);B.resolveWith(k,[p,ha]);if(La){m.trigger("ajaxComplete",[p,i]);--d.active||d.event.trigger("ajaxStop")}}}if(typeof c==="object"){e=c;c=b}e=e||{};var i=d.ajaxSetup({},e),k=i.context||i,m=k!==i&&(k.nodeType||k instanceof d)?d(k):d.event,r=d.Deferred(),B=d._Deferred(),C=i.statusCode||{},I,X={},ma={},na,pa,wa,Ta,Da=0,La,Na,p={readyState:0,setRequestHeader:function(L,S){if(!Da){var Y=L.toLowerCase();L=ma[Y]=ma[Y]||L;X[L]=S}return this},getAllResponseHeaders:function(){return Da===
2?na:null},getResponseHeader:function(L){var S;if(Da===2){if(!pa)for(pa={};S=Zb.exec(na);)pa[S[1].toLowerCase()]=S[2];S=pa[L.toLowerCase()]}return S===b?null:S},overrideMimeType:function(L){if(!Da)i.mimeType=L;return this},abort:function(L){L=L||"abort";wa&&wa.abort(L);g(0,L);return this}};r.promise(p);p.success=p.done;p.error=p.fail;p.complete=B.done;p.statusCode=function(L){if(L){var S;if(Da<2)for(S in L)C[S]=[C[S],L[S]];else{S=L[p.status];p.then(S,S)}}return this};i.url=((c||i.url)+"").replace(Yb,
"").replace(bc,Va[1]+"//");i.dataTypes=d.trim(i.dataType||"*").toLowerCase().split(lb);if(i.crossDomain==null){c=zb.exec(i.url.toLowerCase());i.crossDomain=!!(c&&(c[1]!=Va[1]||c[2]!=Va[2]||(c[3]||(c[1]==="http:"?80:443))!=(Va[3]||(Va[1]==="http:"?80:443))))}if(i.data&&i.processData&&typeof i.data!=="string")i.data=d.param(i.data,i.traditional);V(eb,i,e,p);if(Da===2)return false;La=i.global;i.type=i.type.toUpperCase();i.hasContent=!ac.test(i.type);La&&d.active++===0&&d.event.trigger("ajaxStart");if(!i.hasContent){if(i.data){i.url+=
(yb.test(i.url)?"&":"?")+i.data;delete i.data}I=i.url;if(i.cache===false){c=d.now();var w=i.url.replace(ec,"$1_="+c);i.url=w+(w===i.url?(yb.test(i.url)?"&":"?")+"_="+c:"")}}if(i.data&&i.hasContent&&i.contentType!==false||e.contentType)p.setRequestHeader("Content-Type",i.contentType);if(i.ifModified){I=I||i.url;d.lastModified[I]&&p.setRequestHeader("If-Modified-Since",d.lastModified[I]);d.etag[I]&&p.setRequestHeader("If-None-Match",d.etag[I])}p.setRequestHeader("Accept",i.dataTypes[0]&&i.accepts[i.dataTypes[0]]?
i.accepts[i.dataTypes[0]]+(i.dataTypes[0]!=="*"?", "+Cb+"; q=0.01":""):i.accepts["*"]);for(Na in i.headers)p.setRequestHeader(Na,i.headers[Na]);if(i.beforeSend&&(i.beforeSend.call(k,p,i)===false||Da===2)){p.abort();return false}for(Na in{success:1,error:1,complete:1})p[Na](i[Na]);if(wa=V(Bb,i,e,p)){p.readyState=1;La&&m.trigger("ajaxSend",[p,i]);if(i.async&&i.timeout>0)Ta=setTimeout(function(){p.abort("timeout")},i.timeout);try{Da=1;wa.send(X,g)}catch(M){Da<2?g(-1,M):d.error(M)}}else g(-1,"No Transport");
return p},param:function(c,e){var g=[],i=function(m,r){r=d.isFunction(r)?r():r;g[g.length]=encodeURIComponent(m)+"="+encodeURIComponent(r)};if(e===b)e=d.ajaxSettings.traditional;if(d.isArray(c)||c.jquery&&!d.isPlainObject(c))d.each(c,function(){i(this.name,this.value)});else for(var k in c)F(k,c[k],e,i);return g.join("&").replace(Xb,"+")}});d.extend({active:0,lastModified:{},etag:{}});var fc=d.now(),cb=/(\=)\?(&|$)|\?\?/i;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return d.expando+"_"+
fc++}});d.ajaxPrefilter("json jsonp",function(c,e,g){e=c.contentType==="application/x-www-form-urlencoded"&&typeof c.data==="string";if(c.dataTypes[0]==="jsonp"||c.jsonp!==false&&(cb.test(c.url)||e&&cb.test(c.data))){var i,k=c.jsonpCallback=d.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,m=a[k],r=c.url,B=c.data,C="$1"+k+"$2";if(c.jsonp!==false){r=r.replace(cb,C);if(c.url===r){if(e)B=B.replace(cb,C);if(c.data===B)r+=(/\?/.test(r)?"&":"?")+c.jsonp+"="+k}}c.url=r;c.data=B;a[k]=function(I){i=
[I]};g.always(function(){a[k]=m;i&&d.isFunction(m)&&a[k](i[0])});c.converters["script json"]=function(){i||d.error(k+" was not called");return i[0]};c.dataTypes[0]="json";return"script"}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(c){d.globalEval(c);return c}}});d.ajaxPrefilter("script",function(c){if(c.cache===b)c.cache=false;if(c.crossDomain){c.type=
"GET";c.global=false}});d.ajaxTransport("script",function(c){if(c.crossDomain){var e,g=J.head||J.getElementsByTagName("head")[0]||J.documentElement;return{send:function(i,k){e=J.createElement("script");e.async="async";if(c.scriptCharset)e.charset=c.scriptCharset;e.src=c.url;e.onload=e.onreadystatechange=function(m,r){if(r||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;g&&e.parentNode&&g.removeChild(e);e=b;r||k(200,"success")}};g.insertBefore(e,g.firstChild)},
abort:function(){e&&e.onload(0,1)}}}});var kb=a.ActiveXObject?function(){for(var c in Ya)Ya[c](0,1)}:false,gc=0,Ya;d.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ia()||ca()}:ia;(function(c){d.extend(d.support,{ajax:!!c,cors:!!c&&"withCredentials"in c})})(d.ajaxSettings.xhr());d.support.ajax&&d.ajaxTransport(function(c){if(!c.crossDomain||d.support.cors){var e;return{send:function(g,i){var k=c.xhr(),m,r;c.username?k.open(c.type,c.url,c.async,c.username,c.password):k.open(c.type,
c.url,c.async);if(c.xhrFields)for(r in c.xhrFields)k[r]=c.xhrFields[r];c.mimeType&&k.overrideMimeType&&k.overrideMimeType(c.mimeType);if(!c.crossDomain&&!g["X-Requested-With"])g["X-Requested-With"]="XMLHttpRequest";try{for(r in g)k.setRequestHeader(r,g[r])}catch(B){}k.send(c.hasContent&&c.data||null);e=function(C,I){var X,ma,na,pa,wa;try{if(e&&(I||k.readyState===4)){e=b;if(m){k.onreadystatechange=d.noop;kb&&delete Ya[m]}if(I)k.readyState!==4&&k.abort();else{X=k.status;na=k.getAllResponseHeaders();
pa={};if((wa=k.responseXML)&&wa.documentElement)pa.xml=wa;pa.text=k.responseText;try{ma=k.statusText}catch(Ta){ma=""}if(!X&&c.isLocal&&!c.crossDomain)X=pa.text?200:404;else if(X===1223)X=204}}}catch(Da){I||i(-1,Da)}pa&&i(X,ma,pa,na)};if(!c.async||k.readyState===4)e();else{m=++gc;if(kb){if(!Ya){Ya={};d(a).unload(kb)}Ya[m]=e}k.onreadystatechange=e}},abort:function(){e&&e(0,1)}}}});var fb={},Qa,Xa,hc=/^(?:toggle|show|hide)$/,ic=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,db,mb=[["height","marginTop","marginBottom",
"paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],$a;d.fn.extend({show:function(c,e,g){if(c||c===0)return this.animate(H("show",3),c,e,g);else{g=0;for(var i=this.length;g<i;g++){c=this[g];if(c.style){e=c.style.display;if(!d._data(c,"olddisplay")&&e==="none")e=c.style.display="";e===""&&d.css(c,"display")==="none"&&d._data(c,"olddisplay",U(c.nodeName))}}for(g=0;g<i;g++){c=this[g];if(c.style){e=c.style.display;if(e===""||e==="none")c.style.display=
d._data(c,"olddisplay")||""}}return this}},hide:function(c,e,g){if(c||c===0)return this.animate(H("hide",3),c,e,g);else{c=0;for(e=this.length;c<e;c++)if(this[c].style){g=d.css(this[c],"display");g!=="none"&&!d._data(this[c],"olddisplay")&&d._data(this[c],"olddisplay",g)}for(c=0;c<e;c++)if(this[c].style)this[c].style.display="none";return this}},_toggle:d.fn.toggle,toggle:function(c,e,g){var i=typeof c==="boolean";if(d.isFunction(c)&&d.isFunction(e))this._toggle.apply(this,arguments);else c==null||
i?this.each(function(){var k=i?c:d(this).is(":hidden");d(this)[k?"show":"hide"]()}):this.animate(H("toggle",3),c,e,g);return this},fadeTo:function(c,e,g,i){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:e},c,g,i)},animate:function(c,e,g,i){var k=d.speed(e,g,i);if(d.isEmptyObject(c))return this.each(k.complete,[false]);c=d.extend({},c);return this[k.queue===false?"each":"queue"](function(){k.queue===false&&d._mark(this);var m=d.extend({},k),r=this.nodeType===1,B=r&&d(this).is(":hidden"),
C,I,X,ma,na;m.animatedProperties={};for(X in c){C=d.camelCase(X);if(X!==C){c[C]=c[X];delete c[X]}I=c[C];if(d.isArray(I)){m.animatedProperties[C]=I[1];I=c[C]=I[0]}else m.animatedProperties[C]=m.specialEasing&&m.specialEasing[C]||m.easing||"swing";if(I==="hide"&&B||I==="show"&&!B)return m.complete.call(this);if(r&&(C==="height"||C==="width")){m.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(d.css(this,"display")==="inline"&&d.css(this,"float")==="none")if(d.support.inlineBlockNeedsLayout){I=
U(this.nodeName);if(I==="inline")this.style.display="inline-block";else{this.style.display="inline";this.style.zoom=1}}else this.style.display="inline-block"}}if(m.overflow!=null)this.style.overflow="hidden";for(X in c){r=new d.fx(this,m,X);I=c[X];if(hc.test(I))r[I==="toggle"?B?"show":"hide":I]();else{C=ic.exec(I);ma=r.cur();if(C){I=parseFloat(C[2]);na=C[3]||(d.cssNumber[X]?"":"px");if(na!=="px"){d.style(this,X,(I||1)+na);ma=(I||1)/r.cur()*ma;d.style(this,X,ma+na)}if(C[1])I=(C[1]==="-="?-1:1)*I+ma;
r.custom(ma,I,na)}else r.custom(ma,I,"")}}return true})},stop:function(c,e){c&&this.queue([]);this.each(function(){var g=d.timers,i=g.length;for(e||d._unmark(true,this);i--;)if(g[i].elem===this){e&&g[i](true);g.splice(i,1)}});e||this.dequeue();return this}});d.each({slideDown:H("show",1),slideUp:H("hide",1),slideToggle:H("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,e){d.fn[c]=function(g,i,k){return this.animate(e,g,i,k)}});d.extend({speed:function(c,
e,g){var i=c&&typeof c==="object"?d.extend({},c):{complete:g||!g&&e||d.isFunction(c)&&c,duration:c,easing:g&&e||e&&!d.isFunction(e)&&e};i.duration=d.fx.off?0:typeof i.duration==="number"?i.duration:i.duration in d.fx.speeds?d.fx.speeds[i.duration]:d.fx.speeds._default;i.old=i.complete;i.complete=function(k){d.isFunction(i.old)&&i.old.call(this);if(i.queue!==false)d.dequeue(this);else k!==false&&d._unmark(this)};return i},easing:{linear:function(c,e,g,i){return g+i*c},swing:function(c,e,g,i){return(-Math.cos(c*
Math.PI)/2+0.5)*i+g}},timers:[],fx:function(c,e,g){this.options=e;this.elem=c;this.prop=g;e.orig=e.orig||{}}});d.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(d.fx.step[this.prop]||d.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var c,e=d.css(this.elem,this.prop);return isNaN(c=parseFloat(e))?!e||e==="auto"?0:e:c},custom:function(c,e,g){function i(r){return k.step(r)}
var k=this,m=d.fx;this.startTime=$a||ea();this.start=c;this.end=e;this.unit=g||this.unit||(d.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;i.elem=this.elem;if(i()&&d.timers.push(i)&&!db)db=setInterval(m.tick,m.interval)},show:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());d(this.elem).show()},hide:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop);
this.options.hide=true;this.custom(this.cur(),0)},step:function(c){var e=$a||ea(),g=true,i=this.elem,k=this.options,m;if(c||e>=k.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();k.animatedProperties[this.prop]=true;for(m in k.animatedProperties)if(k.animatedProperties[m]!==true)g=false;if(g){k.overflow!=null&&!d.support.shrinkWrapBlocks&&d.each(["","X","Y"],function(B,C){i.style["overflow"+C]=k.overflow[B]});k.hide&&d(i).hide();if(k.hide||k.show)for(var r in k.animatedProperties)d.style(i,
r,k.orig[r]);k.complete.call(i)}return false}else{if(k.duration==Infinity)this.now=e;else{c=e-this.startTime;this.state=c/k.duration;this.pos=d.easing[k.animatedProperties[this.prop]](this.state,c,0,1,k.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update()}return true}};d.extend(d.fx,{tick:function(){for(var c=d.timers,e=0;e<c.length;++e)c[e]()||c.splice(e--,1);c.length||d.fx.stop()},interval:13,stop:function(){clearInterval(db);db=null},speeds:{slow:600,fast:200,_default:400},
step:{opacity:function(c){d.style(c.elem,"opacity",c.now)},_default:function(c){if(c.elem.style&&c.elem.style[c.prop]!=null)c.elem.style[c.prop]=(c.prop==="width"||c.prop==="height"?Math.max(0,c.now):c.now)+c.unit;else c.elem[c.prop]=c.now}}});if(d.expr&&d.expr.filters)d.expr.filters.animated=function(c){return d.grep(d.timers,function(e){return c===e.elem}).length};var jc=/^t(?:able|d|h)$/i,Db=/^(?:body|html)$/i;d.fn.offset="getBoundingClientRect"in J.documentElement?function(c){var e=this[0],g;
if(c)return this.each(function(r){d.offset.setOffset(this,c,r)});if(!e||!e.ownerDocument)return null;if(e===e.ownerDocument.body)return d.offset.bodyOffset(e);try{g=e.getBoundingClientRect()}catch(i){}var k=e.ownerDocument,m=k.documentElement;if(!g||!d.contains(m,e))return g?{top:g.top,left:g.left}:{top:0,left:0};e=k.body;k=da(k);return{top:g.top+(k.pageYOffset||d.support.boxModel&&m.scrollTop||e.scrollTop)-(m.clientTop||e.clientTop||0),left:g.left+(k.pageXOffset||d.support.boxModel&&m.scrollLeft||
e.scrollLeft)-(m.clientLeft||e.clientLeft||0)}}:function(c){var e=this[0];if(c)return this.each(function(X){d.offset.setOffset(this,c,X)});if(!e||!e.ownerDocument)return null;if(e===e.ownerDocument.body)return d.offset.bodyOffset(e);d.offset.initialize();var g,i=e.offsetParent,k=e,m=e.ownerDocument,r=m.documentElement,B=m.body;g=(m=m.defaultView)?m.getComputedStyle(e,null):e.currentStyle;for(var C=e.offsetTop,I=e.offsetLeft;(e=e.parentNode)&&e!==B&&e!==r;){if(d.offset.supportsFixedPosition&&g.position===
"fixed")break;g=m?m.getComputedStyle(e,null):e.currentStyle;C-=e.scrollTop;I-=e.scrollLeft;if(e===i){C+=e.offsetTop;I+=e.offsetLeft;if(d.offset.doesNotAddBorder&&!(d.offset.doesAddBorderForTableAndCells&&jc.test(e.nodeName))){C+=parseFloat(g.borderTopWidth)||0;I+=parseFloat(g.borderLeftWidth)||0}k=i;i=e.offsetParent}if(d.offset.subtractsBorderForOverflowNotVisible&&g.overflow!=="visible"){C+=parseFloat(g.borderTopWidth)||0;I+=parseFloat(g.borderLeftWidth)||0}g=g}if(g.position==="relative"||g.position===
"static"){C+=B.offsetTop;I+=B.offsetLeft}if(d.offset.supportsFixedPosition&&g.position==="fixed"){C+=Math.max(r.scrollTop,B.scrollTop);I+=Math.max(r.scrollLeft,B.scrollLeft)}return{top:C,left:I}};d.offset={initialize:function(){var c=J.body,e=J.createElement("div"),g,i,k,m=parseFloat(d.css(c,"marginTop"))||0;d.extend(e.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});e.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
c.insertBefore(e,c.firstChild);g=e.firstChild;i=g.firstChild;k=g.nextSibling.firstChild.firstChild;this.doesNotAddBorder=i.offsetTop!==5;this.doesAddBorderForTableAndCells=k.offsetTop===5;i.style.position="fixed";i.style.top="20px";this.supportsFixedPosition=i.offsetTop===20||i.offsetTop===15;i.style.position=i.style.top="";g.style.overflow="hidden";g.style.position="relative";this.subtractsBorderForOverflowNotVisible=i.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=c.offsetTop!==m;c.removeChild(e);
d.offset.initialize=d.noop},bodyOffset:function(c){var e=c.offsetTop,g=c.offsetLeft;d.offset.initialize();if(d.offset.doesNotIncludeMarginInBodyOffset){e+=parseFloat(d.css(c,"marginTop"))||0;g+=parseFloat(d.css(c,"marginLeft"))||0}return{top:e,left:g}},setOffset:function(c,e,g){var i=d.css(c,"position");if(i==="static")c.style.position="relative";var k=d(c),m=k.offset(),r=d.css(c,"top"),B=d.css(c,"left"),C={},I={};if((i==="absolute"||i==="fixed")&&d.inArray("auto",[r,B])>-1){I=k.position();i=I.top;
B=I.left}else{i=parseFloat(r)||0;B=parseFloat(B)||0}if(d.isFunction(e))e=e.call(c,g,m);if(e.top!=null)C.top=e.top-m.top+i;if(e.left!=null)C.left=e.left-m.left+B;"using"in e?e.using.call(c,C):k.css(C)}};d.fn.extend({position:function(){if(!this[0])return null;var c=this[0],e=this.offsetParent(),g=this.offset(),i=Db.test(e[0].nodeName)?{top:0,left:0}:e.offset();g.top-=parseFloat(d.css(c,"marginTop"))||0;g.left-=parseFloat(d.css(c,"marginLeft"))||0;i.top+=parseFloat(d.css(e[0],"borderTopWidth"))||0;
i.left+=parseFloat(d.css(e[0],"borderLeftWidth"))||0;return{top:g.top-i.top,left:g.left-i.left}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent||J.body;c&&!Db.test(c.nodeName)&&d.css(c,"position")==="static";)c=c.offsetParent;return c})}});d.each(["Left","Top"],function(c,e){var g="scroll"+e;d.fn[g]=function(i){var k,m;if(i===b){k=this[0];if(!k)return null;return(m=da(k))?"pageXOffset"in m?m[c?"pageYOffset":"pageXOffset"]:d.support.boxModel&&m.document.documentElement[g]||
m.document.body[g]:k[g]}return this.each(function(){if(m=da(this))m.scrollTo(!c?i:d(m).scrollLeft(),c?i:d(m).scrollTop());else this[g]=i})}});d.each(["Height","Width"],function(c,e){var g=e.toLowerCase();d.fn["inner"+e]=function(){var i=this[0];return i&&i.style?parseFloat(d.css(i,g,"padding")):null};d.fn["outer"+e]=function(i){var k=this[0];return k&&k.style?parseFloat(d.css(k,g,i?"margin":"border")):null};d.fn[g]=function(i){var k=this[0];if(!k)return i==null?null:this;if(d.isFunction(i))return this.each(function(B){var C=
d(this);C[g](i.call(this,B,C[g]()))});if(d.isWindow(k)){var m=k.document.documentElement["client"+e],r=k.document.body;return k.document.compatMode==="CSS1Compat"&&m||r&&r["client"+e]||m}else if(k.nodeType===9)return Math.max(k.documentElement["client"+e],k.body["scroll"+e],k.documentElement["scroll"+e],k.body["offset"+e],k.documentElement["offset"+e]);else if(i===b){k=d.css(k,g);m=parseFloat(k);return d.isNaN(m)?k:m}else return this.css(g,typeof i==="string"?i:i+"px")}});a.jQuery=a.$=d})(window);
steal.loaded("jquery/jquery.js");
steal("jquery/view","jquery/lang/string/rsplit").then(function(a){var b=function(u){eval(u)},f=function(u){return u.substr(0,u.length-1)},h=a.String.rsplit,j=a.extend,l=a.isArray,q=function(u){return u.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/"/g,'\\"').replace(/\t/g,"\\t")},s=function(u){return u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&#34;").replace(/'/g,"&#39;")},v=function(u){if(this.constructor!=v){var t=new v(u);return function(N,P){return t.render(N,
P)}}if(typeof u=="function"){this.template={};this.template.process=u}else{j(this,v.options,u);this.template=G(this.text,this.type,this.name)}};a.EJS=v;v.prototype={constructor:v,render:function(u,t){u=u||{};this._extra_helpers=t;t=new v.Helpers(u,t||{});return this.template.process.call(u,u,t)}};v.text=function(u){if(typeof u=="string")return u;if(u===null||u===undefined)return"";var t=u.hookup&&function(N,P){u.hookup.call(u,N,P)}||typeof u=="function"&&u||l(u)&&function(N,P){for(var o=0;o<u.length;o++)u[o].hookup?
u[o].hookup(N,P):u[o](N,P)};if(t)return"data-view-id='"+a.View.hookup(t)+"'";return u.toString?u.toString():""};v.clean=function(u){return typeof u=="string"?s(u):typeof u=="number"?u:v.text(u)};var D=function(u,t,N){t=h(t,/\n/);for(var P=0;P<t.length;P++)x(u,t[P],N)},x=function(u,t,N){u.lines++;t=h(t,u.splitter);for(var P,o=0;o<t.length;o++){P=t[o];P!==null&&N(P,u)}},K=function(u,t){var N={};j(N,{left:u+"%",right:"%"+t,dLeft:u+"%%",dRight:"%%"+t,eeLeft:u+"%==",eLeft:u+"%=",cmnt:u+"%#",scan:D,lines:0});
N.splitter=new RegExp("("+[N.dLeft,N.dRight,N.eeLeft,N.eLeft,N.cmnt,N.left,N.right+"\n",N.right,"\n"].join(")|(").replace(/\[/g,"\\[").replace(/\]/g,"\\]")+")");return N},G=function(u,t,N){u=u.replace(/\r\n/g,"\n").replace(/\r/g,"\n");t=t||"<";var P=new v.Buffer(["var ___v1ew = [];"],[]),o="",y=function(V){P.push("___v1ew.push(",'"',q(V),'");')},z=null,E=function(){o=""};D(K(t,t==="["?"]":">"),u||"",function(V,Q){if(z===null)switch(V){case "\n":o+="\n";y(o);P.cr();E();break;case Q.left:case Q.eLeft:case Q.eeLeft:case Q.cmnt:z=
V;o.length>0&&y(o);E();break;case Q.dLeft:o+=Q.left;break;default:o+=V;break}else switch(V){case Q.right:switch(z){case Q.left:if(o[o.length-1]=="\n"){o=f(o);P.push(o,";");P.cr()}else P.push(o,";");break;case Q.eLeft:P.push("___v1ew.push(","(jQuery.EJS.clean(",o,")));");break;case Q.eeLeft:P.push("___v1ew.push(","(jQuery.EJS.text(",o,")));");break}z=null;E();break;case Q.dRight:o+=Q.right;break;default:o+=V;break}});o.length>0&&P.push("___v1ew.push(",'"',q(o)+'");');u={out:"try { with(_VIEW) { with (_CONTEXT) {"+
P.close()+" return ___v1ew.join('');}}}catch(e){e.lineNumber=null;throw e;}"};b.call(u,"this.process = (function(_CONTEXT,_VIEW){"+u.out+"});\r\n//@ sourceURL="+N+".js");return u};v.Buffer=function(u,t){this.line=[];this.script=[];this.post=t;this.push.apply(this,u)};v.Buffer.prototype={push:function(){this.line.push.apply(this.line,arguments)},cr:function(){this.script.push(this.line.join(""),"\n");this.line=[]},close:function(){if(this.line.length>0){this.script.push(this.line.join(""));this.line=
[]}this.post.length&&this.push.apply(this,this.post);this.script.push(";");return this.script.join("")}};v.options={type:"<",ext:".ejs"};v.Helpers=function(u,t){this._data=u;this._extras=t;j(this,t)};v.Helpers.prototype={plugin:function(){var u=a.makeArray(arguments),t=u.shift();return function(N){N=a(N);N[t].apply(N,u)}},view:function(u,t,N){N=N||this._extras;t=t||this._data;return a.View(u,t,N)}};a.View.register({suffix:"ejs",script:function(u,t){return"jQuery.EJS(function(_CONTEXT,_VIEW) { "+(new v({text:t,
name:u})).template.out+" })"},renderer:function(u,t){var N=new v({text:t,name:u});return function(P,o){return N.render.call(N,P,o)}}})});steal.loaded("jquery/view/ejs/ejs.js");
steal("jquery").then(function(a){var b=function(o){return o.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},f=1,h,j,l,q=function(o){return o&&a.isFunction(o.always)},s=function(o){var y=[];if(q(o))return[o];else for(var z in o)q(o[z])&&y.push(o[z]);return y},v=function(o){return a.isArray(o)&&o.length===3&&o[1]==="success"?o[0]:o};h=a.View=function(o,y,z,E){if(typeof z==="function"){E=z;z=undefined}var V=s(y);if(V.length){var Q=a.Deferred();V.push(l(o,true));a.when.apply(a,V).then(function(T){var ba=
a.makeArray(arguments),ia=ba.pop()[0];if(q(y))y=v(T);else for(var ca in y)if(q(y[ca]))y[ca]=v(ba.shift());ba=ia(y,z);Q.resolve(ba);E&&E(ba)});return Q.promise()}else{var F;V=typeof E==="function";Q=l(o,V);if(V){F=Q;Q.done(function(T){E(T(y,z))})}else Q.done(function(T){F=T(y,z)});return F}};j=function(o,y){if(!o.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+y;};l=function(o,y){return a.ajax({url:o,dataType:"view",async:y})};a.ajaxTransport("view",function(o,y){o=
y.url;var z=o.match(/\.[\w\d]+$/),E,V,Q,F=o,T,ba=function(ia){ia=E.renderer(Q,ia);if(h.cache)h.cached[Q]=ia;return{view:ia}};if(V=document.getElementById(o))z=V.type.match(/\/[\d\w]+$/)[0].replace(/^\//,".");if(!z){z=h.ext;F+=h.ext}Q=b(F);if(F.match(/^\/\//))F=typeof steal==="undefined"?"/"+F.substr(2):steal.root.mapJoin(F.substr(2));E=h.types[z];return{send:function(ia,ca){if(h.cached[Q])return ca(200,"success",{view:h.cached[Q]});else if(V)ca(200,"success",ba(V.innerHTML));else T=a.ajax({async:y.async,
url:F,dataType:"text",error:function(){j("",F);ca(404)},success:function(ea){j(ea,F);ca(200,"success",ba(ea))}})},abort:function(){T&&T.abort()}}});a.extend(h,{hookups:{},hookup:function(o){var y=++f;h.hookups[y]=o;return y},cached:{},cache:true,register:function(o){this.types["."+o.suffix]=o;window.steal&&steal.type(o.suffix+" view js",function(y,z,E){z=h.types["."+y.type];var V=b(y.rootSrc);y.text=z.script(V,y.text);E()})},types:{},ext:".ejs",registerScript:function(o,y,z){return"$.View.preload('"+
y+"',"+h.types["."+o].script(y,z)+");"},preload:function(o,y){h.cached[o]=function(z,E){return y.call(z,z,E)}}});window.steal&&steal.type("view js",function(o,y,z){y=h.types["."+o.type];var E=b(o.rootSrc);o.text="steal('"+(y.plugin||"jquery/view/"+o.type)+"').then(function($){$.View.preload('"+E+"',"+o.text+");\n})";z()});var D,x,K,G,u,t,N;D=function(o){var y=a.fn[o];a.fn[o]=function(){var z=a.makeArray(arguments),E,V,Q=this;if(q(z[0])){z[0].done(function(F){x.call(Q,[F],y)});return this}else if(K(z)){if(E=
u(z)){V=z[E];z[E]=function(F){x.call(Q,[F],y);V.call(Q,F)};h.apply(h,z);return this}z=h.apply(h,z);if(q(z)){z.done(function(F){x.call(Q,[F],y)});return this}else z=[z]}return x.call(this,z,y)}};x=function(o,y){var z;for(var E in h.hookups)break;if(E&&o[0]&&G(o[0])){z=h.hookups;h.hookups={};o[0]=a(o[0])}y=y.apply(this,o);z&&t(o[0],z);return y};K=function(o){var y=typeof o[1];return typeof o[0]=="string"&&(y=="object"||y=="function")&&!o[1].nodeType&&!o[1].jquery};G=function(o){if(o.jquery||o.nodeType===
1)return true;else if(typeof o==="string"){o=a.trim(o);return o.substr(0,1)==="<"&&o.substr(o.length-1,1)===">"&&o.length>=3}else return false};u=function(o){return typeof o[3]==="function"?3:typeof o[2]==="function"&&2};t=function(o,y){var z,E=0,V,Q;o=o.filter(function(){return this.nodeType!=3});o=o.add("[data-view-id]",o);for(z=o.length;E<z;E++)if(o[E].getAttribute&&(V=o[E].getAttribute("data-view-id"))&&(Q=y[V])){Q(o[E],V);delete y[V];o[E].removeAttribute("data-view-id")}a.extend(h.hookups,y)};
a.fn.hookup=function(){var o=h.hookups;h.hookups={};t(this,o);return this};N=["prepend","append","after","before","text","html","replaceWith","val"];for(var P=0;P<N.length;P++)D(N[P])});steal.loaded("jquery/view/view.js");steal("jquery/lang/string",function(a){a.String.rsplit=function(b,f){for(var h=f.exec(b),j=[],l;h!==null;){l=h.index;if(l!==0){j.push(b.substring(0,l));b=b.slice(l)}j.push(h[0]);b=b.slice(h[0].length);h=f.exec(b)}b!==""&&j.push(b);return j}});steal.loaded("jquery/lang/string/rsplit/rsplit.js");
steal("jquery").then(function(a){var b={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},f=function(q,s,v){return q[s]!==undefined?q[s]:v&&(q[s]={})},h=function(q){return(q=typeof q)&&(q=="function"||q=="object")},j=function(q,s,v){q=q?q.split(b.dot):[];var D=q.length;s=a.isArray(s)?s:[s||window];var x,K,G,u=0;if(D==0)return s[0];for(;x=s[u++];){for(G=0;G<D-1&&h(x);G++)x=f(x,q[G],v);if(h(x)){K=f(x,q[G],v);
if(K!==undefined){v===false&&delete x[q[G]];return K}}}},l=a.String=a.extend(a.String||{},{getObject:j,capitalize:function(q){return q.charAt(0).toUpperCase()+q.substr(1)},camelize:function(q){q=l.classize(q);return q.charAt(0).toLowerCase()+q.substr(1)},classize:function(q,s){q=q.split(b.undHash);for(var v=0;v<q.length;v++)q[v]=l.capitalize(q[v]);return q.join(s||"")},niceName:function(q){return l.classize(q," ")},underscore:function(q){return q.replace(b.colons,"/").replace(b.words,"$1_$2").replace(b.lowUp,
"$1_$2").replace(b.dash,"_").toLowerCase()},sub:function(q,s,v){var D=[];D.push(q.replace(b.replacer,function(x,K){x=j(K,s,typeof v=="boolean"?!v:v);K=typeof x;if((K==="object"||K==="function")&&K!==null){D.push(x);return""}else return""+x}));return D.length<=1?D[0]:D},_regs:b})});steal.loaded("jquery/lang/string/string.js");
(function(a,b){if(a.cleanData){var f=a.cleanData;a.cleanData=function(j){for(var l=0,q;(q=j[l])!=null;l++)a(q).triggerHandler("remove");f(j)}}else{var h=a.fn.remove;a.fn.remove=function(j,l){return this.each(function(){if(!l)if(!j||a.filter(j,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return h.call(a(this),j,l)})}}a.widget=function(j,l,q){var s=j.split(".")[0],v;j=j.split(".")[1];v=s+"-"+j;if(!q){q=l;l=a.Widget}a.expr[":"][v]=function(D){return!!a.data(D,
j)};a[s]=a[s]||{};a[s][j]=function(D,x){arguments.length&&this._createWidget(D,x)};l=new l;l.options=a.extend(true,{},l.options);a[s][j].prototype=a.extend(true,l,{namespace:s,widgetName:j,widgetEventPrefix:a[s][j].prototype.widgetEventPrefix||j,widgetBaseClass:v},q);a.widget.bridge(j,a[s][j])};a.widget.bridge=function(j,l){a.fn[j]=function(q){var s=typeof q==="string",v=Array.prototype.slice.call(arguments,1),D=this;q=!s&&v.length?a.extend.apply(null,[true,q].concat(v)):q;if(s&&q.charAt(0)==="_")return D;
s?this.each(function(){var x=a.data(this,j);if(!x)throw"cannot call methods on "+j+" prior to initialization; attempted to call method '"+q+"'";if(!a.isFunction(x[q]))throw"no such method '"+q+"' for "+j+" widget instance";var K=x[q].apply(x,v);if(K!==x&&K!==b){D=K;return false}}):this.each(function(){var x=a.data(this,j);x?x.option(q||{})._init():a.data(this,j,new l(q,this))});return D}};a.Widget=function(j,l){arguments.length&&this._createWidget(j,l)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",
options:{disabled:false},_createWidget:function(j,l){a.data(l,this.widgetName,this);this.element=a(l);this.options=a.extend(true,{},this.options,this._getCreateOptions(),j);var q=this;this.element.bind("remove."+this.widgetName,function(){q.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){var j={};if(a.metadata)j=a.metadata.get(element)[this.widgetName];return j},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);
this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(j,l){var q=j;if(arguments.length===0)return a.extend({},this.options);if(typeof j==="string"){if(l===b)return this.options[j];q={};q[j]=l}this._setOptions(q);return this},_setOptions:function(j){var l=this;a.each(j,function(q,s){l._setOption(q,s)});return this},_setOption:function(j,l){this.options[j]=l;if(j===
"disabled")this.widget()[l?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",l);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(j,l,q){var s=this.options[j];l=a.Event(l);l.type=(j===this.widgetEventPrefix?j:this.widgetEventPrefix+j).toLowerCase();q=q||{};if(l.originalEvent){j=a.event.props.length;for(var v;j;){v=a.event.props[--j];l[v]=l.originalEvent[v]}}this.element.trigger(l,
q);return!(a.isFunction(s)&&s.call(this.element[0],l,q)===false||l.isDefaultPrevented())}}})(jQuery);
(function(a,b){a.widget("mobile.widget",{_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_getCreateOptions:function(){var f=this.element,h={};a.each(this.options,function(j){var l=f.jqmData(j.replace(/[A-Z]/g,function(q){return"-"+q.toLowerCase()}));if(l!==b)h[j]=l});return h},enhanceWithin:function(f){var h=a(f).closest(":jqmData(role='page')").data("page");h=h&&h.keepNativeSelector()||"";a(this.options.initSelector,f).not(h)[this.widgetName]()}})})(jQuery);
(function(a){a(window);var b=a("html");a.mobile.media=function(){var f={},h=a("<div id='jquery-mediatest'>"),j=a("<body>").append(h);return function(l){if(!(l in f)){var q=document.createElement("style"),s="@media "+l+" { #jquery-mediatest { position:absolute; } }";q.type="text/css";if(q.styleSheet)q.styleSheet.cssText=s;else q.appendChild(document.createTextNode(s));b.prepend(j).prepend(q);f[l]=h.css("position")==="absolute";j.add(q).remove()}return f[l]}}()})(jQuery);
(function(a,b){function f(x){var K=x.charAt(0).toUpperCase()+x.substr(1);x=(x+" "+q.join(K+" ")+K).split(" ");for(var G in x)if(l[x[G]]!==b)return true}function h(){var x=location.protocol+"//"+location.host+location.pathname+"ui-dir/",K=a("head base"),G=null,u="",t;if(K.length)u=K.attr("href");else K=G=a("<base>",{href:x}).appendTo("head");t=a("<a href='testurl' />").prependTo(j)[0].href;K[0].href=u||location.pathname;G&&G.remove();return t.indexOf(x)===0}var j=a("<body>").prependTo("html"),l=j[0].style,
q=["Webkit","Moz","O"],s="palmGetResource"in window,v=window.operamini&&{}.toString.call(window.operamini)==="[object OperaMini]",D=window.blackberry;a.mobile.browser={};a.mobile.browser.ie=function(){for(var x=3,K=document.createElement("div"),G=K.all||[];K.innerHTML="<!--[if gt IE "+ ++x+"]><br><![endif]--\>",G[0];);return x>4?x:!x}();a.extend(a.support,{orientation:"orientation"in window&&"onorientationchange"in window,touch:"ontouchend"in document,cssTransitions:"WebKitTransitionEvent"in window,
pushState:"pushState"in history&&"replaceState"in history,mediaquery:a.mobile.media("only all"),cssPseudoElement:!!f("content"),touchOverflow:!!f("overflowScrolling"),boxShadow:!!f("boxShadow")&&!D,scrollTop:("pageXOffset"in window||"scrollTop"in document.documentElement||"scrollTop"in j[0])&&!s&&!v,dynamicBaseTag:h()});j.remove();s=function(){var x=window.navigator.userAgent;return x.indexOf("Nokia")>-1&&(x.indexOf("Symbian/3")>-1||x.indexOf("Series60/5")>-1)&&x.indexOf("AppleWebKit")>-1&&x.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();
a.mobile.ajaxBlacklist=window.blackberry&&!window.WebKitPoint||v||s;s&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});a.support.boxShadow||a("html").addClass("ui-mobile-nosupport-boxshadow")})(jQuery);
(function(a,b,f,h){function j(W){for(;W&&typeof W.originalEvent!=="undefined";)W=W.originalEvent;return W}function l(W,Z){var ga=W.type,ka,va,oa;W=a.Event(W);W.type=Z;ka=W.originalEvent;va=a.event.props;if(ka)for(oa=va.length;oa;){Z=va[--oa];W[Z]=ka[Z]}if(ga.search(/mouse(down|up)|click/)>-1&&!W.which)W.which=1;if(ga.search(/^touch/)!==-1){Z=j(ka);ga=Z.touches;Z=Z.changedTouches;if(ga=ga&&ga.length?ga[0]:Z&&Z.length?Z[0]:h){ka=0;for(len=ba.length;ka<len;ka++){Z=ba[ka];W[Z]=ga[Z]}}}return W}function q(W){for(var Z=
{},ga,ka;W;){ga=a.data(W,F);for(ka in ga)if(ga[ka])Z[ka]=Z.hasVirtualBinding=true;W=W.parentNode}return Z}function s(W,Z){for(var ga;W;){if((ga=a.data(W,F))&&(!Z||ga[Z]))return W;W=W.parentNode}return null}function v(){J=false}function D(){J=true}function x(){O=0;U.length=0;da=false;D()}function K(){v()}function G(){u();ca=setTimeout(function(){ca=0;x()},a.vmouse.resetTimerDuration)}function u(){if(ca){clearTimeout(ca);ca=0}}function t(W,Z,ga){var ka;if(ga&&ga[W]||!ga&&s(Z.target,W)){ka=l(Z,W);a(Z.target).trigger(ka)}return ka}
function N(W){var Z=a.data(W.target,T);if(!da&&(!O||O!==Z))if(Z=t("v"+W.type,W)){Z.isDefaultPrevented()&&W.preventDefault();Z.isPropagationStopped()&&W.stopPropagation();Z.isImmediatePropagationStopped()&&W.stopImmediatePropagation()}}function P(W){var Z=j(W).touches,ga;if(Z&&Z.length===1){ga=W.target;Z=q(ga);if(Z.hasVirtualBinding){O=d++;a.data(ga,T,O);u();K();H=false;ga=j(W).touches[0];ea=ga.pageX;n=ga.pageY;t("vmouseover",W,Z);t("vmousedown",W,Z)}}}function o(W){if(!J){H||t("vmousecancel",W,q(W.target));
H=true;G()}}function y(W){if(!J){var Z=j(W).touches[0],ga=H,ka=a.vmouse.moveDistanceThreshold;H=H||Math.abs(Z.pageX-ea)>ka||Math.abs(Z.pageY-n)>ka;flags=q(W.target);H&&!ga&&t("vmousecancel",W,flags);t("vmousemove",W,flags);G()}}function z(W){if(!J){D();var Z=q(W.target),ga;t("vmouseup",W,Z);if(!H)if((ga=t("vclick",W,Z))&&ga.isDefaultPrevented()){ga=j(W).changedTouches[0];U.push({touchID:O,x:ga.clientX,y:ga.clientY});da=true}t("vmouseout",W,Z);H=false;G()}}function E(W){W=a.data(W,F);var Z;if(W)for(Z in W)if(W[Z])return true;
return false}function V(){}function Q(W){var Z=W.substr(1);return{setup:function(){E(this)||a.data(this,F,{});a.data(this,F)[W]=true;ia[W]=(ia[W]||0)+1;ia[W]===1&&qa.bind(Z,N);a(this).bind(Z,V);if(ta){ia.touchstart=(ia.touchstart||0)+1;ia.touchstart===1&&qa.bind("touchstart",P).bind("touchend",z).bind("touchmove",y).bind("scroll",o)}},teardown:function(){--ia[W];ia[W]||qa.unbind(Z,N);if(ta){--ia.touchstart;ia.touchstart||qa.unbind("touchstart",P).unbind("touchmove",y).unbind("touchend",z).unbind("scroll",
o)}var ga=a(this),ka=a.data(this,F);if(ka)ka[W]=false;ga.unbind(Z,V);E(this)||ga.removeData(F)}}}var F="virtualMouseBindings",T="virtualTouchID";b="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" ");var ba="clientX clientY pageX pageY screenX screenY".split(" "),ia={},ca=0,ea=0,n=0,H=false,U=[],da=false,J=false,ta="addEventListener"in f,qa=a(f),d=1,O=0;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var R=0;R<b.length;R++)a.event.special[b[R]]=
Q(b[R]);ta&&f.addEventListener("click",function(W){var Z=U.length,ga=W.target,ka,va,oa,Ba,ya;if(Z){ka=W.clientX;va=W.clientY;threshold=a.vmouse.clickDistanceThreshold;for(oa=ga;oa;){for(Ba=0;Ba<Z;Ba++){ya=U[Ba];if(oa===ga&&Math.abs(ya.x-ka)<threshold&&Math.abs(ya.y-va)<threshold||a.data(oa,T)===ya.touchID){W.preventDefault();W.stopPropagation();return}}oa=oa.parentNode}}},true)})(jQuery,window,document);
(function(a,b,f){function h(v,D,x){var K=x.type;x.type=D;a.event.handle.call(v,x);x.type=K}a.each("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(v,D){a.fn[D]=function(x){return x?this.bind(D,x):this.trigger(D)};a.attrFn[D]=true});var j=a.support.touch,l=j?"touchstart":"mousedown",q=j?"touchend":"mouseup",s=j?"touchmove":"mousemove";a.event.special.scrollstart={enabled:true,setup:function(){function v(G,
u){x=u;h(D,x?"scrollstart":"scrollstop",G)}var D=this,x,K;a(D).bind("touchmove scroll",function(G){if(a.event.special.scrollstart.enabled){x||v(G,true);clearTimeout(K);K=setTimeout(function(){v(G,false)},50)}})}};a.event.special.tap={setup:function(){var v=this,D=a(v);D.bind("vmousedown",function(x){function K(){clearTimeout(N)}function G(){K();D.unbind("vclick",u).unbind("vmouseup",K).unbind("vmousecancel",G)}function u(P){G();t==P.target&&h(v,"tap",P)}if(x.which&&x.which!==1)return false;var t=
x.target,N;D.bind("vmousecancel",G).bind("vmouseup",K).bind("vclick",u);N=setTimeout(function(){h(v,"taphold",a.Event("taphold"))},750)})}};a.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1E3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var v=a(this);v.bind(l,function(D){function x(t){if(G){var N=t.originalEvent.touches?t.originalEvent.touches[0]:t;u={time:(new Date).getTime(),coords:[N.pageX,N.pageY]};Math.abs(G.coords[0]-u.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&
t.preventDefault()}}var K=D.originalEvent.touches?D.originalEvent.touches[0]:D,G={time:(new Date).getTime(),coords:[K.pageX,K.pageY],origin:a(D.target)},u;v.bind(s,x).one(q,function(){v.unbind(s,x);if(G&&u)if(u.time-G.time<a.event.special.swipe.durationThreshold&&Math.abs(G.coords[0]-u.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(G.coords[1]-u.coords[1])<a.event.special.swipe.verticalDistanceThreshold)G.origin.trigger("swipe").trigger(G.coords[0]>u.coords[0]?"swipeleft":
"swiperight");G=u=f})})}};(function(v,D){function x(){var t=G();if(t!==u){u=t;K.trigger("orientationchange")}}var K=v(D),G,u;v.event.special.orientationchange={setup:function(){if(v.support.orientation&&v.mobile.orientationChangeEnabled)return false;u=G();K.bind("throttledresize",x)},teardown:function(){if(v.support.orientation&&v.mobile.orientationChangeEnabled)return false;K.unbind("throttledresize",x)},add:function(t){var N=t.handler;t.handler=function(P){P.orientation=G();return N.apply(this,
arguments)}}};v.event.special.orientationchange.orientation=G=function(){var t=true;t=document.documentElement;return(t=v.support.orientation?D.orientation%180==0:t&&t.clientWidth/t.clientHeight<1.1)?"portrait":"landscape"}})(jQuery,b);(function(){a.event.special.throttledresize={setup:function(){a(this).bind("resize",v)},teardown:function(){a(this).unbind("resize",v)}};var v=function(){K=(new Date).getTime();G=K-D;if(G>=250){D=K;a(this).trigger("throttledresize")}else{x&&clearTimeout(x);x=setTimeout(v,
250-G)}},D=0,x,K,G})();a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(v,D){a.event.special[v]={setup:function(){a(this).bind(D,a.noop)}}})})(jQuery,this);
(function(a,b,f){function h(x){x=x||location.href;return"#"+x.replace(/^[^#]*#?(.*)$/,"$1")}var j="hashchange",l=document,q,s=a.event.special,v=l.documentMode,D="on"+j in b&&(v===f||v>7);a.fn[j]=function(x){return x?this.bind(j,x):this.trigger(j)};a.fn[j].delay=50;s[j]=a.extend(s[j],{setup:function(){if(D)return false;a(q.start)},teardown:function(){if(D)return false;a(q.stop)}});q=function(){function x(){var o=h(),y=P(u);if(o!==u){N(u=o,y);a(b).trigger(j)}else if(y!==u)location.href=location.href.replace(/#.*/,
"")+y;G=setTimeout(x,a.fn[j].delay)}var K={},G,u=h(),t=function(o){return o},N=t,P=t;K.start=function(){G||x()};K.stop=function(){G&&clearTimeout(G);G=f};a.browser.msie&&!D&&function(){var o,y;K.start=function(){if(!o){y=(y=a.fn[j].src)&&y+h();o=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){y||N(h());x()}).attr("src",y||"javascript:0").insertAfter("body")[0].contentWindow;l.onpropertychange=function(){try{if(event.propertyName==="title")o.document.title=l.title}catch(z){}}}};
K.stop=t;P=function(){return h(o.location.href)};N=function(z,E){var V=o.document,Q=a.fn[j].domain;if(z!==E){V.title=l.title;V.open();Q&&V.write('<script>document.domain="'+Q+'"<\/script>');V.close();o.location.hash=z}}}();return K}()})(jQuery,this);
(function(a){a.widget("mobile.page",a.mobile.widget,{options:{theme:"c",domCache:false,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){this._trigger("beforecreate");this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme)},keepNativeSelector:function(){var b=this.options;if(b.keepNative&&a.trim(b.keepNative)&&b.keepNative!==b.keepNativeDefault)return[b.keepNative,b.keepNativeDefault].join(", ");return b.keepNativeDefault}})})(jQuery);
(function(a,b){var f={};a.extend(a.mobile,{ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",ajaxEnabled:true,hashListeningEnabled:true,linkBindingEnabled:true,defaultPageTransition:"slide",minScrollBack:250,defaultDialogTransition:"pop",loadingMessage:"loading",pageLoadErrorMessage:"Error Loading Page",autoInitializePage:true,pushStateEnabled:true,orientationChangeEnabled:true,gradeA:function(){return a.support.mediaquery||a.mobile.browser.ie&&a.mobile.browser.ie>=
7},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(l){if(a.type(l)!=="number")l=a.mobile.defaultHomeScroll;a.event.special.scrollstart.enabled=false;
setTimeout(function(){b.scrollTo(0,l);a(document).trigger("silentscroll",{x:0,y:l})},20);setTimeout(function(){a.event.special.scrollstart.enabled=true},150)},nsNormalizeDict:f,nsNormalize:function(l){if(l)return f[l]||(f[l]=a.camelCase(a.mobile.ns+l))},getInheritedTheme:function(l,q){l=l[0];for(var s="",v=/ui-(bar|body)-([a-z])\b/,D,x;l;){D=l.className||"";if((x=v.exec(D))&&(s=x[2]))break;l=l.parentNode}return s||q||"a"}});a.fn.jqmData=function(l,q){var s;if(typeof l!="undefined")s=this.data(l?a.mobile.nsNormalize(l):
l,q);return s};a.jqmData=function(l,q,s){var v;if(typeof q!="undefined")v=a.data(l,q?a.mobile.nsNormalize(q):q,s);return v};a.fn.jqmRemoveData=function(l){return this.removeData(a.mobile.nsNormalize(l))};a.jqmRemoveData=function(l,q){return a.removeData(l,a.mobile.nsNormalize(q))};a.fn.removeWithDependents=function(){a.removeWithDependents(this)};a.removeWithDependents=function(l){l=a(l);(l.jqmData("dependents")||a()).remove();l.remove()};a.fn.addDependents=function(l){a.addDependents(a(this),l)};
a.addDependents=function(l,q){var s=a(l).jqmData("dependents")||a();a(l).jqmData("dependents",a.merge(s,q))};a.fn.getEncodedText=function(){return a("<div/>").text(a(this).text()).html()};var h=a.find,j=/:jqmData\(([^)]*)\)/g;a.find=function(l,q,s,v){l=l.replace(j,"[data-"+(a.mobile.ns||"")+"$1]");return h.call(this,l,q,s,v)};a.extend(a.find,h);a.find.matches=function(l,q){return a.find(l,null,null,q)};a.find.matchesSelector=function(l,q){return a.find(q,null,null,[l]).length>0}})(jQuery,this);
(function(a,b){function f(n){var H=n.find(".ui-title:eq(0)");H.length?H.focus():n.focus()}function h(n){if(N&&(!N.closest(".ui-page-active").length||n))N.removeClass(a.mobile.activeBtnClass);N=null}function j(){y=false;o.length>0&&a.mobile.changePage.apply(null,o.pop())}function l(n,H,U,da){var J=a.mobile.urlHistory.getActive(),ta=a.support.touchOverflow&&a.mobile.touchOverflowEnabled,qa=J.lastScroll||(ta?0:a.mobile.defaultHomeScroll);J=q();window.scrollTo(0,a.mobile.defaultHomeScroll);H&&H.data("page")._trigger("beforehide",
null,{nextPage:n});ta||n.height(J+qa);n.data("page")._trigger("beforeshow",null,{prevPage:H||a("")});a.mobile.hidePageLoadingMsg();if(ta&&qa){n.addClass("ui-mobile-pre-transition");f(n);n.is(".ui-native-fixed")?n.find(".ui-content").scrollTop(qa):n.scrollTop(qa)}U=(a.mobile.transitionHandlers[U||"none"]||a.mobile.defaultTransitionHandler)(U,da,n,H);U.done(function(){if(!ta){n.height("");f(n)}ta||a.mobile.silentScroll(qa);if(H){ta||H.height("");H.data("page")._trigger("hide",null,{nextPage:n})}n.data("page")._trigger("show",
null,{prevPage:H||a("")})});return U}function q(){var n=a.event.special.orientationchange.orientation()==="portrait",H=n?screen.availHeight:screen.availWidth;n=Math.max(n?480:320,a(window).height());return Math.min(H,n)}function s(){a.support.touchOverflow&&a.mobile.touchOverflowEnabled||a("."+a.mobile.activePageClass).css("min-height",q())}function v(n,H){H&&n.attr("data-"+a.mobile.ns+"role",H);n.page()}function D(n){for(;n;){if(typeof n.nodeName==="string"&&n.nodeName.toLowerCase()=="a")break;n=
n.parentNode}return n}function x(n){n=a(n).closest(".ui-page").jqmData("url");var H=Q.hrefNoHash;if(!n||!t.isPath(n))n=H;return t.makeUrlAbsolute(n,H)}var K=a(window),G=a("html"),u=a("head"),t={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(n){if(a.type(n)==="object")return n;n=t.urlParseRE.exec(n||"")||[];return{href:n[0]||"",hrefNoHash:n[1]||
"",hrefNoSearch:n[2]||"",domain:n[3]||"",protocol:n[4]||"",doubleSlash:n[5]||"",authority:n[6]||"",username:n[8]||"",password:n[9]||"",host:n[10]||"",hostname:n[11]||"",port:n[12]||"",pathname:n[13]||"",directory:n[14]||"",filename:n[15]||"",search:n[16]||"",hash:n[17]||""}},makePathAbsolute:function(n,H){if(n&&n.charAt(0)==="/")return n;n=n||"";H=(H=H?H.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?H.split("/"):[];n=n.split("/");for(var U=0;U<n.length;U++){var da=n[U];switch(da){case ".":break;case "..":H.length&&
H.pop();break;default:H.push(da);break}}return"/"+H.join("/")},isSameDomain:function(n,H){return t.parseUrl(n).domain===t.parseUrl(H).domain},isRelativeUrl:function(n){return t.parseUrl(n).protocol===""},isAbsoluteUrl:function(n){return t.parseUrl(n).protocol!==""},makeUrlAbsolute:function(n,H){if(!t.isRelativeUrl(n))return n;n=t.parseUrl(n);H=t.parseUrl(H);var U=n.protocol||H.protocol,da=n.protocol?n.doubleSlash:n.doubleSlash||H.doubleSlash,J=n.authority||H.authority,ta=n.pathname!=="",qa=t.makePathAbsolute(n.pathname||
H.filename,H.pathname);return U+da+J+qa+(n.search||!ta&&H.search||"")+n.hash},addSearchParams:function(n,H){n=t.parseUrl(n);H=typeof H==="object"?a.param(H):H;var U=n.search||"?";return n.hrefNoSearch+U+(U.charAt(U.length-1)!=="?"?"&":"")+H+(n.hash||"")},convertUrlToDataUrl:function(n){var H=t.parseUrl(n);if(t.isEmbeddedPage(H))return H.hash.split(z)[0].replace(/^#/,"");else if(t.isSameDomain(H,Q))return H.hrefNoHash.replace(Q.domain,"");return n},get:function(n){if(n===b)n=location.hash;return t.stripHash(n).replace(/[^\/]*\.[^\/*]+$/,
"")},getFilePath:function(n){var H="&"+a.mobile.subPageUrlKey;return n&&n.split(H)[0].split(z)[0]},set:function(n){location.hash=n},isPath:function(n){return/\//.test(n)},clean:function(n){return n.replace(Q.domain,"")},stripHash:function(n){return n.replace(/^#/,"")},cleanHash:function(n){return t.stripHash(n.replace(/\?.*$/,"").replace(z,""))},isExternal:function(n){n=t.parseUrl(n);return n.protocol&&n.domain!==V.domain?true:false},hasProtocol:function(n){return/^(:?\w+:)/.test(n)},isFirstPageUrl:function(n){n=
t.parseUrl(t.makeUrlAbsolute(n,Q));var H=a.mobile.firstPage;H=H&&H[0]?H[0].id:b;return(n.hrefNoHash===V.hrefNoHash||F&&n.hrefNoHash===Q.hrefNoHash)&&(!n.hash||n.hash==="#"||H&&n.hash.replace(/^#/,"")===H)},isEmbeddedPage:function(n){n=t.parseUrl(n);if(n.protocol!=="")return n.hash&&(n.hrefNoHash===V.hrefNoHash||F&&n.hrefNoHash===Q.hrefNoHash);return/^#/.test(n.href)}},N=null,P={stack:[],activeIndex:0,getActive:function(){return P.stack[P.activeIndex]},getPrev:function(){return P.stack[P.activeIndex-
1]},getNext:function(){return P.stack[P.activeIndex+1]},addNew:function(n,H,U,da,J){P.getNext()&&P.clearForward();P.stack.push({url:n,transition:H,title:U,pageUrl:da,role:J});P.activeIndex=P.stack.length-1},clearForward:function(){P.stack=P.stack.slice(0,P.activeIndex+1)},directHashChange:function(n){var H,U,da;this.getActive();a.each(P.stack,function(J,ta){if(n.currentUrl===ta.url){H=J<P.activeIndex;U=!H;da=J}});this.activeIndex=da!==b?da:this.activeIndex;if(H)(n.either||n.isBack)(true);else if(U)(n.either||
n.isForward)(false)},ignoreNextHashChange:false},o=[],y=false,z="&ui-state=dialog",E=u.children("base"),V=t.parseUrl(location.href),Q=E.length?t.parseUrl(t.makeUrlAbsolute(E.attr("href"),V.href)):V,F=V.hrefNoHash!==Q.hrefNoHash,T=a.support.dynamicBaseTag?{element:E.length?E:a("<base>",{href:Q.hrefNoHash}).prependTo(u),set:function(n){T.element.attr("href",t.makeUrlAbsolute(n,Q))},reset:function(){T.element.attr("href",Q.hrefNoHash)}}:b,ba=true,ia,ca,ea;ia=function(){var n=K;if(a.support.touchOverflow&&
a.mobile.touchOverflowEnabled){n=a(".ui-page-active");n=n.is(".ui-native-fixed")?n.find(".ui-content"):n}return n};ca=function(n){if(ba){var H=a.mobile.urlHistory.getActive();if(H){n=n&&n.scrollTop();H.lastScroll=n<a.mobile.minScrollBack?a.mobile.defaultHomeScroll:n}}};ea=function(){setTimeout(ca,100,a(this))};K.bind(a.support.pushState?"popstate":"hashchange",function(){ba=false});K.one(a.support.pushState?"popstate":"hashchange",function(){ba=true});K.one("pagecontainercreate",function(){a.mobile.pageContainer.bind("pagechange",
function(){var n=ia();ba=true;n.unbind("scrollstop",ea);n.bind("scrollstop",ea)})});ia().bind("scrollstop",ea);a.mobile.getScreenHeight=q;a.fn.animationComplete=function(n){if(a.support.cssTransitions)return a(this).one("webkitAnimationEnd",n);else{setTimeout(n,0);return a(this)}};a.mobile.path=t;a.mobile.base=T;a.mobile.urlHistory=P;a.mobile.dialogHashKey=z;a.mobile.noneTransitionHandler=function(n,H,U,da){da&&da.removeClass(a.mobile.activePageClass);U.addClass(a.mobile.activePageClass);return a.Deferred().resolve(n,
H,U,da).promise()};a.mobile.defaultTransitionHandler=a.mobile.noneTransitionHandler;a.mobile.transitionHandlers={none:a.mobile.defaultTransitionHandler};a.mobile.allowCrossDomainPages=false;a.mobile.getDocumentUrl=function(n){return n?a.extend({},V):V.href};a.mobile.getDocumentBase=function(n){return n?a.extend({},Q):Q.href};a.mobile._bindPageRemove=function(){var n=a(this);!n.data("page").options.domCache&&n.is(":jqmData(external-page='true')")&&n.bind("pagehide.remove",function(){var H=a(this),
U=new a.Event("pageremove");H.trigger(U);U.isDefaultPrevented()||H.removeWithDependents()})};a.mobile.loadPage=function(n,H){var U=a.Deferred(),da=a.extend({},a.mobile.loadPage.defaults,H),J=null,ta=null,qa=t.makeUrlAbsolute(n,function(){return a.mobile.activePage&&x(a.mobile.activePage)||Q.hrefNoHash}());if(da.data&&da.type==="get"){qa=t.addSearchParams(qa,da.data);da.data=b}if(da.data&&da.type==="post")da.reloadPage=true;var d=t.getFilePath(qa),O=t.convertUrlToDataUrl(qa);da.pageContainer=da.pageContainer||
a.mobile.pageContainer;J=da.pageContainer.children(":jqmData(url='"+O+"')");if(J.length===0&&O&&!t.isPath(O))J=da.pageContainer.children("#"+O).attr("data-"+a.mobile.ns+"url",O);if(J.length===0)if(a.mobile.firstPage&&t.isFirstPageUrl(d)){if(a.mobile.firstPage.parent().length)J=a(a.mobile.firstPage)}else if(t.isEmbeddedPage(d)){U.reject(qa,H);return U.promise()}T&&T.reset();if(J.length){if(!da.reloadPage){v(J,da.role);U.resolve(qa,H,J);return U.promise()}ta=J}var R=da.pageContainer,W=new a.Event("pagebeforeload"),
Z={url:n,absUrl:qa,dataUrl:O,deferred:U,options:da};R.trigger(W,Z);if(W.isDefaultPrevented())return U.promise();if(da.showLoadMsg)var ga=setTimeout(function(){a.mobile.showPageLoadingMsg()},da.loadMsgDelay),ka=function(){clearTimeout(ga);a.mobile.hidePageLoadingMsg()};a.mobile.allowCrossDomainPages||t.isSameDomain(V,qa)?a.ajax({url:d,type:da.type,data:da.data,dataType:"html",success:function(va,oa,Ba){var ya=a("<div></div>"),xa=va.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,Ia=new RegExp("(<[^>]+\\bdata-"+
a.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),Ka=new RegExp("\\bdata-"+a.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(Ia.test(va)&&RegExp.$1&&Ka.test(RegExp.$1)&&RegExp.$1)n=d=t.getFilePath(RegExp.$1);T&&T.set(d);ya.get(0).innerHTML=va;J=ya.find(":jqmData(role='page'), :jqmData(role='dialog')").first();J.length||(J=a("<div data-"+a.mobile.ns+"role='page'>"+va.split(/<\/?body[^>]*>/gmi)[1]+"</div>"));if(xa&&!J.jqmData("title")){if(~xa.indexOf("&"))xa=a("<div>"+xa+"</div>").text();J.jqmData("title",xa)}if(!a.support.dynamicBaseTag){var Oa=
t.get(d);J.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var Ra=a(this).is("[href]")?"href":a(this).is("[src]")?"src":"action",Ja=a(this).attr(Ra);Ja=Ja.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(Ja)||a(this).attr(Ra,Oa+Ja)})}J.attr("data-"+a.mobile.ns+"url",t.convertUrlToDataUrl(d)).attr("data-"+a.mobile.ns+"external-page",true).appendTo(da.pageContainer);J.one("pagecreate",a.mobile._bindPageRemove);v(J,
da.role);if(qa.indexOf("&"+a.mobile.subPageUrlKey)>-1)J=da.pageContainer.children(":jqmData(url='"+O+"')");da.showLoadMsg&&ka();Z.xhr=Ba;Z.textStatus=oa;Z.page=J;da.pageContainer.trigger("pageload",Z);U.resolve(qa,H,J,ta)},error:function(va,oa,Ba){T&&T.set(t.get());Z.xhr=va;Z.textStatus=oa;Z.errorThrown=Ba;va=new a.Event("pageloadfailed");da.pageContainer.trigger(va,Z);if(!va.isDefaultPrevented()){if(da.showLoadMsg){ka();a("<div class='ui-loader ui-overlay-shadow ui-body-e ui-corner-all'><h1>"+a.mobile.pageLoadErrorMessage+
"</h1></div>").css({display:"block",opacity:0.96,top:K.scrollTop()+100}).appendTo(da.pageContainer).delay(800).fadeOut(400,function(){a(this).remove()})}U.reject(qa,H)}}}):U.reject(qa,H);return U.promise()};a.mobile.loadPage.defaults={type:"get",data:b,reloadPage:false,role:b,showLoadMsg:false,pageContainer:b,loadMsgDelay:50};a.mobile.changePage=function(n,H){if(y)o.unshift(arguments);else{var U=a.extend({},a.mobile.changePage.defaults,H);U.pageContainer=U.pageContainer||a.mobile.pageContainer;U.fromPage=
U.fromPage||a.mobile.activePage;var da=U.pageContainer,J=new a.Event("pagebeforechange"),ta={toPage:n,options:U};da.trigger(J,ta);if(!J.isDefaultPrevented()){n=ta.toPage;y=true;if(typeof n=="string")a.mobile.loadPage(n,U).done(function(oa,Ba,ya,xa){console.log(oa);y=false;Ba.duplicateCachedPage=xa;a.mobile.changePage(ya,Ba)}).fail(function(oa){console.log(oa);y=false;h(true);j();U.pageContainer.trigger("pagechangefailed",ta)});else{if(n[0]===a.mobile.firstPage[0]&&!U.dataUrl)U.dataUrl=V.hrefNoHash;
J=U.fromPage;var qa=U.dataUrl&&t.convertUrlToDataUrl(U.dataUrl)||n.jqmData("url"),d=qa;t.getFilePath(qa);var O=P.getActive(),R=P.activeIndex===0,W=0,Z=document.title,ga=U.role==="dialog"||n.jqmData("role")==="dialog";if(J&&J[0]===n[0]&&!U.allowSamePageTransition){y=false;da.trigger("pagechange",ta)}else{v(n,U.role);U.fromHashChange&&P.directHashChange({currentUrl:qa,isBack:function(){W=-1},isForward:function(){W=1}});try{document.activeElement&&document.activeElement.nodeName.toLowerCase()!="body"?
a(document.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(ka){}if(ga&&O)qa=(O.url||"")+z;if(U.changeHash!==false&&qa){P.ignoreNextHashChange=true;t.set(qa)}var va=!O?Z:n.jqmData("title")||n.children(":jqmData(role='header')").find(".ui-title").getEncodedText();if(va&&Z==document.title)Z=va;n.jqmData("title")||n.jqmData("title",Z);U.transition=U.transition||(W&&!R?O.transition:b)||(ga?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition);W||P.addNew(qa,
U.transition,Z,d,U.role);document.title=P.getActive().title;a.mobile.activePage=n;U.reverse=U.reverse||W<0;l(n,J,U.transition,U.reverse).done(function(){h();U.duplicateCachedPage&&U.duplicateCachedPage.remove();G.removeClass("ui-mobile-rendering");j();da.trigger("pagechange",ta)})}}}}};a.mobile.changePage.defaults={transition:b,reverse:false,changeHash:true,fromHashChange:false,role:b,duplicateCachedPage:b,pageContainer:b,showLoadMsg:true,dataUrl:b,fromPage:b,allowSamePageTransition:false};a.mobile._registerInternalEvents=
function(){a("form").live("submit",function(n){var H=a(this);if(!(!a.mobile.ajaxEnabled||H.is(":jqmData(ajax='false')"))){var U=H.attr("method"),da=H.attr("target"),J=H.attr("action");if(!J){J=x(H);if(J===Q.hrefNoHash)J=V.hrefNoSearch}J=t.makeUrlAbsolute(J,x(H));if(!(t.isExternal(J)||da)){a.mobile.changePage(J,{type:U&&U.length&&U.toLowerCase()||"get",data:H.serialize(),transition:H.jqmData("transition"),direction:H.jqmData("direction"),reloadPage:true});n.preventDefault()}}});a(document).bind("vclick",
function(n){if(!(n.which>1||!a.mobile.linkBindingEnabled))if(n=D(n.target))if(t.parseUrl(n.getAttribute("href")||"#").hash!=="#"){h(true);N=a(n).closest(".ui-btn").not(".ui-disabled");N.addClass(a.mobile.activeBtnClass);a("."+a.mobile.activePageClass+" .ui-btn").not(n).blur()}});a(document).bind("click",function(n){if(a.mobile.linkBindingEnabled){var H=D(n.target);if(!(!H||n.which>1)){var U=a(H),da=function(){window.setTimeout(function(){h(true)},200)};if(U.is(":jqmData(rel='back')")){window.history.back();
return false}var J=x(U);H=t.makeUrlAbsolute(U.attr("href")||"#",J);if(!a.mobile.ajaxEnabled&&!t.isEmbeddedPage(H))da();else{if(H.search("#")!=-1)if(H=H.replace(/[^#]*#/,""))H=t.isPath(H)?t.makeUrlAbsolute(H,J):t.makeUrlAbsolute("#"+H,V.hrefNoHash);else{n.preventDefault();return}J=U.is("[rel='external']")||U.is(":jqmData(ajax='false')")||U.is("[target]");var ta=a.mobile.allowCrossDomainPages&&V.protocol==="file:"&&H.search(/^https?:/)!=-1;if(J||t.isExternal(H)&&!ta)da();else{da=U.jqmData("transition");
J=(J=U.jqmData("direction"))&&J==="reverse"||U.jqmData("back");U=U.attr("data-"+a.mobile.ns+"rel")||b;a.mobile.changePage(H,{transition:da,reverse:J,role:U});n.preventDefault()}}}}});a(".ui-page").live("pageshow.prefetch",function(){var n=[];a(this).find("a:jqmData(prefetch)").each(function(){var H=a(this),U=H.attr("href");if(U&&a.inArray(U,n)===-1){n.push(U);a.mobile.loadPage(U,{role:H.attr("data-"+a.mobile.ns+"rel")})}})});a.mobile._handleHashChange=function(n){var H=t.stripHash(n),U={transition:a.mobile.urlHistory.stack.length===
0?"none":b,changeHash:false,fromHashChange:true};if(!a.mobile.hashListeningEnabled||P.ignoreNextHashChange)P.ignoreNextHashChange=false;else{if(P.stack.length>1&&H.indexOf(z)>-1)if(a.mobile.activePage.is(".ui-dialog"))P.directHashChange({currentUrl:H,either:function(da){var J=a.mobile.urlHistory.getActive();H=J.pageUrl;a.extend(U,{role:J.role,transition:J.transition,reverse:da})}});else{P.directHashChange({currentUrl:H,isBack:function(){window.history.back()},isForward:function(){window.history.forward()}});
return}if(H){H=typeof H==="string"&&!t.isPath(H)?t.makeUrlAbsolute("#"+H,Q):H;a.mobile.changePage(H,U)}else a.mobile.changePage(a.mobile.firstPage,U)}};K.bind("hashchange",function(){a.mobile._handleHashChange(location.hash)});a(document).bind("pageshow",s);a(window).bind("throttledresize",s)}})(jQuery);
(function(a,b){var f={},h=a(b),j=a.mobile.path.parseUrl(location.href);a.extend(f,{initialFilePath:function(){return j.pathname+j.search}(),initialHref:j.hrefNoHash,hashchangeFired:false,state:function(){return{hash:location.hash||"#"+f.initialFilePath,title:document.title,initialHref:f.initialHref}},resetUIKeys:function(l){var q="&"+a.mobile.subPageUrlKey,s=l.indexOf(a.mobile.dialogHashKey);if(s>-1)l=l.slice(0,s)+"#"+l.slice(s);else if(l.indexOf(q)>-1)l=l.split(q).join("#"+q);return l},nextHashChangePrevented:function(l){a.mobile.urlHistory.ignoreNextHashChange=
l;f.onHashChangeDisabled=l},onHashChange:function(){if(!f.onHashChangeDisabled){var l,q;l=location.hash;var s=a.mobile.path.isPath(l),v=s?location.href:a.mobile.getDocumentUrl();l=s?l.replace("#",""):l;q=f.state();l=a.mobile.path.makeUrlAbsolute(l,v);if(s)l=f.resetUIKeys(l);history.replaceState(q,document.title,l)}},onPopState:function(l){var q=l.originalEvent.state;if(q){f.nextHashChangePrevented(true);setTimeout(function(){f.nextHashChangePrevented(false);a.mobile._handleHashChange(q.hash)},100)}},
init:function(){h.bind("hashchange",f.onHashChange);h.bind("popstate",f.onPopState);location.hash===""&&history.replaceState(f.state(),document.title,location.href)}});a(function(){a.mobile.pushStateEnabled&&a.support.pushState&&f.init()})})(jQuery,this);
(function(a){function b(f,h,j,l){var q=new a.Deferred,s=h?" reverse":"",v="ui-mobile-viewport-transitioning viewport-"+f;j.animationComplete(function(){j.add(l).removeClass("out in reverse "+f);l&&l[0]!==j[0]&&l.removeClass(a.mobile.activePageClass);j.parent().removeClass(v);q.resolve(f,h,j,l)});j.parent().addClass(v);l&&l.addClass(f+" out"+s);j.addClass(a.mobile.activePageClass+" "+f+" in"+s);return q.promise()}a.mobile.css3TransitionHandler=b;if(a.mobile.defaultTransitionHandler===a.mobile.noneTransitionHandler)a.mobile.defaultTransitionHandler=
b})(jQuery,this);
(function(a){a.mobile.page.prototype.options.degradeInputs={color:false,date:false,datetime:false,"datetime-local":false,email:false,month:false,number:false,range:"number",search:"text",tel:false,time:false,url:false,week:false};a(document).bind("pagecreate create",function(b){var f=a(b.target).closest(':jqmData(role="page")').data("page"),h;if(f){h=f.options;a(b.target).find("input").not(f.keepNativeSelector()).each(function(){var j=a(this),l=this.getAttribute("type"),q=h.degradeInputs[l]||"text";
if(h.degradeInputs[l]){var s=a("<div>").html(j.clone()).html(),v=s.indexOf(" type=")>-1;j.replaceWith(s.replace(v?/\s+type=["']?\w+['"]?/:/\/?>/,' type="'+q+'" data-'+a.mobile.ns+'type="'+l+'"'+(v?"":">")))}})}})})(jQuery);
(function(a,b){a.widget("mobile.dialog",a.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var f=this,h=this.element,j=a("<a href='#' data-"+a.mobile.ns+"icon='delete' data-"+a.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>");h.addClass("ui-overlay-"+this.options.overlayTheme);h.attr("role","dialog").addClass("ui-dialog").find(":jqmData(role='header')").addClass("ui-corner-top ui-overlay-shadow").prepend(j).end().find(":jqmData(role='content'),:jqmData(role='footer')").addClass("ui-overlay-shadow").last().addClass("ui-corner-bottom");
j.bind("vclick",function(){f.close()});h.bind("vclick submit",function(l){l=a(l.target).closest(l.type==="vclick"?"a":"form");var q;if(l.length&&!l.jqmData("transition")){q=a.mobile.urlHistory.getActive()||{};l.attr("data-"+a.mobile.ns+"transition",q.transition||a.mobile.defaultDialogTransition).attr("data-"+a.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){a(this).find("."+a.mobile.activeBtnClass).removeClass(a.mobile.activeBtnClass)})},close:function(){b.history.back()}});a(a.mobile.dialog.prototype.options.initSelector).live("pagecreate",
function(){a(this).dialog()})})(jQuery,this);
(function(a){a.mobile.page.prototype.options.backBtnText="Back";a.mobile.page.prototype.options.addBackBtn=false;a.mobile.page.prototype.options.backBtnTheme=null;a.mobile.page.prototype.options.headerTheme="a";a.mobile.page.prototype.options.footerTheme="a";a.mobile.page.prototype.options.contentTheme=null;a(":jqmData(role='page'), :jqmData(role='dialog')").live("pagecreate",function(){var b=a(this),f=b.data("page").options,h=b.jqmData("role"),j=f.theme;a(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",
this).each(function(){var l=a(this),q=l.jqmData("role"),s=l.jqmData("theme"),v=s||f.contentTheme||h==="dialog"&&j,D;l.addClass("ui-"+q);if(q==="header"||q==="footer"){var x=s||(q==="header"?f.headerTheme:f.footerTheme)||j;l.addClass("ui-bar-"+x).attr("role",q==="header"?"banner":"contentinfo");s=l.children("a");v=s.hasClass("ui-btn-left");D=s.hasClass("ui-btn-right");v=v||s.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length;D||s.eq(1).addClass("ui-btn-right");if(f.addBackBtn&&q==="header"&&
a(".ui-page").length>1&&l.jqmData("url")!==a.mobile.path.stripHash(location.hash)&&!v)a("<a href='#' class='ui-btn-left' data-"+a.mobile.ns+"rel='back' data-"+a.mobile.ns+"icon='arrow-l'>"+f.backBtnText+"</a>").attr("data-"+a.mobile.ns+"theme",f.backBtnTheme||x).prependTo(l);l.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({tabindex:"0",role:"heading","aria-level":"1"})}else if(q==="content"){v&&l.addClass("ui-body-"+v);l.attr("role","main")}})})})(jQuery);
(function(a){a.widget("mobile.collapsible",a.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:true,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,iconTheme:"d",initSelector:":jqmData(role='collapsible')"},_create:function(){var b=this.element,f=this.options,h=b.addClass("ui-collapsible"),j=b.children(f.heading).first(),l=h.wrapInner("<div class='ui-collapsible-content'></div>").find(".ui-collapsible-content"),
q=b.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");b=q.children(":jqmData(role='collapsible')");if(j.is("legend")){j=a("<div role='heading'>"+j.html()+"</div>").insertBefore(j);j.next().remove()}if(q.length){if(!f.theme)f.theme=q.jqmData("theme");if(!f.contentTheme)f.contentTheme=q.jqmData("content-theme")}l.addClass(f.contentTheme?"ui-body-"+f.contentTheme:"");j.insertBefore(l).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:false,
corners:false,iconPos:"left",icon:"plus",theme:f.theme});if(q.length){q.jqmData("collapsiblebound")||q.jqmData("collapsiblebound",true).bind("expand",function(s){a(s.target).closest(".ui-collapsible").siblings(".ui-collapsible").trigger("collapse")});b.first().find("a").first().addClass("ui-corner-top").find(".ui-btn-inner").addClass("ui-corner-top");b.last().jqmData("collapsible-last",true).find("a").first().addClass("ui-corner-bottom").find(".ui-btn-inner").addClass("ui-corner-bottom");h.jqmData("collapsible-last")&&
j.find("a").first().add(j.find(".ui-btn-inner")).addClass("ui-corner-bottom")}else j.find("a").first().add(j.find(".ui-btn-inner")).addClass("ui-corner-top ui-corner-bottom");h.bind("expand collapse",function(s){if(!s.isDefaultPrevented()){s.preventDefault();var v=a(this);s=s.type==="collapse";var D=f.contentTheme;j.toggleClass("ui-collapsible-heading-collapsed",s).find(".ui-collapsible-heading-status").text(s?f.expandCueText:f.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-minus",!s).toggleClass("ui-icon-plus",
s);v.toggleClass("ui-collapsible-collapsed",s);l.toggleClass("ui-collapsible-content-collapsed",s).attr("aria-hidden",s);if(D&&(!q.length||h.jqmData("collapsible-last"))){j.find("a").first().add(j.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",s);l.toggleClass("ui-corner-bottom",!s)}l.trigger("updatelayout")}}).trigger(f.collapsed?"collapse":"expand");j.bind("click",function(s){var v=j.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";h.trigger(v);s.preventDefault()})}});a(document).bind("pagecreate create",
function(b){a(a.mobile.collapsible.prototype.options.initSelector,b.target).collapsible()})})(jQuery);(function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br")};a(document).bind("pagecreate create",function(b){a(":jqmData(role='fieldcontain')",b.target).fieldcontain()})})(jQuery);
(function(a){a.fn.grid=function(b){return this.each(function(){var f=a(this),h=a.extend({grid:null},b),j=f.children(),l={solo:1,a:2,b:3,c:4,d:5};h=h.grid;if(!h)if(j.length<=5)for(var q in l){if(l[q]===j.length)h=q}else h="a";l=l[h];f.addClass("ui-grid-"+h);j.filter(":nth-child("+l+"n+1)").addClass("ui-block-a");l>1&&j.filter(":nth-child("+l+"n+2)").addClass("ui-block-b");l>2&&j.filter(":nth-child(3n+3)").addClass("ui-block-c");l>3&&j.filter(":nth-child(4n+4)").addClass("ui-block-d");l>4&&j.filter(":nth-child(5n+5)").addClass("ui-block-e")})}})(jQuery);
(function(a,b){a.widget("mobile.navbar",a.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var f=this.element,h=f.find("a"),j=h.filter(":jqmData(icon)").length?this.options.iconpos:b;f.addClass("ui-navbar").attr("role","navigation").find("ul").grid({grid:this.options.grid});j||f.addClass("ui-navbar-noicons");h.buttonMarkup({corners:false,shadow:false,iconpos:j});f.delegate("a","vclick",function(){h.not(".ui-state-persist").removeClass(a.mobile.activeBtnClass);
a(this).addClass(a.mobile.activeBtnClass)})}});a(document).bind("pagecreate create",function(f){a(a.mobile.navbar.prototype.options.initSelector,f.target).navbar()})})(jQuery);
(function(a){var b={};a.widget("mobile.listview",a.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",inset:false,initSelector:":jqmData(role='listview')"},_create:function(){var f=this;f.element.addClass(function(h,j){return j+" ui-listview "+(f.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"")});f.refresh(true)},_removeCorners:function(f,h){f=f.add(f.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb"));if(h==="top")f.removeClass("ui-corner-top ui-corner-tr ui-corner-tl");
else h==="bottom"?f.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):f.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},_refreshCorners:function(f){var h,j;if(this.options.inset){h=this.element.children("li");j=f?h.not(".ui-screen-hidden"):h.filter(":visible");this._removeCorners(h);h=j.first().addClass("ui-corner-top");h.add(h.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl");
j=j.last().addClass("ui-corner-bottom");j.add(j.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")}f||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(f,h,j,l){var q={};for(q[j]=q[l]=true;f;){if(q[f.nodeName])return f;f=f[h]}return null},_getChildrenByTagName:function(f,h,j){var l=[],q={};q[h]=q[j]=true;for(f=f.firstChild;f;){q[f.nodeName]&&l.push(f);f=f.nextSibling}return a(l)},_addThumbClasses:function(f){var h,
j,l=f.length;for(h=0;h<l;h++){j=a(this._findFirstElementByTagName(f[h].firstChild,"nextSibling","img","IMG"));if(j.length){j.addClass("ui-li-thumb");a(this._findFirstElementByTagName(j[0].parentNode,"parentNode","li","LI")).addClass(j.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")}}},refresh:function(f){this.parentPage=this.element.closest(".ui-page");this._createSubPages();var h=this.options,j=this.element,l=j.jqmData("dividertheme")||h.dividerTheme,q=j.jqmData("splittheme"),s=j.jqmData("spliticon"),
v=this._getChildrenByTagName(j[0],"li","LI"),D=a.support.cssPseudoElement||!a.nodeName(j[0],"ol")?0:1,x={},K,G,u,t,N;D&&j.find(".ui-li-dec").remove();if(!h.theme)h.theme=a.mobile.getInheritedTheme(this.element,"c");for(var P=0,o=v.length;P<o;P++){K=v.eq(P);G="ui-li";if(f||!K.hasClass("ui-li")){u=K.jqmData("theme")||h.theme;t=this._getChildrenByTagName(K[0],"a","A");if(t.length){N=K.jqmData("icon");K.buttonMarkup({wrapperEls:"div",shadow:false,corners:false,iconpos:"right",icon:t.length>1||N===false?
false:N||"arrow-r",theme:u});N!=false&&t.length==1&&K.addClass("ui-li-has-arrow");t.first().addClass("ui-link-inherit");if(t.length>1){G+=" ui-li-has-alt";t=t.last();N=q||t.jqmData("theme")||h.splitTheme;t.appendTo(K).attr("title",t.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:false,corners:false,theme:u,icon:false,iconpos:false}).find(".ui-btn-inner").append(a(document.createElement("span")).buttonMarkup({shadow:true,corners:true,theme:N,iconpos:"notext",icon:s||t.jqmData("icon")||
h.splitIcon}))}}else if(K.jqmData("role")==="list-divider"){G+=" ui-li-divider ui-btn ui-bar-"+l;K.attr("role","heading");if(D)D=1}else G+=" ui-li-static ui-body-"+u}if(D&&G.indexOf("ui-li-divider")<0){u=K.is(".ui-li-static:first")?K:K.find(".ui-link-inherit");u.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+D++ +". </span>")}x[G]||(x[G]=[]);x[G].push(K[0])}for(G in x)a(x[G]).addClass(G).children(".ui-btn-inner").addClass(G);j.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var y=
a(this);y.prependTo(y.parent())}).end().find(".ui-li-count").each(function(){a(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(j.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(v);this._addThumbClasses(j.find(".ui-link-inherit"));this._refreshCorners(f)},_idStringEscape:function(f){return f.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var f=this.element,h=f.closest(".ui-page"),j=h.jqmData("url"),l=j||h[0][a.expando],
q=f.attr("id"),s=this.options,v="data-"+a.mobile.ns,D=this,x=h.find(":jqmData(role='footer')").jqmData("id"),K;if(typeof b[l]==="undefined")b[l]=-1;q=q||++b[l];a(f.find("li>ul, li>ol").toArray().reverse()).each(function(G){var u=a(this),t=u.attr("id")||q+"-"+G;G=u.parent();var N=a(u.prevAll().toArray().reverse());N=N.length?N:a("<span>"+a.trim(G.contents()[0].nodeValue)+"</span>");var P=N.first().getEncodedText();t=(j||"")+"&"+a.mobile.subPageUrlKey+"="+t;var o=u.jqmData("theme")||s.theme,y=u.jqmData("counttheme")||
f.jqmData("counttheme")||s.countTheme;K=true;u.detach().wrap("<div "+v+"role='page' "+v+"url='"+t+"' "+v+"theme='"+o+"' "+v+"count-theme='"+y+"'><div "+v+"role='content'></div></div>").parent().before("<div "+v+"role='header' "+v+"theme='"+s.headerTheme+"'><div class='ui-title'>"+P+"</div></div>").after(x?a("<div "+v+"role='footer' "+v+"id='"+x+"'>"):"").parent().appendTo(a.mobile.pageContainer).page();u=G.find("a:first");u.length||(u=a("<a/>").html(N||P).prependTo(G.empty()));u.attr("href","#"+t)}).listview();
K&&h.is(":jqmData(external-page='true')")&&h.data("page").options.domCache===false&&h.unbind("pagehide.remove").bind("pagehide.remove",function(G,u){if(G=u.nextPage){u=G.jqmData("url");if(u.indexOf(j+"&"+a.mobile.subPageUrlKey)!==0){D.childPages().remove();h.remove()}}})},childPages:function(){var f=this.parentPage.jqmData("url");return a(":jqmData(url^='"+f+"&"+a.mobile.subPageUrlKey+"')")}});a(document).bind("pagecreate create",function(f){a(a.mobile.listview.prototype.options.initSelector,f.target).listview()})})(jQuery);
(function(a){a.mobile.listview.prototype.options.filter=false;a.mobile.listview.prototype.options.filterPlaceholder="Filter items...";a.mobile.listview.prototype.options.filterTheme="c";a.mobile.listview.prototype.options.filterCallback=function(b,f){return b.toLowerCase().indexOf(f)===-1};a(":jqmData(role='listview')").live("listviewcreate",function(){var b=a(this),f=b.data("listview");if(f.options.filter){var h=a("<form>",{"class":"ui-listview-filter ui-bar-"+f.options.filterTheme,role:"search"});
a("<input>",{placeholder:f.options.filterPlaceholder}).attr("data-"+a.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var j=a(this),l=this.value.toLowerCase(),q=null;q=j.jqmData("lastval")+"";var s=false,v="";j.jqmData("lastval",l);v=l.substr(0,q.length-1).replace(q,"");q=l.length<q.length||v.length!=l.length-q.length?b.children():b.children(":not(.ui-screen-hidden)");if(l){for(var D=q.length-1;D>=0;D--){j=a(q[D]);v=j.jqmData("filtertext")||j.text();if(j.is("li:jqmData(role=list-divider)")){j.toggleClass("ui-filter-hidequeue",
!s);s=false}else if(f.options.filterCallback(v,l))j.toggleClass("ui-filter-hidequeue",true);else s=true}q.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",false);q.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",true).toggleClass("ui-filter-hidequeue",false)}else q.toggleClass("ui-screen-hidden",false);f._refreshCorners()}).appendTo(h).textinput();a(this).jqmData("inset")&&h.addClass("ui-listview-filter-inset");h.bind("submit",function(){return false}).insertBefore(b)}})})(jQuery);
(function(a){a(document).bind("pagecreate create",function(b){a(":jqmData(role='nojs')",b.target).addClass("ui-nojs")})})(jQuery);
(function(a,b){a.widget("mobile.checkboxradio",a.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var f=this,h=this.element,j=h.closest("form,fieldset,:jqmData(role='page')").find("label[for='"+h[0].id+"']"),l=h.attr("type"),q=l+"-on",s=l+"-off",v=h.parents(":jqmData(type='horizontal')").length?b:s;if(!(l!=="checkbox"&&l!=="radio")){a.extend(this,{label:j,inputtype:l,checkedClass:"ui-"+q+(v?"":" "+a.mobile.activeBtnClass),uncheckedClass:"ui-"+
s,checkedicon:"ui-icon-"+q,uncheckedicon:"ui-icon-"+s});if(!this.options.theme)this.options.theme=this.element.jqmData("theme");j.buttonMarkup({theme:this.options.theme,icon:v,shadow:false});h.add(j).wrapAll("<div class='ui-"+l+"'></div>");j.bind({vmouseover:function(D){a(this).parent().is(".ui-disabled")&&D.stopPropagation()},vclick:function(D){if(h.is(":disabled"))D.preventDefault();else{f._cacheVals();h.prop("checked",l==="radio"&&true||!h.prop("checked"));h.triggerHandler("click");f._getInputSet().not(h).prop("checked",
false);f._updateAll();return false}}});h.bind({vmousedown:function(){f._cacheVals()},vclick:function(){var D=a(this);if(D.is(":checked")){D.prop("checked",true);f._getInputSet().not(D).prop("checked",false)}else D.prop("checked",false);f._updateAll()},focus:function(){j.addClass("ui-focus")},blur:function(){j.removeClass("ui-focus")}});this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){var f=a(this);f.jqmData("cacheVal",f.is(":checked"))})},_getInputSet:function(){if(this.inputtype==
"checkbox")return this.element;return this.element.closest("form,fieldset,:jqmData(role='page')").find("input[name='"+this.element.attr("name")+"'][type='"+this.inputtype+"']")},_updateAll:function(){var f=this;this._getInputSet().each(function(){var h=a(this);if(h.is(":checked")||f.inputtype==="checkbox")h.trigger("change")}).checkboxradio("refresh")},refresh:function(){var f=this.element,h=this.label,j=h.find(".ui-icon");if(a(f[0]).prop("checked")){h.addClass(this.checkedClass).removeClass(this.uncheckedClass);
j.addClass(this.checkedicon).removeClass(this.uncheckedicon)}else{h.removeClass(this.checkedClass).addClass(this.uncheckedClass);j.removeClass(this.checkedicon).addClass(this.uncheckedicon)}f.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.prop("disabled",true).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",false).parent().removeClass("ui-disabled")}});a(document).bind("pagecreate create",function(f){a.mobile.checkboxradio.prototype.enhanceWithin(f.target)})})(jQuery);
(function(a,b){a.widget("mobile.button",a.mobile.widget,{options:{theme:null,icon:null,iconpos:null,inline:null,corners:true,shadow:true,iconshadow:true,initSelector:"button, [type='button'], [type='submit'], [type='reset'], [type='image']"},_create:function(){var f=this.element,h=this.options,j,l;this.button=a("<div></div>").text(f.text()||f.val()).insertBefore(f).buttonMarkup({theme:h.theme,icon:h.icon,iconpos:h.iconpos,inline:h.inline,corners:h.corners,shadow:h.shadow,iconshadow:h.iconshadow}).append(f.addClass("ui-btn-hidden"));
h=f.attr("type");j=f.attr("name");h!=="button"&&h!=="reset"&&j&&f.bind("vclick",function(){if(l===b){l=a("<input>",{type:"hidden",name:f.attr("name"),value:f.attr("value")}).insertBefore(f);a(document).one("submit",function(){l.remove();l=b})}});this.refresh()},enable:function(){this.element.attr("disabled",false);this.button.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",true);this.button.addClass("ui-disabled").attr("aria-disabled",
true);return this._setOption("disabled",true)},refresh:function(){var f=this.element;f.prop("disabled")?this.disable():this.enable();this.button.data("textWrapper").text(f.text()||f.val())}});a(document).bind("pagecreate create",function(f){a.mobile.button.prototype.enhanceWithin(f.target)})})(jQuery);
(function(a,b){a.widget("mobile.slider",a.mobile.widget,{options:{theme:null,trackTheme:null,disabled:false,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')"},_create:function(){var f=this,h=this.element,j=a.mobile.getInheritedTheme(h,"c"),l=this.options.theme||j,q=this.options.trackTheme||j,s=h[0].nodeName.toLowerCase();j=s=="select"?"ui-slider-switch":"";var v=h.attr("id"),D=v+"-label";v=a("[for='"+v+"']").attr("id",D);var x=function(){return s=="input"?parseFloat(h.val()):
h[0].selectedIndex},K=s=="input"?parseFloat(h.attr("min")):0,G=s=="input"?parseFloat(h.attr("max")):h.find("option").length-1,u=window.parseFloat(h.attr("step")||1),t=a("<div class='ui-slider "+j+" ui-btn-down-"+q+" ui-btn-corner-all' role='application'></div>"),N=a("<a href='#' class='ui-slider-handle'></a>").appendTo(t).buttonMarkup({corners:true,theme:l,shadow:true}).attr({role:"slider","aria-valuemin":K,"aria-valuemax":G,"aria-valuenow":x(),"aria-valuetext":x(),title:x(),"aria-labelledby":D});
a.extend(this,{slider:t,handle:N,dragging:false,beforeStart:null,userModified:false,mouseMoved:false});if(s=="select"){t.wrapInner("<div class='ui-slider-inneroffset'></div>");N.addClass("ui-slider-handle-snapping");h.find("option");h.find("option").each(function(P){var o=!P?"b":"a",y=!P?"right":"left";P=!P?" ui-btn-down-"+q:" "+a.mobile.activeBtnClass;a("<div class='ui-slider-labelbg ui-slider-labelbg-"+o+P+" ui-btn-corner-"+y+"'></div>").prependTo(t);a("<span class='ui-slider-label ui-slider-label-"+
o+P+" ui-btn-corner-"+y+"' role='img'>"+a(this).getEncodedText()+"</span>").prependTo(N)})}v.addClass("ui-slider");h.addClass(s==="input"?"ui-slider-input":"ui-slider-switch").change(function(){f.mouseMoved||f.refresh(x(),true)}).keyup(function(){f.refresh(x(),true,true)}).blur(function(){f.refresh(x(),true)});a(document).bind("vmousemove",function(P){if(f.dragging){f.mouseMoved=true;s==="select"&&N.removeClass("ui-slider-handle-snapping");f.refresh(P);f.userModified=f.beforeStart!==h[0].selectedIndex;
return false}});t.bind("vmousedown",function(P){f.dragging=true;f.userModified=false;f.mouseMoved=false;if(s==="select")f.beforeStart=h[0].selectedIndex;f.refresh(P);return false});t.add(document).bind("vmouseup",function(){if(f.dragging){f.dragging=false;if(s==="select"){N.addClass("ui-slider-handle-snapping");if(f.mouseMoved)f.userModified?f.refresh(f.beforeStart==0?1:0):f.refresh(f.beforeStart);else f.refresh(f.beforeStart==0?1:0)}return f.mouseMoved=false}});t.insertAfter(h);this.handle.bind("vmousedown",
function(){a(this).focus()}).bind("vclick",false);this.handle.bind("keydown",function(P){var o=x();if(!f.options.disabled){switch(P.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:P.preventDefault();if(!f._keySliding){f._keySliding=true;a(this).addClass("ui-state-active")}break}switch(P.keyCode){case a.mobile.keyCode.HOME:f.refresh(K);
break;case a.mobile.keyCode.END:f.refresh(G);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:f.refresh(o+u);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:f.refresh(o-u);break}}}).keyup(function(){if(f._keySliding){f._keySliding=false;a(this).removeClass("ui-state-active")}});this.refresh(b,b,true)},refresh:function(f,h,j){if(this.options.disabled||this.element.attr("disabled"))this.disable();var l=this.element,
q,s=l[0].nodeName.toLowerCase(),v=s==="input"?parseFloat(l.attr("min")):0,D=s==="input"?parseFloat(l.attr("max")):l.find("option").length-1;if(typeof f==="object"){f=f;if(!this.dragging||f.pageX<this.slider.offset().left-8||f.pageX>this.slider.offset().left+this.slider.width()+8)return;q=Math.round((f.pageX-this.slider.offset().left)/this.slider.width()*100)}else{if(f==null)f=s==="input"?parseFloat(l.val()):l[0].selectedIndex;q=(parseFloat(f)-v)/(D-v)*100}if(!isNaN(q)){if(q<0)q=0;if(q>100)q=100;f=
Math.round(q/100*(D-v))+v;if(f<v)f=v;if(f>D)f=D;this.handle.css("left",q+"%");this.handle.attr({"aria-valuenow":s==="input"?f:l.find("option").eq(f).attr("value"),"aria-valuetext":s==="input"?f:l.find("option").eq(f).getEncodedText(),title:f});if(s==="select")f===0?this.slider.addClass("ui-slider-switch-a").removeClass("ui-slider-switch-b"):this.slider.addClass("ui-slider-switch-b").removeClass("ui-slider-switch-a");if(!j){j=false;if(s==="input"){j=l.val()!==f;l.val(f)}else{j=l[0].selectedIndex!==
f;l[0].selectedIndex=f}!h&&j&&l.trigger("change")}}},enable:function(){this.element.attr("disabled",false);this.slider.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",true);this.slider.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)}});a(document).bind("pagecreate create",function(f){a.mobile.slider.prototype.enhanceWithin(f.target)})})(jQuery);
(function(a){a.widget("mobile.textinput",a.mobile.widget,{options:{theme:null,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])"},_create:function(){var b=this.element,
f=this.options.theme||a.mobile.getInheritedTheme(this.element,"c"),h=" ui-body-"+f,j,l;a("label[for='"+b.attr("id")+"']").addClass("ui-input-text");j=b.addClass("ui-input-text ui-body-"+f);if(typeof b[0].autocorrect!=="undefined"&&!a.support.touchOverflow){b[0].setAttribute("autocorrect","off");b[0].setAttribute("autocomplete","off")}if(b.is("[type='search'],:jqmData(type='search')")){j=b.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+h+"'></div>").parent();
l=a("<a href='#' class='ui-input-clear' title='clear text'>clear text</a>").tap(function(D){b.val("").focus();b.trigger("change");l.addClass("ui-input-clear-hidden");D.preventDefault()}).appendTo(j).buttonMarkup({icon:"delete",iconpos:"notext",corners:true,shadow:true});function q(){setTimeout(function(){l.toggleClass("ui-input-clear-hidden",!b.val())},0)}q();b.bind("paste cut keyup focus change blur",q)}else b.addClass("ui-corner-all ui-shadow-inset"+h);b.focus(function(){j.addClass("ui-focus")}).blur(function(){j.removeClass("ui-focus")});
if(b.is("textarea")){var s=function(){var D=b[0].scrollHeight;b[0].clientHeight<D&&b.height(D+15)},v;b.keyup(function(){clearTimeout(v);v=setTimeout(s,100)});if(a.trim(b.val())){a(window).load(s);a(document).one("pagechange",s)}}},disable:function(){(this.element.attr("disabled",true).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled")},enable:function(){(this.element.attr("disabled",false).is("[type='search'],:jqmData(type='search')")?this.element.parent():
this.element).removeClass("ui-disabled")}});a(document).bind("pagecreate create",function(b){a.mobile.textinput.prototype.enhanceWithin(b.target)})})(jQuery);
(function(a){var b=function(f){var h=f.selectID,j=f.label,l=f.select.closest(".ui-page"),q=a("<div>",{"class":"ui-selectmenu-screen ui-screen-hidden"}).appendTo(l),s=f._selectOptions(),v=f.isMultiple=f.select[0].multiple,D=h+"-button",x=h+"-menu",K=a("<div data-"+a.mobile.ns+"role='dialog' data-"+a.mobile.ns+"theme='"+f.options.theme+"' data-"+a.mobile.ns+"overlay-theme='"+f.options.overlayTheme+"'><div data-"+a.mobile.ns+"role='header'><div class='ui-title'>"+j.getEncodedText()+"</div></div><div data-"+
a.mobile.ns+"role='content'></div></div>").appendTo(a.mobile.pageContainer).page(),G=a("<div>",{"class":"ui-selectmenu ui-selectmenu-hidden ui-overlay-shadow ui-corner-all ui-body-"+f.options.overlayTheme+" "+a.mobile.defaultDialogTransition}).insertAfter(q),u=a("<ul>",{"class":"ui-selectmenu-list",id:x,role:"listbox","aria-labelledby":D}).attr("data-"+a.mobile.ns+"theme",f.options.theme).appendTo(G),t=a("<div>",{"class":"ui-header ui-bar-"+f.options.theme}).prependTo(G),N=a("<h1>",{"class":"ui-title"}).appendTo(t),
P=a("<a>",{text:f.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+a.mobile.ns+"iconpos","notext").attr("data-"+a.mobile.ns+"icon","delete").appendTo(t).buttonMarkup(),o=K.find(".ui-content"),y=K.find(".ui-header a");a.extend(f,{select:f.select,selectID:h,buttonId:D,menuId:x,thisPage:l,menuPage:K,label:j,screen:q,selectOptions:s,isMultiple:v,theme:f.options.theme,listbox:G,list:u,header:t,headerTitle:N,headerClose:P,menuPageContent:o,menuPageClose:y,placeholder:"",build:function(){var z=
this;z.refresh();z.select.attr("tabindex","-1").focus(function(){a(this).blur();z.button.focus()});z.button.bind("vclick keydown",function(E){if(E.type=="vclick"||E.keyCode&&(E.keyCode===a.mobile.keyCode.ENTER||E.keyCode===a.mobile.keyCode.SPACE)){z.open();E.preventDefault()}});z.list.attr("role","listbox").delegate(".ui-li>a","focusin",function(){a(this).attr("tabindex","0")}).delegate(".ui-li>a","focusout",function(){a(this).attr("tabindex","-1")}).delegate("li:not(.ui-disabled, .ui-li-divider)",
"click",function(E){var V=z.select[0].selectedIndex,Q=z.list.find("li:not(.ui-li-divider)").index(this),F=z._selectOptions().eq(Q)[0];F.selected=z.isMultiple?!F.selected:true;z.isMultiple&&a(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",F.selected).toggleClass("ui-icon-checkbox-off",!F.selected);if(z.isMultiple||V!==Q)z.select.trigger("change");z.isMultiple||z.close();E.preventDefault()}).keydown(function(E){var V=a(E.target),Q=V.closest("li");switch(E.keyCode){case 38:E=Q.prev();if(E.length){V.blur().attr("tabindex",
"-1");E.find("a").first().focus()}return false;case 40:E=Q.next();if(E.length){V.blur().attr("tabindex","-1");E.find("a").first().focus()}return false;case 13:case 32:V.trigger("click");return false}});z.menuPage.bind("pagehide",function(){z.list.appendTo(z.listbox);z._focusButton();a.mobile._bindPageRemove.call(z.thisPage)});z.screen.bind("vclick",function(){z.close()});z.headerClose.click(function(){if(z.menuType=="overlay"){z.close();return false}});z.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var z=
this.list.find("li");return this._selectOptions().text()!==z.text()},refresh:function(z){var E=this;this._selectOptions();this.selected();var V=this.selectedIndices();if(z||this._isRebuildRequired())E._buildList();E.setButtonText();E.setButtonCount();E.list.find("li:not(.ui-li-divider)").removeClass(a.mobile.activeBtnClass).attr("aria-selected",false).each(function(Q){if(a.inArray(Q,V)>-1){Q=a(this);Q.attr("aria-selected",true);E.isMultiple?Q.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):
Q.addClass(a.mobile.activeBtnClass)}})},close:function(){if(!(this.options.disabled||!this.isOpen)){var z=this;if(z.menuType=="page")window.history.back();else{z.screen.addClass("ui-screen-hidden");z.listbox.addClass("ui-selectmenu-hidden").removeAttr("style").removeClass("in");z.list.appendTo(z.listbox);z._focusButton()}z.isOpen=false}},open:function(){function z(){E.list.find(a.mobile.activeBtnClass).focus()}if(!this.options.disabled){var E=this,V=E.list.parent().outerHeight(),Q=E.list.parent().outerWidth(),
F=a(".ui-page-active"),T=a.support.touchOverflow&&a.mobile.touchOverflowEnabled;F=F.is(".ui-native-fixed")?F.find(".ui-content"):F;scrollTop=T?F.scrollTop():a(window).scrollTop();btnOffset=E.button.offset().top;screenHeight=window.innerHeight;screenWidth=window.innerWidth;E.button.addClass(a.mobile.activeBtnClass);setTimeout(function(){E.button.removeClass(a.mobile.activeBtnClass)},300);if(V>screenHeight-80||!a.support.scrollTop){E.thisPage.unbind("pagehide.remove");scrollTop==0&&btnOffset>screenHeight&&
E.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",btnOffset)});E.menuPage.one("pageshow",function(){a(window).one("silentscroll",function(){z()});E.isOpen=true});E.menuType="page";E.menuPageContent.append(E.list);E.menuPage.find("div .ui-title").text(E.label.text());a.mobile.changePage(E.menuPage,{transition:a.mobile.defaultDialogTransition})}else{E.menuType="overlay";E.screen.height(a(document).height()).removeClass("ui-screen-hidden");F=btnOffset-scrollTop;var ba=scrollTop+screenHeight-
btnOffset,ia=V/2;T=parseFloat(E.list.parent().css("max-width"));V=F>V/2&&ba>V/2?btnOffset+E.button.outerHeight()/2-ia:F>ba?scrollTop+screenHeight-V-30:scrollTop+30;if(Q<T)T=(screenWidth-Q)/2;else{T=E.button.offset().left+E.button.outerWidth()/2-Q/2;if(T<30)T=30;else if(T+Q>screenWidth)T=screenWidth-Q-30}E.listbox.append(E.list).removeClass("ui-selectmenu-hidden").css({top:V,left:T}).addClass("in");z();E.isOpen=true}}},_buildList:function(){var z=this,E=this.options,V=this.placeholder,Q=[],F=[],T=
z.isMultiple?"checkbox-off":"false";z.list.empty().filter(".ui-listview").listview("destroy");z.select.find("option").each(function(ba){var ia=a(this),ca=ia.parent(),ea=ia.getEncodedText(),n="<a href='#'>"+ea+"</a>",H=[],U=[];if(ca.is("optgroup")){ca=ca.attr("label");if(a.inArray(ca,Q)===-1){F.push("<li data-"+a.mobile.ns+"role='list-divider'>"+ca+"</li>");Q.push(ca)}}if(!this.getAttribute("value")||ea.length==0||ia.jqmData("placeholder")){E.hidePlaceholderMenuItems&&H.push("ui-selectmenu-placeholder");
V=z.placeholder=ea}if(this.disabled){H.push("ui-disabled");U.push("aria-disabled='true'")}F.push("<li data-"+a.mobile.ns+"option-index='"+ba+"' data-"+a.mobile.ns+"icon='"+T+"' class='"+H.join(" ")+"' "+U.join(" ")+">"+n+"</li>")});z.list.html(F.join(" "));z.list.find("li").attr({role:"option",tabindex:"-1"}).first().attr("tabindex","0");this.isMultiple||this.headerClose.hide();!this.isMultiple&&!V.length?this.header.hide():this.headerTitle.text(this.placeholder);z.list.listview()},_button:function(){return a("<a>",
{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};a("select").live("selectmenubeforecreate",function(){var f=a(this).data("selectmenu");f.options.nativeMenu||b(f)})})(jQuery);
(function(a){a.widget("mobile.selectmenu",a.mobile.widget,{options:{theme:null,disabled:false,icon:"arrow-d",iconpos:"right",inline:null,corners:true,shadow:true,iconshadow:true,menuPageTheme:"b",overlayTheme:"a",hidePlaceholderMenuItems:true,closeText:"Close",nativeMenu:true,initSelector:"select:not(:jqmData(role='slider'))"},_button:function(){return a("<div/>")},_setDisabled:function(b){this.element.attr("disabled",b);this.button.attr("aria-disabled",b);return this._setOption("disabled",b)},_focusButton:function(){var b=
this;setTimeout(function(){b.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){this.select=this.element.wrap("<div class='ui-select'>");this.selectID=this.select.attr("id");this.label=a("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.select,"c")},_create:function(){this._preExtension();this._trigger("beforeCreate");this.button=
this._button();var b=this,f=this.options,h=this.button.text(a(this.select[0].options.item(this.select[0].selectedIndex==-1?0:this.select[0].selectedIndex)).text()).insertBefore(this.select).buttonMarkup({theme:f.theme,icon:f.icon,iconpos:f.iconpos,inline:f.inline,corners:f.corners,shadow:f.shadow,iconshadow:f.iconshadow});f.nativeMenu&&window.opera&&window.opera.version&&this.select.addClass("ui-select-nativeonly");if(this.isMultiple)this.buttonCount=a("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(h.addClass("ui-li-has-count"));
if(f.disabled||this.element.attr("disabled"))this.disable();this.select.change(function(){b.refresh()});this.build()},build:function(){var b=this;this.select.appendTo(b.button).bind("vmousedown",function(){b.button.addClass(a.mobile.activeBtnClass)}).bind("focus vmouseover",function(){b.button.trigger("vmouseover")}).bind("vmousemove",function(){b.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){b.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}).bind("change blur",
function(){b.button.removeClass("ui-btn-down-"+b.options.theme)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var b=this;return this.selected().map(function(){return b._selectOptions().index(this)}).get()},setButtonText:function(){var b=this,f=this.selected();this.button.find(".ui-btn-text").text(function(){if(!b.isMultiple)return f.text();return f.length?f.map(function(){return a(this).text()}).get().join(", "):b.placeholder})},setButtonCount:function(){var b=
this.selected();if(this.isMultiple)this.buttonCount[b.length>1?"show":"hide"]().text(b.length)},refresh:function(){this.setButtonText();this.setButtonCount()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(true);this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(false);this.button.removeClass("ui-disabled")}});a(document).bind("pagecreate create",function(b){a.mobile.selectmenu.prototype.enhanceWithin(b.target)})})(jQuery);
(function(a,b){function f(j){for(var l;j;){if((l=typeof j.className==="string"&&j.className.split(" "))&&a.inArray("ui-btn",l)>-1&&a.inArray("ui-disabled",l)<0)break;j=j.parentNode}return j}a.fn.buttonMarkup=function(j){j=j||{};for(var l=0;l<this.length;l++){var q=this.eq(l),s=q[0],v=a.extend({},a.fn.buttonMarkup.defaults,{icon:j.icon!==b?j.icon:q.jqmData("icon"),iconpos:j.iconpos!==b?j.iconpos:q.jqmData("iconpos"),theme:j.theme!==b?j.theme:q.jqmData("theme"),inline:j.inline!==b?j.inline:q.jqmData("inline"),
shadow:j.shadow!==b?j.shadow:q.jqmData("shadow"),corners:j.corners!==b?j.corners:q.jqmData("corners"),iconshadow:j.iconshadow!==b?j.iconshadow:q.jqmData("iconshadow")},j),D="ui-btn-inner",x,K,G=document.createElement(v.wrapperEls),u=document.createElement(v.wrapperEls),t=v.icon?document.createElement("span"):null;h&&h();if(!v.theme)v.theme=a.mobile.getInheritedTheme(q,"c");x="ui-btn ui-btn-up-"+v.theme;if(v.inline)x+=" ui-btn-inline";if(v.icon){v.icon="ui-icon-"+v.icon;v.iconpos=v.iconpos||"left";
K="ui-icon "+v.icon;if(v.iconshadow)K+=" ui-icon-shadow"}if(v.iconpos){x+=" ui-btn-icon-"+v.iconpos;v.iconpos=="notext"&&!q.attr("title")&&q.attr("title",q.getEncodedText())}if(v.corners){x+=" ui-btn-corner-all";D+=" ui-btn-corner-all"}if(v.shadow)x+=" ui-shadow";s.setAttribute("data-"+a.mobile.ns+"theme",v.theme);q.addClass(x);G.className=D;G.setAttribute("aria-hidden","true");u.className="ui-btn-text";G.appendChild(u);if(t){t.className=K;G.appendChild(t)}for(;s.firstChild;)u.appendChild(s.firstChild);
s.appendChild(G);a.data(s,"textWrapper",a(u))}return this};a.fn.buttonMarkup.defaults={corners:true,shadow:true,iconshadow:true,inline:false,wrapperEls:"span"};var h=function(){a(document).bind({vmousedown:function(j){j=f(j.target);var l;if(j){j=a(j);l=j.attr("data-"+a.mobile.ns+"theme");j.removeClass("ui-btn-up-"+l).addClass("ui-btn-down-"+l)}},"vmousecancel vmouseup":function(j){j=f(j.target);var l;if(j){j=a(j);l=j.attr("data-"+a.mobile.ns+"theme");j.removeClass("ui-btn-down-"+l).addClass("ui-btn-up-"+
l)}},"vmouseover focus":function(j){j=f(j.target);var l;if(j){j=a(j);l=j.attr("data-"+a.mobile.ns+"theme");j.removeClass("ui-btn-up-"+l).addClass("ui-btn-hover-"+l)}},"vmouseout blur":function(j){j=f(j.target);var l;if(j){j=a(j);l=j.attr("data-"+a.mobile.ns+"theme");j.removeClass("ui-btn-hover-"+l+" ui-btn-down-"+l).addClass("ui-btn-up-"+l)}}});h=null};a(document).bind("pagecreate create",function(j){a(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",
j.target).not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})})(jQuery);
(function(a){a.fn.controlgroup=function(b){return this.each(function(){function f(s){s.removeClass("ui-btn-corner-all ui-shadow").eq(0).addClass(q[0]).end().last().addClass(q[1]).addClass("ui-controlgroup-last")}var h=a(this),j=a.extend({direction:h.jqmData("type")||"vertical",shadow:false,excludeInvisible:true},b),l=h.children("legend"),q=j.direction=="horizontal"?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];h.find("input").first().attr("type");if(l.length){h.wrapInner("<div class='ui-controlgroup-controls'></div>");
a("<div role='heading' class='ui-controlgroup-label'>"+l.html()+"</div>").insertBefore(h.children(0));l.remove()}h.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+j.direction);f(h.find(".ui-btn"+(j.excludeInvisible?":visible":"")));f(h.find(".ui-btn-inner"));j.shadow&&h.addClass("ui-shadow")})};a(document).bind("pagecreate create",function(b){a(":jqmData(role='controlgroup')",b.target).controlgroup({excludeInvisible:false})})})(jQuery);(function(a){a(document).bind("pagecreate create",function(b){a(b.target).find("a").not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})})(jQuery);
(function(a,b){a.fn.fixHeaderFooter=function(){if(!a.support.scrollTop||a.support.touchOverflow&&a.mobile.touchOverflowEnabled)return this;return this.each(function(){var f=a(this);f.jqmData("fullscreen")&&f.addClass("ui-page-fullscreen");f.find(".ui-header:jqmData(position='fixed')").addClass("ui-header-fixed ui-fixed-inline fade");f.find(".ui-footer:jqmData(position='fixed')").addClass("ui-footer-fixed ui-fixed-inline fade")})};a.mobile.fixedToolbars=function(){function f(){if(!v&&s==="overlay"){q||
a.mobile.fixedToolbars.hide(true);a.mobile.fixedToolbars.startShowTimer()}}function h(G){var u=0,t,N;if(G){N=document.body;t=G.offsetParent;for(u=G.offsetTop;G&&G!=N;){u+=G.scrollTop||0;if(G==t){u+=t.offsetTop;t=G.offsetParent}G=G.parentNode}}return u}function j(G){var u=a(window).scrollTop(),t=h(G[0]),N=G.css("top")=="auto"?0:parseFloat(G.css("top")),P=window.innerHeight,o=G.outerHeight(),y=G.parents(".ui-page:not(.ui-page-fullscreen)").length;if(G.is(".ui-header-fixed")){N=u-t+N;if(N<t)N=0;return G.css("top",
y?N:u)}else{N=u+P-o-(t-N);return G.css("top",y?N:u+P-o)}}if(!(!a.support.scrollTop||a.support.touchOverflow&&a.mobile.touchOverflowEnabled)){var l,q,s="inline",v=false,D=null,x=false,K=true;a(function(){var G=a(document),u=a(window);G.bind("vmousedown",function(){if(K)D=s}).bind("vclick",function(t){if(K)if(!a(t.target).closest("a,input,textarea,select,button,label,.ui-header-fixed,.ui-footer-fixed").length)if(!x){a.mobile.fixedToolbars.toggle(D);D=null}}).bind("silentscroll",f);(G.scrollTop()===
0?u:G).bind("scrollstart",function(){x=true;if(D===null)D=s;var t=D=="overlay";if(v=t||!!q){a.mobile.fixedToolbars.clearShowTimer();t&&a.mobile.fixedToolbars.hide(true)}}).bind("scrollstop",function(t){if(!a(t.target).closest("a,input,textarea,select,button,label,.ui-header-fixed,.ui-footer-fixed").length){x=false;if(v){a.mobile.fixedToolbars.startShowTimer();v=false}D=null}});u.bind("resize updatelayout",f)});a(".ui-page").live("pagebeforeshow",function(G,u){G=a(G.target).find(":jqmData(role='footer')");
var t=G.data("id");u=(u=u.prevPage)&&u.find(":jqmData(role='footer')");u=u.length&&u.jqmData("id")===t;if(t&&u){l=G;j(l.removeClass("fade in out").appendTo(a.mobile.pageContainer))}}).live("pageshow",function(){var G=a(this);l&&l.length&&setTimeout(function(){j(l.appendTo(G).addClass("fade"));l=null},500);a.mobile.fixedToolbars.show(true,this)});a(".ui-collapsible-contain").live("collapse expand",f);return{show:function(G,u){a.mobile.fixedToolbars.clearShowTimer();s="overlay";return(u?a(u):a.mobile.activePage?
a.mobile.activePage:a(".ui-page-active")).children(".ui-header-fixed:first, .ui-footer-fixed:not(.ui-footer-duplicate):last").each(function(){var t=a(this),N=a(window).scrollTop(),P=h(t[0]),o=window.innerHeight,y=t.outerHeight();N=t.is(".ui-header-fixed")&&N<=P+y||t.is(".ui-footer-fixed")&&P<=N+o;t.addClass("ui-fixed-overlay").removeClass("ui-fixed-inline");!N&&!G&&t.animationComplete(function(){t.removeClass("in")}).addClass("in");j(t)})},hide:function(G){s="inline";return(a.mobile.activePage?a.mobile.activePage:
a(".ui-page-active")).children(".ui-header-fixed:first, .ui-footer-fixed:not(.ui-footer-duplicate):last").each(function(){var u=a(this),t=u.css("top");t=t=="auto"?0:parseFloat(t);u.addClass("ui-fixed-inline").removeClass("ui-fixed-overlay");if(t<0||u.is(".ui-header-fixed")&&t!==0)if(G)u.css("top",0);else u.css("top")!=="auto"&&parseFloat(u.css("top"))!==0&&u.animationComplete(function(){u.removeClass("out reverse").css("top",0)}).addClass("out reverse")})},startShowTimer:function(){a.mobile.fixedToolbars.clearShowTimer();
var G=[].slice.call(arguments);q=setTimeout(function(){q=b;a.mobile.fixedToolbars.show.apply(null,G)},100)},clearShowTimer:function(){q&&clearTimeout(q);q=b},toggle:function(G){if(G)s=G;return s==="overlay"?a.mobile.fixedToolbars.hide():a.mobile.fixedToolbars.show()},setTouchToggleEnabled:function(G){K=G}}}}();a(document).bind("pagecreate create",function(f){a(":jqmData(position='fixed')",f.target).length&&a(f.target).each(function(){if(!a.support.scrollTop||a.support.touchOverflow&&a.mobile.touchOverflowEnabled)return this;
var h=a(this);h.jqmData("fullscreen")&&h.addClass("ui-page-fullscreen");h.find(".ui-header:jqmData(position='fixed')").addClass("ui-header-fixed ui-fixed-inline fade");h.find(".ui-footer:jqmData(position='fixed')").addClass("ui-footer-fixed ui-fixed-inline fade")})})})(jQuery);
(function(a){a.mobile.touchOverflowEnabled=false;a.mobile.touchOverflowZoomEnabled=false;a(document).bind("pagecreate",function(b){if(a.support.touchOverflow&&a.mobile.touchOverflowEnabled){b=a(b.target);b.is(":jqmData(role='page')")&&b.each(function(){var f=a(this),h=f.find(":jqmData(role='header'), :jqmData(role='footer')").filter(":jqmData(position='fixed')"),j=f.jqmData("fullscreen"),l=h.length?f.find(".ui-content"):f;f.addClass("ui-mobile-touch-overflow");l.bind("scrollstop",function(){l.scrollTop()>
0&&window.scrollTo(0,a.mobile.defaultHomeScroll)});if(h.length){f.addClass("ui-native-fixed");if(j){f.addClass("ui-native-fullscreen");h.addClass("fade in");a(document).bind("vclick",function(){h.removeClass("ui-native-bars-hidden").toggleClass("in out").animationComplete(function(){a(this).not(".in").addClass("ui-native-bars-hidden")})})}}})}})})(jQuery);
(function(a,b){function f(){var q=a("meta[name='viewport']");q.length?q.attr("content",q.attr("content")+", user-scalable=no"):a("head").prepend("<meta>",{name:"viewport",content:"user-scalable=no"})}var h=a("html");a("head");var j=a(b);a(b.document).trigger("mobileinit");if(a.mobile.gradeA()){if(a.mobile.ajaxBlacklist)a.mobile.ajaxEnabled=false;h.addClass("ui-mobile ui-mobile-rendering");var l=a("<div class='ui-loader ui-body-a ui-corner-all'><span class='ui-icon ui-icon-loading spin'></span><h1></h1></div>");
a.extend(a.mobile,{showPageLoadingMsg:function(){if(a.mobile.loadingMessage){var q=a("."+a.mobile.activeBtnClass).first();l.find("h1").text(a.mobile.loadingMessage).end().appendTo(a.mobile.pageContainer).css({top:a.support.scrollTop&&j.scrollTop()+j.height()/2||q.length&&q.offset().top||100})}h.addClass("ui-loading")},hidePageLoadingMsg:function(){h.removeClass("ui-loading")},initializePage:function(){var q=a(":jqmData(role='page')");q.length||(q=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0));
q.add(":jqmData(role='dialog')").each(function(){var s=a(this);s.jqmData("url")||s.attr("data-"+a.mobile.ns+"url",s.attr("id")||location.pathname+location.search)});a.mobile.firstPage=q.first();a.mobile.pageContainer=q.first().parent().addClass("ui-mobile-viewport");j.trigger("pagecontainercreate");a.mobile.showPageLoadingMsg();!a.mobile.hashListeningEnabled||!a.mobile.path.stripHash(location.hash)?a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:true,changeHash:false,fromHashChange:true}):
j.trigger("hashchange",[true])}});a.support.touchOverflow&&a.mobile.touchOverflowEnabled&&!a.mobile.touchOverflowZoomEnabled&&f();a.mobile._registerInternalEvents();a(function(){b.scrollTo(0,1);a.mobile.defaultHomeScroll=!a.support.scrollTop||a(b).scrollTop()===1?0:1;a.mobile.autoInitializePage&&a.mobile.initializePage();j.load(a.mobile.silentScroll)})}})(jQuery,this);steal.loaded("zoladex/lib/jQueryMobile/jquery.mobile-1.0.js");
steal("jquery/model",function(){$.Model("Zoladex.Models.WebSqlModel",{create:function(a,b,f){this.checkTableName(f);var h="INSERT into "+this.tableName+" (",j="",l=[],q=$.grep(Object.keys(a),function(s){return s!="id"&&s!="insertId"&&s!="rows"&&s!="rowsAffected"});$.each(q,function(s,v){h+=v;if(s<q.length-1)h+=", ";if(a[v]instanceof Date)a[v]=a[v].getTime();l.push(a[v]);j+="?";if(s<q.length-1)j+=", "});h+=") VALUES("+j+")";return localStorageDB.executeSql(h,l,b,f)},update:function(a,b,f,h){this.checkTableName(h);
var j="UPDATE "+this.tableName+" SET ",l=$.grep(Object.keys(b),function(s){return s!="id"&&s!="insertId"&&s!="rows"&&s!="rowsAffected"}),q=[];$.each(l,function(s,v){j+=v+" = ?";if(s<l.length-1)j+=", ";if(b[v]instanceof Date)b[v]=b[v].getTime();q.push(b[v])});j+=" WHERE id="+a;return localStorageDB.executeSql(j,q,f,h)},destroy:function(a,b,f){this.checkTableName(f);return localStorageDB.executeSql("DELETE FROM "+this.tableName+" WHERE id="+a,b,f)},checkTableName:function(a){this.tableName.length<1&&
a("no table name set")},tableName:""},{})});steal.loaded("zoladex/models/websqlmodel.js");
steal("jquery/class","jquery/lang/string",function(){var a=$.String.underscore,b=$.String.classize,f=$.isArray,h=$.makeArray,j=$.extend,l=$.each,q=/GET|POST|PUT|DELETE/i,s=function(o,y,z,E,V,Q,F){F=F||"json";var T="";if(typeof o=="string"){var ba=o.indexOf(" ");if(ba>2&&ba<7){T=o.substr(0,ba);if(q.test(T))Q=T;else F=T;T=o.substr(ba+1)}else T=o}typeof y=="object"&&!f(y)&&(y=j({},y));o=$.String.sub(T,y,true);return $.ajax({url:o,data:y,success:z,error:E,type:Q||"post",dataType:F,fixture:V})},v=function(o,
y){var z=a(this.shortName),E="-"+z+(o||"");return $.fixture&&$.fixture[E]?E:y||"//"+a(this.fullName).replace(/\.models\..*/,"").replace(/\./g,"/")+"/fixtures/"+z+(o||"")+".json"},D=function(o,y){o=o||{};var z=this.id;if(o[z]&&o[z]!==y){o["new"+$.String.capitalize(y)]=o[z];delete o[z]}o[z]=y;return o},x=function(o){return new (o||$.Model.List||Array)},K=function(o){return o[o.constructor.id]},G=function(o){for(var y=[],z=0;z<o.length;z++)if(!o[z]["__u Nique"]){y.push(o[z]);o[z]["__u Nique"]=true}for(z=
0;z<y.length;z++)delete y[z]["__u Nique"];return y},u=function(o,y,z,E,V){var Q=$.Deferred(),F=[o.serialize(),function(ba){o[V||y+"d"](ba);Q.resolveWith(o,[o,ba,y])},function(ba){Q.rejectWith(o,[ba])}],T=o.constructor;y=="destroy"&&F.shift();y!=="create"&&F.unshift(K(o));Q.then(z);Q.fail(E);T[y].apply(T,F);return Q.promise()},t=function(o){return typeof o==="object"&&o!==null&&o},N=function(o){return function(){$.fn[o].apply($([this]),arguments);return this}},P=N("bind");N=N("unbind");ajaxMethods=
{create:function(o){return function(y,z,E){return s(o,y,z,E,v.call(this,"Create","-restCreate"))}},update:function(o){return function(y,z,E,V){return s(o,D.call(this,z,y),E,V,v.call(this,"Update","-restUpdate"),"put")}},destroy:function(o){return function(y,z,E){var V={};V[this.id]=y;return s(o,V,z,E,v.call(this,"Destroy","-restDestroy"),"delete")}},findAll:function(o){return function(y,z,E){return s(o||this.shortName+"s.json",y,z,E,v.call(this,"s"),"get","json "+this._shortName+".models")}},findOne:function(o){return function(y,
z,E){return s(o,y,z,E,v.call(this),"get","json "+this._shortName+".model")}}};jQuery.Class("jQuery.Model",{setup:function(o){var y=this;l(["attributes","associations","validations"],function(V,Q){if(!y[Q]||o[Q]===y[Q])y[Q]={}});l(["convert","serialize"],function(V,Q){if(o[Q]!=y[Q])y[Q]=j({},o[Q],y[Q])});this._fullName=a(this.fullName.replace(/\./g,"_"));this._shortName=a(this.shortName);if(this.fullName.substr(0,7)!="jQuery."){if(this.listType)this.list=new this.listType([]);for(var z in ajaxMethods)if(typeof this[z]!==
"function")this[z]=ajaxMethods[z](this[z]);z={};var E="* "+this._shortName+".model";z[E+"s"]=this.proxy("models");z[E]=this.proxy("model");$.ajaxSetup({converters:z})}},attributes:{},model:function(o){if(!o)return null;if(o instanceof this)o=o.serialize();return new this(t(o[this._shortName])||t(o.data)||t(o.attributes)||o)},models:function(o){if(!o)return null;var y=x(this.List),z=f(o),E=$.Model.List&&o instanceof $.Model.List;E=z?o:E?o.serialize():o.data;var V=E.length,Q=0;for(y._use_call=true;Q<
V;Q++)y.push(this.model(E[Q]));if(!z)for(var F in o)if(F!=="data")y[F]=o[F];return y},id:"id",addAttr:function(o,y){if(!this.associations[o]){this.attributes[o]||(this.attributes[o]=y);return y}},_models:{},publish:function(o,y){window.OpenAjax&&OpenAjax.hub.publish(this._shortName+"."+o,y)},guessType:function(){return"string"},convert:{date:function(o){var y=typeof o;return y==="string"?isNaN(Date.parse(o))?null:Date.parse(o):y==="number"?new Date(o):o},number:function(o){return parseFloat(o)},"boolean":function(o){return Boolean(o)},
"default":function(o,y,z){y=$.String.getObject(z);var E=window;if(z.indexOf(".")>=0){z=z.substring(0,z.lastIndexOf("."));E=$.String.getObject(z)}return typeof y=="function"?y.call(E,o):o}},serialize:{"default":function(o){return t(o)&&o.serialize?o.serialize():o}},bind:P,unbind:N,_ajax:s},{setup:function(o){this._init=true;this.attrs(j({},this.constructor.defaults,o));delete this._init},update:function(o,y,z){this.attrs(o);return this.save(y,z)},errors:function(o){if(o)o=f(o)?o:h(arguments);var y=
{},z=this,E=function(F,T){l(T,function(ba,ia){if(ba=ia.call(z)){y.hasOwnProperty(F)||(y[F]=[]);y[F].push(ba)}})},V=this.constructor.validations;l(o||V||{},function(F,T){if(typeof F=="number"){F=T;T=V[F]}E(F,T||[])});for(var Q in y)if(y.hasOwnProperty(Q))return y;return null},attr:function(o,y,z,E){var V=b(o),Q="get"+V;if(y!==undefined){this._setProperty(o,y,z,E,V);return this}return this[Q]?this[Q]():this[o]},bind:P,unbind:N,_setProperty:function(o,y,z,E,V){V="set"+V;var Q=this[o],F=this,T=function(ba){E&&
E.call(F,ba);$(F).triggerHandler("error."+o,ba)};this[V]&&(y=this[V](y,this.proxy("_updateProperty",o,y,Q,z,T),T))===undefined||this._updateProperty(o,y,Q,z,T)},_updateProperty:function(o,y,z,E,V){var Q=this.constructor,F=Q.attributes[o]||Q.addAttr(o,Q.guessType(y)),T=Q.convert[F]||Q.convert["default"],ba=null,ia="",ca="updated.";E=E;var ea=Q.list;y=this[o]=y===null?null:T.call(Q,y,function(){},F);this._init||(ba=this.errors(o));F=[y];T=[o,y,z];if(ba){ia=ca="error.";E=V;T.splice(1,0,ba);F.unshift(ba)}if(z!==
y&&!this._init){!ba&&$(this).triggerHandler(ia+o,F);$(this).triggerHandler(ca+"attr",T)}E&&E.apply(this,F);if(o===Q.id&&y!==null&&ea)if(z){if(z!=y){ea.remove(z);ea.push(this)}}else ea.push(this)},removeAttr:function(o){var y=this[o],z=false,E=this.constructor.attributes;this[o]&&delete this[o];if(E[o]){delete E[o];z=true}!this._init&&z&&y&&$(this).triggerHandler("updated.attr",[o,null,y])},attrs:function(o){var y,z=this.constructor,E=z.attributes;if(o){z=z.id;for(y in o)y!=z&&this.attr(y,o[y]);z in
o&&this.attr(z,o[z])}else{o={};for(y in E)if(E.hasOwnProperty(y))o[y]=this.attr(y)}return o},serialize:function(){var o=this.constructor,y=o.attributes,z,E,V={},Q;attributes={};for(Q in y)if(y.hasOwnProperty(Q)){z=y[Q];E=o.serialize[z]||o.serialize["default"];V[Q]=E(this[Q],z)}return V},isNew:function(){var o=K(this);return o===undefined||o===null},save:function(o,y){return u(this,this.isNew()?"create":"update",o,y)},destroy:function(o,y){return u(this,"destroy",o,y,"destroyed")},identity:function(){var o=
K(this),y=this.constructor;return(y._fullName+"_"+(y.escapeIdentity?encodeURIComponent(o):o)).replace(/ /g,"_")},elements:function(o){return $("."+this.identity(),o)},publish:function(o,y){this.constructor.publish(o,y||this)},hookup:function(o){var y=this.constructor._shortName,z=$.data(o,"models")||$.data(o,"models",{});$(o).addClass(y+" "+this.identity());z[y]=this}});l(["created","updated","destroyed"],function(o,y){$.Model.prototype[y]=function(z){var E=this.constructor;y==="destroyed"&&E.list&&
E.list.remove(K(this));z&&typeof z=="object"&&this.attrs(z.attrs?z.attrs():z);$(this).triggerHandler(y);this.publish(y,this);$([E]).triggerHandler(y,this);return[this].concat(h(arguments))}});$.fn.models=function(){var o=[],y,z;this.each(function(){l($.data(this,"models")||{},function(E,V){y=y===undefined?V.constructor.List||null:V.constructor.List===y?y:null;o.push(V)})});z=x(y);z.push.apply(z,G(o));return z};$.fn.model=function(o){if(o&&o instanceof $.Model){o.hookup(this[0]);return this}else return this.models.apply(this,
arguments)[0]}});steal.loaded("jquery/model/model.js");
steal("jquery","jquery/lang/string",function(a){var b=false,f=a.makeArray,h=a.isFunction,j=a.isArray,l=a.extend,q=a.String.getObject,s=function(x,K){return x.concat(f(K))},v=/xyz/.test(function(){})?/\b_super\b/:/.*/,D=function(x,K,G){G=G||x;for(var u in x)G[u]=h(x[u])&&h(K[u])&&v.test(x[u])?function(t,N){return function(){var P=this._super,o;this._super=K[t];o=N.apply(this,arguments);this._super=P;return o}}(u,x[u]):x[u]};clss=a.Class=function(){arguments.length&&clss.extend.apply(clss,arguments)};
l(clss,{proxy:function(x){var K=f(arguments),G;x=K.shift();j(x)||(x=[x]);G=this;return function(){for(var u=s(K,arguments),t,N=x.length,P=0,o;P<N;P++)if(o=x[P]){if((t=typeof o=="string")&&G._set_called)G.called=o;u=(t?G[o]:o).apply(G,u||[]);if(P<N-1)u=!j(u)||u._use_call?[u]:u}return u}},newInstance:function(){var x=this.rawInstance(),K;if(x.setup)K=x.setup.apply(x,arguments);if(x.init)x.init.apply(x,j(K)?K:arguments);return x},setup:function(x){this.defaults=l(true,{},x.defaults,this.defaults);return arguments},
rawInstance:function(){b=true;var x=new this;b=false;return x},extend:function(x,K,G){function u(){if(!b)return this.constructor!==u&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)}if(typeof x!="string"){G=K;K=x;x=null}if(!G){G=K;K=null}G=G||{};var t=this,N=this.prototype,P,o,y,z;b=true;z=new this;b=false;D(G,N,z);for(P in this)if(this.hasOwnProperty(P))u[P]=this[P];D(K,this,u);if(x){y=x.split(/\./);o=y.pop();y=N=q(y.join("."),
window,true);N[o]=u}l(u,{prototype:z,namespace:y,shortName:o,constructor:u,fullName:x});u.prototype.Class=u.prototype.constructor=u;t=u.setup.apply(u,s([t],arguments));if(u.init)u.init.apply(u,t||[]);return u}});clss.callback=clss.prototype.callback=clss.prototype.proxy=clss.proxy})();steal.loaded("jquery/class/class.js");steal("jquery/model");steal.loaded("zoladex/models/models.js");
steal("./tabbar_controller","./hcplist_controller","./hcpdetails_controller","./hcpadd_controller","./hcpedit_controller","./hcpdelete_controller","./practicelist_controller","./practicedetails_controller","./practiceadd_controller","./practiceedit_controller","./practicedelete_controller","./supportgrouplist_controller","./patientappointmentadd_controller","./patientappointmentedit_controller","./patientappointmentlist_controller","./patientappointmentdelete_controller","./symptomlist_controller",
"./symptomadd_controller","./symptomedit_controller","./symptomdelete_controller","./questionadd_controller.js","./questionlist_controller.js","./leveladd_controller.js","./levelchart_controller.js","./home_controller.js","./alert_controller.js","./appointmenttypeadd_controller.js","./symptomtypeadd_controller.js","./questiondialog_controller.js");steal.loaded("zoladex/controllers/controllers.js");
(function(a){a.extend(a.fn,{validate:function(b){if(this.length){var f=a.data(this[0],"validator");if(f)return f;this.attr("novalidate","novalidate");f=new a.validator(b,this[0]);a.data(this[0],"validator",f);if(f.settings.onsubmit){b=this.find("input, button");b.filter(".cancel").click(function(){f.cancelSubmit=true});f.settings.submitHandler&&b.filter(":submit").click(function(){f.submitButton=this});this.submit(function(h){function j(){if(f.settings.submitHandler){if(f.submitButton)var l=a("<input type='hidden'/>").attr("name",
f.submitButton.name).val(f.submitButton.value).appendTo(f.currentForm);f.settings.submitHandler.call(f,f.currentForm);f.submitButton&&l.remove();return false}return true}f.settings.debug&&h.preventDefault();if(f.cancelSubmit){f.cancelSubmit=false;return j()}if(f.form()){if(f.pendingRequest){f.formSubmitted=true;return false}return j()}else{f.focusInvalid();return false}})}return f}else b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(a(this[0]).is("form"))return this.validate().form();
else{var b=true,f=a(this[0].form).validate();this.each(function(){b&=f.element(this)});return b}},removeAttrs:function(b){var f={},h=this;a.each(b.split(/\s/),function(j,l){f[l]=h.attr(l);h.removeAttr(l)});return f},rules:function(b,f){var h=this[0];if(b){var j=a.data(h.form,"validator").settings,l=j.rules,q=a.validator.staticRules(h);switch(b){case "add":a.extend(q,a.validator.normalizeRule(f));l[h.name]=q;if(f.messages)j.messages[h.name]=a.extend(j.messages[h.name],f.messages);break;case "remove":if(!f){delete l[h.name];
return q}var s={};a.each(f.split(/\s/),function(v,D){s[D]=q[D];delete q[D]});return s}}b=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(h),a.validator.classRules(h),a.validator.attributeRules(h),a.validator.staticRules(h)),h);if(b.required){f=b.required;delete b.required;b=a.extend({required:f},b)}return b}});a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+b.value)},filled:function(b){return!!a.trim(""+b.value)},unchecked:function(b){return!b.checked}});a.validator=function(b,
f){this.settings=a.extend(true,{},a.validator.defaults,b);this.currentForm=f;this.init()};a.validator.format=function(b,f){if(arguments.length==1)return function(){var h=a.makeArray(arguments);h.unshift(b);return a.validator.format.apply(this,h)};if(arguments.length>2&&f.constructor!=Array)f=a.makeArray(arguments).slice(1);if(f.constructor!=Array)f=[f];a.each(f,function(h,j){b=b.replace(new RegExp("\\{"+h+"\\}","g"),j)});return b};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",
validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(b){this.lastActive=b;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(b)).hide()}},onfocusout:function(b){if(!this.checkable(b)&&(b.name in this.submitted||!this.optional(b)))this.element(b)},
onkeyup:function(b){if(b.name in this.submitted||b==this.lastElement)this.element(b)},onclick:function(b){if(b.name in this.submitted)this.element(b);else b.parentNode.name in this.submitted&&this.element(b.parentNode)},highlight:function(b,f,h){b.type==="radio"?this.findByName(b.name).addClass(f).removeClass(h):a(b).addClass(f).removeClass(h)},unhighlight:function(b,f,h){b.type==="radio"?this.findByName(b.name).removeClass(f).addClass(h):a(b).removeClass(f).addClass(h)}},setDefaults:function(b){a.extend(a.validator.defaults,
b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),
minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function b(j){var l=a.data(this[0].form,"validator"),q="on"+j.type.replace(/^validate/,
"");l.settings[q]&&l.settings[q].call(l,this[0],j)}this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var f=this.groups={};a.each(this.settings.groups,function(j,l){a.each(l.split(/\s/),function(q,s){f[s]=j})});var h=
this.settings.rules;a.each(h,function(j,l){h[j]=a.validator.normalizeRule(l)});a(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",
b);this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var b=0,f=this.currentElements=this.elements();f[b];b++)this.check(f[b]);return this.valid()},element:function(b){this.lastElement=
b=this.validationTargetFor(this.clean(b));this.prepareElement(b);this.currentElements=a(b);var f=this.check(b);if(f)delete this.invalid[b.name];else this.invalid[b.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return f},showErrors:function(b){if(b){a.extend(this.errorMap,b);this.errorList=[];for(var f in b)this.errorList.push({message:b[f],element:this.findByName(f)[0]});this.successList=a.grep(this.successList,function(h){return!(h.name in b)})}this.settings.showErrors?
this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(b){var f=0;for(var h in b)f++;return f},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==
0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(f){return f.element.name==b.name}).length==1&&b},elements:function(){var b=this,f={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&
b.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in f||!b.objectLength(a(this).rules()))return false;return f[this.name]=true})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},
prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},check:function(b){b=this.validationTargetFor(this.clean(b));var f=a(b).rules(),h=false;for(var j in f){var l={method:j,parameters:f[j]};try{var q=a.validator.methods[j].call(this,b.value.replace(/\r/g,""),b,l.parameters);if(q=="dependency-mismatch")h=true;else{h=false;if(q=="pending"){this.toHide=this.toHide.not(this.errorsFor(b));return}if(!q){this.formatAndAdd(b,l);return false}}}catch(s){this.settings.debug&&window.console&&
console.log("exception occured when checking element "+b.id+", check the '"+l.method+"' method",s);throw s;}}if(!h){this.objectLength(f)&&this.successList.push(b);return true}},customMetaMessage:function(b,f){if(a.metadata)return(b=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata())&&b.messages&&b.messages[f]},customMessage:function(b,f){return(b=this.settings.messages[b])&&(b.constructor==String?b:b[f])},findDefined:function(){for(var b=0;b<arguments.length;b++)if(arguments[b]!==
undefined)return arguments[b]},defaultMessage:function(b,f){return this.findDefined(this.customMessage(b.name,f),this.customMetaMessage(b,f),!this.settings.ignoreTitle&&b.title||undefined,a.validator.messages[f],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,f){var h=this.defaultMessage(b,f.method),j=/\$?\{(\d+)\}/g;if(typeof h=="function")h=h.call(this,f.parameters,b);else if(j.test(h))h=jQuery.format(h.replace(j,"{$1}"),f.parameters);this.errorList.push({message:h,
element:b});this.errorMap[b.name]=h;this.submitted[b.name]=h},addWrapper:function(b){if(this.settings.wrapper)b=b.add(b.parent(this.settings.wrapper));return b},defaultShowErrors:function(){for(var b=0;this.errorList[b];b++){var f=this.errorList[b];this.settings.highlight&&this.settings.highlight.call(this,f.element,this.settings.errorClass,this.settings.validClass);this.showLabel(f.element,f.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(b=
0;this.successList[b];b++)this.showLabel(this.successList[b]);if(this.settings.unhighlight){b=0;for(f=this.validElements();f[b];b++)this.settings.unhighlight.call(this,f[b],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,
f){var h=this.errorsFor(b);if(h.length){h.removeClass(this.settings.validClass).addClass(this.settings.errorClass);h.attr("generated")&&h.html(f)}else{h=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(b),generated:true}).addClass(this.settings.errorClass).html(f||"");if(this.settings.wrapper)h=h.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(h).length||(this.settings.errorPlacement?this.settings.errorPlacement(h,a(b)):h.insertAfter(b))}if(!f&&
this.settings.success){h.text("");typeof this.settings.success=="string"?h.addClass(this.settings.success):this.settings.success(h)}this.toShow=this.toShow.add(h)},errorsFor:function(b){var f=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")==f})},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},validationTargetFor:function(b){if(this.checkable(b))b=this.findByName(b.name).not(this.settings.ignore)[0];return b},checkable:function(b){return/radio|checkbox/i.test(b.type)},
findByName:function(b){var f=this.currentForm;return a(document.getElementsByName(b)).map(function(h,j){return j.form==f&&j.name==b&&j||null})},getLength:function(b,f){switch(f.nodeName.toLowerCase()){case "select":return a("option:selected",f).length;case "input":if(this.checkable(f))return this.findByName(f.name).filter(":checked").length}return b.length},depend:function(b,f){return this.dependTypes[typeof b]?this.dependTypes[typeof b](b,f):true},dependTypes:{"boolean":function(b){return b},string:function(b,
f){return!!a(b,f.form).length},"function":function(b,f){return b(f)}},optional:function(b){return!a.validator.methods.required.call(this,a.trim(b.value),b)&&"dependency-mismatch"},startRequest:function(b){if(!this.pending[b.name]){this.pendingRequest++;this.pending[b.name]=true}},stopRequest:function(b,f){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[b.name];if(f&&this.pendingRequest==0&&this.formSubmitted&&this.form()){a(this.currentForm).submit();this.formSubmitted=
false}else if(!f&&this.pendingRequest==0&&this.formSubmitted){a(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:true,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},
creditcard:{creditcard:true}},addClassRules:function(b,f){b.constructor==String?(this.classRuleSettings[b]=f):a.extend(this.classRuleSettings,b)},classRules:function(b){var f={};(b=a(b).attr("class"))&&a.each(b.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(f,a.validator.classRuleSettings[this])});return f},attributeRules:function(b){var f={};b=a(b);for(var h in a.validator.methods){var j;if(j=h==="required"&&typeof a.fn.prop==="function"?b.prop(h):b.attr(h))f[h]=j;else if(b[0].getAttribute("type")===
h)f[h]=true}f.maxlength&&/-1|2147483647|524288/.test(f.maxlength)&&delete f.maxlength;return f},metadataRules:function(b){if(!a.metadata)return{};var f=a.data(b.form,"validator").settings.meta;return f?a(b).metadata()[f]:a(b).metadata()},staticRules:function(b){var f={},h=a.data(b.form,"validator");if(h.settings.rules)f=a.validator.normalizeRule(h.settings.rules[b.name])||{};return f},normalizeRules:function(b,f){a.each(b,function(h,j){if(j===false)delete b[h];else if(j.param||j.depends){var l=true;
switch(typeof j.depends){case "string":l=!!a(j.depends,f.form).length;break;case "function":l=j.depends.call(f,f);break}if(l)b[h]=j.param!==undefined?j.param:true;else delete b[h]}});a.each(b,function(h,j){b[h]=a.isFunction(j)?j(f):j});a.each(["minlength","maxlength","min","max"],function(){if(b[this])b[this]=Number(b[this])});a.each(["rangelength","range"],function(){if(b[this])b[this]=[Number(b[this][0]),Number(b[this][1])]});if(a.validator.autoCreateRanges){if(b.min&&b.max){b.range=[b.min,b.max];
delete b.min;delete b.max}if(b.minlength&&b.maxlength){b.rangelength=[b.minlength,b.maxlength];delete b.minlength;delete b.maxlength}}b.messages&&delete b.messages;return b},normalizeRule:function(b){if(typeof b=="string"){var f={};a.each(b.split(/\s/),function(){f[this]=true});b=f}return b},addMethod:function(b,f,h){a.validator.methods[b]=f;a.validator.messages[b]=h!=undefined?h:a.validator.messages[b];f.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,
f,h){if(!this.depend(h,f))return"dependency-mismatch";switch(f.nodeName.toLowerCase()){case "select":return(b=a(f).val())&&b.length>0;case "input":if(this.checkable(f))return this.getLength(b,f)>0;default:return a.trim(b).length>0}},remote:function(b,f,h){if(this.optional(f))return"dependency-mismatch";var j=this.previousValue(f);this.settings.messages[f.name]||(this.settings.messages[f.name]={});j.originalMessage=this.settings.messages[f.name].remote;this.settings.messages[f.name].remote=j.message;
h=typeof h=="string"&&{url:h}||h;if(this.pending[f.name])return"pending";if(j.old===b)return j.valid;j.old=b;var l=this;this.startRequest(f);var q={};q[f.name]=b;a.ajax(a.extend(true,{url:h,mode:"abort",port:"validate"+f.name,dataType:"json",data:q,success:function(s){l.settings.messages[f.name].remote=j.originalMessage;var v=s===true;if(v){var D=l.formSubmitted;l.prepareElement(f);l.formSubmitted=D;l.successList.push(f);l.showErrors()}else{D={};s=s||l.defaultMessage(f,"remote");D[f.name]=j.message=
a.isFunction(s)?s(b):s;l.showErrors(D)}j.valid=v;l.stopRequest(f,v)}},h));return"pending"},minlength:function(b,f,h){return this.optional(f)||this.getLength(a.trim(b),f)>=h},maxlength:function(b,f,h){return this.optional(f)||this.getLength(a.trim(b),f)<=h},rangelength:function(b,f,h){b=this.getLength(a.trim(b),f);return this.optional(f)||b>=h[0]&&b<=h[1]},min:function(b,f,h){return this.optional(f)||b>=h},max:function(b,f,h){return this.optional(f)||b<=h},range:function(b,f,h){return this.optional(f)||
b>=h[0]&&b<=h[1]},email:function(b,f){return this.optional(f)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(b)},
url:function(b,f){return this.optional(f)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)},
date:function(b,f){return this.optional(f)||!/Invalid|NaN/.test(new Date(b))},dateISO:function(b,f){return this.optional(f)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(b)},number:function(b,f){return this.optional(f)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(b)},digits:function(b,f){return this.optional(f)||/^\d+$/.test(b)},creditcard:function(b,f){if(this.optional(f))return"dependency-mismatch";if(/[^0-9 -]+/.test(b))return false;var h=f=0,j=false;b=b.replace(/\D/g,"");for(var l=b.length-1;l>=
0;l--){h=b.charAt(l);h=parseInt(h,10);if(j)if((h*=2)>9)h-=9;f+=h;j=!j}return f%10==0},accept:function(b,f,h){h=typeof h=="string"?h.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(f)||b.match(new RegExp(".("+h+")$","i"))},equalTo:function(b,f,h){h=a(h).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(f).valid()});return b==h.val()}}});a.format=a.validator.format})(jQuery);
(function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(h,j,l){j=h.port;if(h.mode=="abort"){b[j]&&b[j].abort();b[j]=l}});else{var f=a.ajax;a.ajax=function(h){var j=("port"in h?h:a.ajaxSettings).port;if(("mode"in h?h:a.ajaxSettings).mode=="abort"){b[j]&&b[j].abort();return b[j]=f.apply(this,arguments)}return f.apply(this,arguments)}}})(jQuery);
(function(a){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&a.each({focus:"focusin",blur:"focusout"},function(b,f){function h(j){j=a.event.fix(j);j.type=f;return a.event.handle.call(this,j)}a.event.special[f]={setup:function(){this.addEventListener(b,h,true)},teardown:function(){this.removeEventListener(b,h,true)},handler:function(j){arguments[0]=a.event.fix(j);arguments[0].type=f;return a.event.handle.apply(this,arguments)}}});a.extend(a.fn,{validateDelegate:function(b,
f,h){return this.bind(f,function(j){var l=a(j.target);if(l.is(b))return h.apply(l,arguments)})}})})(jQuery);steal.loaded("zoladex/lib/jQueryValidation/jquery.validate.js");steal("jquery/class",function(){$.Class("Zoladex.QSUtils",{getParams:function(){try{var a=window.location.href.split("?")[1].split("#")[0];return $.String.deparam(a)}catch(b){return-1}}},{})});steal.loaded("zoladex/classes/qsutils.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view").then("../views/tab_bar/init.ejs",function(a){a.Controller("Zoladex.Controllers.TabBar",{init:function(){this.element.html(this.view());switch(this.options.page){case "hcp":this.selectHcp();break;case "calendar":this.selectCalendar();break;case "progress":this.selectProgress();break;case "support":this.selectSupport();break;default:}},generateRelativeUrl:function(){return str},makeActive:function(b){b.addClass("ui-btn-active")},
selectHcp:function(){this.makeActive(a(".hcpTab"))},selectCalendar:function(){this.makeActive(a(".calendarTab"))},selectProgress:function(){this.makeActive(a(".progressTab"))},selectSupport:function(){this.makeActive(a(".supportTab"))}})});steal.loaded("zoladex/controllers/tabbar_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/hcp.js","../lib/WebSQL/db.js","../views/hcp_list/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.HcpList",{},{init:function(){a.mobile.showPageLoadingMsg();this.list=a("#HcpListList")},loadData:function(){a.View("//zoladex/views/hcp_list/init.ejs",Zoladex.Models.Hcp.findAll(),null,this.callback(this.refreshList))},refreshList:function(b){a.mobile.hidePageLoadingMsg();this.element.html(b);
this.list.listview("refresh")}})});steal.loaded("zoladex/controllers/hcplist_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/lang/string/deparam/deparam.js","jquery/dom/form_params","jquery/controller/view","../models/hcp.js","../models/practice.js","../lib/WebSQL/db.js","../views/hcp_details/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.HcpDetails",{},{postcode:null,init:function(){a.mobile.showPageLoadingMsg()},getCommaSeparatedString:function(b){if(b.length==0)return"";for(var f=b[0].Name,h=1;h<b.length;h++)f+=", "+b[h].Name;return f},loadData:function(){var b=
Zoladex.QSUtils.getParams(),f=Zoladex.Models.Hcp.findOne(b.id),h=Zoladex.Models.Practice.findAll({hcpid:b.id}),j=this;a.when(f,h).done(function(l,q){a("#HcpDetailsPage h1").html(l.FullName());var s=a("#EditHcpButton").attr("href")+l.id;a("#EditHcpButton").attr("href",s);j.postcode=l.Postcode;l=a.View("//zoladex/views/hcp_details/init.ejs",{id:l.id,Title:l.Title,FirstName:l.FirstName,Surname:l.Surname,PracticeName:j.getCommaSeparatedString(q)?j.getCommaSeparatedString(q):"None",Telephone:l.Telephone,
Email:l.Email,Street:l.Street,Town:l.Town,County:l.County,Postcode:l.Postcode,Notes:l.Notes});a("#HcpDetailsList").html(l).trigger("create");a("#HcpDetailsList").listview("refresh");a("#DeleteHcpButton").attr("href","dialog/hcpconfirmdialog.htm?id="+b.id);a.mobile.hidePageLoadingMsg()})},"#AddressLink click":function(){window.location="http://maps.google.com/maps?q="+this.postcode+", UK"}})});steal.loaded("zoladex/controllers/hcpdetails_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/hcp.js","../models/hcppractice.js","../lib/WebSQL/db.js","../views/hcp_addedit/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.HcpAdd",{},{init:function(){a.validator.setDefaults({errorPlacement:function(b,f){a(f).attr({title:b.text()})},highlight:function(b){if(a(b).is("select"))b=a(b).parent().get(0);a(b).removeClass("textinput");a(b).addClass("errorHighlight")},unhighlight:function(b){if(a(b).is("select"))b=
a(b).parent().get(0);a(b).removeClass("errorHighlight");a(b).addClass("textinput")}})},loadData:function(){var b=Zoladex.Models.Practice.findAll(),f=Zoladex.QSUtils.getParams();a.when(b).done(function(h){var j=[];if(f.locid)j.push({id:f.locid});else j=-1;h=a.View("//zoladex/views/hcp_addedit/init.ejs",{id:"",Title:"",FirstName:"",Surname:"",PracticeName:"",Number:"",Email:"",Street:"",Town:"",County:"",Postcode:"",Notes:"",Locs:h,LocsId:j});a("#NewHcpForm").html(h).trigger("create")})},submit:function(b,
f){f.preventDefault();if(a("#NewHcpForm").valid()){b=b.formParams();(new Zoladex.Models.Hcp({Title:b.Title,FirstName:b.FirstName,Surname:b.Surname,Telephone:b.Telephone,Email:b.Email,Street:b.Street,Town:b.Town,County:b.County,Postcode:b.Postcode,Notes:b.Notes})).save(this.callback("onInsertSuccess"),this.callback("onInsertFail"))}return false},addPractices:function(b){for(var f=a("form").formParams(),h=0;h<f.PracticeName.length;h++){var j={HcpId:parseInt(b),PracticeId:parseInt(f.PracticeName[h])};
(new Zoladex.Models.HcpPractice(j)).save()}},onInsertSuccess:function(b,f){this.addPractices(f);b=Zoladex.QSUtils.getParams();if(b.onsubmit)if(b.onsubmit==0)a.mobile.changePage("../calendar/patientappointmentnew.htm?hcpid="+f,"flip",false,true);else b.onsubmit==1&&a.mobile.changePage("../calendar/patientappointmentedit.htm?hcpid="+f+"&id="+b.id,"flip",false,true);else a.mobile.changePage("hcplist.htm","pop",false,true)},"#PracticeNew click":function(){a.mobile.changePage(baseurl+"/zoladex/pages/hcp/practicenew.htm?onsubmit=2",
"flip",false,true)},onInsertFail:function(){a.mobile.changePage("dialog/error.htm","pop",false,true)}})});steal.loaded("zoladex/controllers/hcpadd_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/hcp.js","../lib/WebSQL/db.js","../views/hcp_addedit/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.HcpEdit",{},{init:function(){a.mobile.showPageLoadingMsg();a.validator.setDefaults({errorPlacement:function(b,f){a(f).attr({title:b.text()})},highlight:function(b){if(a(b).is("select"))b=a(b).parent().get(0);a(b).removeClass("textinput");a(b).addClass("errorHighlight")},unhighlight:function(b){if(a(b).is("select"))b=
a(b).parent().get(0);a(b).removeClass("errorHighlight");a(b).addClass("textinput")}})},submit:function(b,f){f.preventDefault();b=b.formParams();b={id:b.id,Title:b.Title,FirstName:b.FirstName,Surname:b.Surname,Telephone:b.Telephone,Email:b.Email,Street:b.Street,Town:b.Town,County:b.County,Postcode:b.Postcode,Notes:b.Notes};a("#EditHcpForm").valid()&&(new Zoladex.Models.Hcp(b)).save(this.callback(this.onUpdateSuccess),this.callback("onUpdateFail"));return false},loadData:function(){var b=Zoladex.QSUtils.getParams(),
f=Zoladex.Models.Hcp.findOne(b.id),h=Zoladex.Models.Practice.findAll({hcpid:b.id}),j=Zoladex.Models.Practice.findAll({id:b.id});a.when(f,h,j).done(function(l,q,s){var v=[];if(b.locid)v.push({id:b.locid});else v=q;l=a.View("//zoladex/views/hcp_addedit/init.ejs",{id:l.id,Title:l.Title,FirstName:l.FirstName,Surname:l.Surname,Telephone:l.Telephone,Email:l.Email,Street:l.Street,Town:l.Town,County:l.County,Postcode:l.Postcode,Notes:l.Notes,Locs:s,LocsId:v?v:-1});q=a("#EditHcpForm");q.html(l);q.trigger("create");
a.mobile.hidePageLoadingMsg()})},addPractices:function(b){for(var f=a("form").formParams(),h=0;h<f.PracticeName.length;h++){var j={HcpId:parseInt(b),PracticeId:parseInt(f.PracticeName[h])};h!=f.PracticeName.length-1?(new Zoladex.Models.HcpPractice(j)).save():(new Zoladex.Models.HcpPractice(j)).save(this.callback(this.onUpdateSuccess2))}},onUpdateSuccess:function(b){var f=this;Zoladex.Models.HcpPractice.destroyByHcpId(b.id).done(function(){f.addPractices(b.id)})},onUpdateSuccess2:function(){a.mobile.changePage("hcpdetails.htm?id="+
a("#id").val())},"#PracticeNew click":function(){a.mobile.changePage(baseurl+"/zoladex/pages/hcp/practicenew.htm?onsubmit=3&id="+a("#id").val(),"flip",false,true)},onUpdateFail:function(){a.mobile.changePage("dialog/error.htm","pop",false,true)}})});steal.loaded("zoladex/controllers/hcpedit_controller.js");
steal("jquery/controller","jquery/lang/string/deparam/deparam.js","jquery/controller/view","../models/hcp.js").then(function(a){a.Controller("Zoladex.Controllers.HcpDelete",{},{init:function(){},"#confirmYes click":function(){var b=Zoladex.QSUtils.getParams();Zoladex.Models.Hcp.destroy(b.id)},"#confirmNo click":function(){a(".ui-dialog").dialog("close")}})});steal.loaded("zoladex/controllers/hcpdelete_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/practice.js","../lib/WebSQL/db.js","../views/practice_list/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.PracticeList",{},{init:function(){a.mobile.showPageLoadingMsg();this.list=a("#PracticeListList")},loadData:function(){a.View("//zoladex/views/practice_list/init.ejs",Zoladex.Models.Practice.findAll(),null,this.callback(this.refreshList))},refreshList:function(b){a.mobile.hidePageLoadingMsg();
this.element.html(b);this.list.listview("refresh")}})});steal.loaded("zoladex/controllers/practicelist_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/lang/string/deparam/deparam.js","jquery/dom/form_params","jquery/controller/view","../models/practice.js","../lib/WebSQL/db.js","../views/practice_details/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.PracticeDetails",{},{postcode:null,init:function(){a.mobile.showPageLoadingMsg()},loadData:function(){var b=Zoladex.QSUtils.getParams();b=Zoladex.Models.Practice.findOne(b.id);a.when(b).done(this.callback("insertData"))},insertData:function(b){this.postcode=
b.Postcode;a("#PracticeDetailsPage h1").html(b.Name);var f=a("#EditPracticeButton").attr("href")+b.id;a("#EditPracticeButton").attr("href",f);f=this.view("//zoladex/views/practice_details/init.ejs",b);a("#PracticeDetailsList",this.element).append(f);a("#PracticeDetailsList").listview("refresh");a("#DeletePracticeButton").attr("href","dialog/practiceconfirmdialog.htm?id="+b.id);a.mobile.hidePageLoadingMsg()},"#AddressLink click":function(){window.location="http://maps.google.com/maps?q="+this.postcode+
", UK"}})});steal.loaded("zoladex/controllers/practicedetails_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/practiceB.js","../lib/WebSQL/db.js","../views/practice_addedit/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.PracticeAdd",{},{init:function(){a.validator.setDefaults({errorPlacement:function(f,h){a(h).attr({title:f.text()})},highlight:function(f){a(f).removeClass("textinput");a(f).addClass("errorHighlight")},unhighlight:function(f){a(f).removeClass("errorHighlight");a(f).addClass("textinput")}});
var b=a.View("//zoladex/views/practice_addedit/init.ejs",{id:"",Name:""});a("#NewPracticeForm").html(b)},submit:function(b,f){f.preventDefault();if(a("#NewPracticeForm").valid()){b={Name:b.formParams().Name};(new Zoladex.Models.PracticeB(b)).save(this.callback("onInsertSuccess"),this.callback("onInsertFail"))}return false},onInsertSuccess:function(b,f){b=Zoladex.QSUtils.getParams();if(b.onsubmit)if(b.onsubmit==0)a.mobile.changePage("../calendar/patientappointmentnew.htm?locid="+f,"flip",false,true);
else if(b.onsubmit==1)a.mobile.changePage("../calendar/patientappointmentedit.htm?locid="+f+"&id="+b.id,"flip",false,true);else if(b.onsubmit==2)a.mobile.changePage("../hcp/hcpnew.htm?locid="+f,"flip",false,true);else b.onsubmit==3&&a.mobile.changePage("../hcp/hcpedit.htm?locid="+f+"&id="+b.id,"flip",false,true);else a.mobile.changePage("practicelist.htm","pop",false,true)},onInsertFail:function(){a.mobile.changePage("dialog/error.htm","pop",false,true)}})});steal.loaded("zoladex/controllers/practiceadd_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/practiceB.js","../lib/WebSQL/db.js","../views/practice_addedit/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.PracticeEdit",{},{init:function(){a.mobile.showPageLoadingMsg();a.validator.setDefaults({errorPlacement:function(b,f){a(f).attr({title:b.text()})},highlight:function(b){a(b).removeClass("textinput");a(b).addClass("errorHighlight")},unhighlight:function(b){a(b).removeClass("errorHighlight");
a(b).addClass("textinput")}})},submit:function(b,f){f.preventDefault();a("#EditPracticeForm").valid()&&(new Zoladex.Models.PracticeB(b.formParams())).save(this.callback(this.onUpdateSuccess),this.callback("onUpdateFail"));return false},loadData:function(){var b=Zoladex.QSUtils.getParams(),f=Zoladex.Models.PracticeB.findOne(b.id);b=a("#ButtonDeletePractice").attr("href")+b.id;a("#ButtonDeletePractice").attr("href",b);f.done(this.callback("insertData"))},onUpdateSuccess:function(){a.mobile.changePage("practicedetails.htm?id="+
this.currentId)},onUpdateFail:function(){a.mobile.changePage("dialog/error.htm","pop",false,true)},insertData:function(b){this.currentId=b.id;b=a.View("//zoladex/views/practice_addedit/init.ejs",b);var f=a("#EditPracticeForm");f.html(b);f.trigger("create");a.mobile.hidePageLoadingMsg()}})});steal.loaded("zoladex/controllers/practiceedit_controller.js");
steal("jquery/controller","jquery/lang/string/deparam/deparam.js","jquery/controller/view","../models/practice.js").then(function(a){a.Controller("Zoladex.Controllers.PracticeDelete",{},{init:function(){},"#confirmYes click":function(){var b=Zoladex.QSUtils.getParams();Zoladex.Models.Practice.destroy(b.id)},"#confirmNo click":function(){a(".ui-dialog").dialog("close")}})});steal.loaded("zoladex/controllers/practicedelete_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view").then(function(a){a.Controller("Zoladex.Controllers.SupportGroupList",{init:function(){alert("todo: load support group data from local db")}})});steal.loaded("zoladex/controllers/supportgrouplist_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/appointment.js","../models/appointmenttype.js","../models/healthcare_location.js","../models/hcp.js","../lib/WebSQL/db.js","../lib/mobiscroll/css/mobiscroll-1.5.2.css","../lib/mobiscroll/js/mobiscroll-1.5.2.js","../views/patientappointment_addedit/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.PatientAppointmentAdd",{},{init:function(){a.mobile.showPageLoadingMsg();a.validator.setDefaults({errorPlacement:function(s,
v){a(v).attr({title:s.text()})},highlight:function(s){if(a(s).is("select"))s=a(s).parent().get(0);a(s).removeClass("textinput");a(s).addClass("errorHighlight")},unhighlight:function(s){if(a(s).is("select"))s=a(s).parent().get(0);a(s).removeClass("errorHighlight");a(s).addClass("textinput")}});var b=Zoladex.QSUtils.getParams(),f=b.locid?b.locid:-1,h=b.hcpid?b.hcpid:-1;this.element.validate({submitHandler:this.callback("onSubmit")});var j=this;b=Zoladex.Models.AppointmentType.findAll();var l=Zoladex.Models.Practice.findAll(),
q=Zoladex.Models.Hcp.findAll({basicdetails:true});a.when(b,l,q).done(function(s,v,D){s=a.View("//zoladex/views/patientappointment_addedit/init.ejs",{Id:"",HcpId:h,AppointmentLocationId:0,AppointmentTypeId:0,Hcps:D,Locs:v,Types:s,TypeId:localStorage.typeid?localStorage.typeid:"",LocsId:f});localStorage.typeid=null;a("#NewAppointmentForm").html(s).trigger("create");j.setupDateTimeControls();a.mobile.hidePageLoadingMsg()})},onSubmit:function(b){(new Zoladex.Models.Appointment(a(b).formParams())).save(this.callback("onInsertSuccess"),
this.callback("onInsertFail"))},"#StartDate focus":function(){var b=new Date;b.setDate(b.getDate()+1);a("#StartDate").scroller("setDate",b,true)},setupDateTimeControls:function(){var b=navigator.userAgent.indexOf("Android")>0?"android":"ios";a("#StartDate").scroller({theme:b,dateFormat:"dd M yy",dateOrder:"ddMMyy"});a("#StartTime").scroller({preset:"time",theme:b,timeFormat:"HH:ii"});a("#StartDate,#StartTime").change(function(){var f=a.scroller.parseDate("dd M yy",a("#StartDate").val()),h=a.scroller.parseDate("H:i",
a("#StartTime").val());f.setHours(h.getHours());f.setMinutes(h.getMinutes());a("#StartDateTime").val(f.getTime())});jQuery.validator.addMethod("mustBeInFuture",function(){var f=(new Date).getTime(),h=a("#StartDateTime").val();return f<h},"* Appointment date/time must be in the future");jQuery.validator.addClassRules({mustBeInFuture:{mustBeInFuture:true}})},onInsertSuccess:function(){a.mobile.changePage("dialog/success.htm","pop",false,true)},onInsertFail:function(){a.mobile.changePage("dialog/error.htm",
"pop",false,true)},"#HcpId change":function(){a("#HcpId option:selected").val()==0&&a.mobile.changePage("../hcp/hcpnew.htm?onsubmit=0","flip",false,true)},"#TypeId change":function(){if(a("#TypeId option:selected").val()==-1){a.mobile.changePage("../calendar/dialog/typenew.htm","flip",false,true);localStorage.onsubmit=0}},"#HealthcareLocationId change":function(){a("#HealthcareLocationId option:selected").val()==0&&a.mobile.changePage("../hcp/practicenew.htm?onsubmit=0","flip",false,true)}})});steal.loaded("zoladex/controllers/patientappointmentadd_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/appointment.js","../models/appointmenttype.js","../models/practice.js","../models/hcp.js","../lib/WebSQL/db.js","../lib/mobiscroll/css/mobiscroll-1.5.2.css","../lib/mobiscroll/js/mobiscroll-1.5.2.js","../views/patientappointment_addedit/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.PatientAppointmentEdit",{},{init:function(){a.mobile.showPageLoadingMsg();a.validator.setDefaults({errorPlacement:function(b,
f){a(f).attr({title:b.text()})},highlight:function(b){if(a(b).is("select"))b=a(b).parent().get(0);a(b).removeClass("textinput");a(b).addClass("errorHighlight")},unhighlight:function(b){if(a(b).is("select"))b=a(b).parent().get(0);a(b).removeClass("errorHighlight");a(b).addClass("textinput")}})},loadData:function(){var b=Zoladex.QSUtils.getParams(),f=Zoladex.Models.AppointmentType.findAll(),h=Zoladex.Models.Practice.findAll(),j=Zoladex.Models.Hcp.findAll({basicdetails:true}),l=Zoladex.Models.Appointment.findOne(b.id),
q=this;a.when(f,h,j,l).done(function(s,v,D,x){s=a.View("//zoladex/views/patientappointment_addedit/init.ejs",{id:x.id,HcpId:b.hcpid?b.hcpid:x.HcpId,TypeId:localStorage.typeid?localStorage.typeid:x.TypeId,LocsId:b.locid?b.locid:x.HealthcareLocationId,StartDateTime:x.StartDateTime,AlertsEnabled:x.AlertsEnabled,AppointmentLocationId:v.id,AppointmentTypeId:s.id,Hcps:D,Locs:v,Types:s});localStorage.typeId=null;a("#EditAppointmentForm").html(s).trigger("create");q.setupDateTimeControls();a("#DeleteAppointmentButton").attr("href",
"dialog/appointmentconfirmdialog.htm?id="+b.id);a.mobile.hidePageLoadingMsg()})},setupDateTimeControls:function(){var b=navigator.userAgent.indexOf("Android")>0?"android":"ios";a("#StartDate").scroller({theme:b,dateFormat:"dd M yy",dateOrder:"ddMMyy"});a("#StartTime").scroller({preset:"time",theme:b,timeFormat:"HH:ii"});a("#StartDate,#StartTime").change(function(){var f=a.scroller.parseDate("dd M yy",a("#StartDate").val()),h=a.scroller.parseDate("H:i",a("#StartTime").val());f.setHours(h.getHours());
f.setMinutes(h.getMinutes());a("#StartDateTime").val(f.getTime())});jQuery.validator.addMethod("mustBeInFuture",function(){var f=(new Date).getTime(),h=a("#StartDateTime").val();return f<h},"* Appointment date/time must be in the future");jQuery.validator.addClassRules({mustBeInFuture:{mustBeInFuture:true}})},submit:function(b,f){f.preventDefault();a("#EditAppointmentForm").valid()&&(new Zoladex.Models.Appointment(b.formParams())).save(this.callback("onInsertSuccess"),this.callback("onInsertFail"));
return false},onInsertSuccess:function(){a.mobile.changePage("calendar.htm","pop",false,true)},onInsertFail:function(){a.mobile.changePage("dialog/error.htm","pop",false,true)},"#HcpId change":function(){if(a("#HcpId option:selected").val()==0){var b=Zoladex.QSUtils.getParams();a.mobile.changePage("../hcp/hcpnew.htm?onsubmit=1&id="+b.id,"flip",false,true)}},"#TypeId change":function(){if(a("#TypeId option:selected").val()==-1){var b=Zoladex.QSUtils.getParams();localStorage.onsubmit=1;localStorage.appId=
b.id;a.mobile.changePage("../calendar/dialog/typenew.htm","flip",false,true)}},"#HealthcareLocationId change":function(){if(a("#HealthcareLocationId option:selected").val()==0){var b=Zoladex.QSUtils.getParams();a.mobile.changePage("../hcp/practicenew.htm?onsubmit=1&id="+b.id,"flip",false,true)}}})});steal.loaded("zoladex/controllers/patientappointmentedit_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/appointmentlistitem.js","../models/hcp.js","../views/patientappointment_list/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.PatientAppointmentList",{},{init:function(){a.mobile.showPageLoadingMsg();Zoladex.Models.AppointmentListItem.findAll().done(this.callback("onDataLoaded"))},onDataLoaded:function(b){a("#AppointmentsList").html(a.View("//zoladex/views/patientappointment_list/init.ejs",
b));a("#AppointmentsList").listview("refresh");a.mobile.hidePageLoadingMsg()}})});steal.loaded("zoladex/controllers/patientappointmentlist_controller.js");steal("jquery/controller","jquery/lang/string/deparam/deparam.js","jquery/controller/view","../models/appointment.js").then(function(a){a.Controller("Zoladex.Controllers.PatientAppointmentDelete",{},{init:function(){},"#confirmYes click":function(){var b=Zoladex.QSUtils.getParams();Zoladex.Models.Appointment.destroy(b.id)},"#confirmNo click":function(){a(".ui-dialog").dialog("close")}})});
steal.loaded("zoladex/controllers/patientappointmentdelete_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/patientsymptomlistitem.js","../lib/WebSQL/db.js","../views/symptom_list/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.SymptomList",{},{init:function(){a.mobile.showPageLoadingMsg();this.list=a("#SymptomListContainer")},loadData:function(){Zoladex.Models.PatientSymptomListItem.findAll(this).done(this.callback("onDataLoaded"))},onDataLoaded:function(b){a("#SymptomListContainer").html(a.View("//zoladex/views/symptom_list/init.ejs",
b));a.mobile.hidePageLoadingMsg();this.list.listview()}})});steal.loaded("zoladex/controllers/symptomlist_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/patientsymptom.js","../models/symptom.js","../lib/WebSQL/db.js","../views/symptom_addedit/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.SymptomAdd",{},{init:function(){a.mobile.showPageLoadingMsg();a.validator.setDefaults({errorPlacement:function(f,h){a(h).attr({title:f.text()})},highlight:function(f){if(a(f).is("select"))f=a(f).parent().get(0);a(f).removeClass("textinput");a(f).addClass("errorHighlight")},
unhighlight:function(f){if(a(f).is("select"))f=a(f).parent().get(0);a(f).removeClass("errorHighlight");a(f).addClass("textinput")}});var b=a.View("//zoladex/views/symptom_addedit/init.ejs",{DateTime:new Date,Symptoms:Zoladex.Models.Symptom.findAll(),SymptomId:localStorage.stid});localStorage.stid=null;a("#RecordSymptomForm").html(b);b.done(this.callback(this.refreshForm))},submit:function(b,f){f.preventDefault();a("#RecordSymptomForm").valid()&&(new Zoladex.Models.PatientSymptom(b.formParams())).save(this.callback("onInsertSuccess"),
this.callback("onInsertFail"));return false},setupDateTimeControls:function(){var b=navigator.userAgent.indexOf("Android")>0?"android":"ios";a("#Date").scroller({theme:b,dateFormat:"dd M yy",dateOrder:"ddMMyy"});a("#Time").scroller({preset:"time",theme:b,timeFormat:"HH:ii"});a("#Date,#Time").change(function(){var f=a.scroller.parseDate("dd M yy",a("#Date").val()),h=a.scroller.parseDate("H:i",a("#Time").val());f.setHours(h.getHours());f.setMinutes(h.getMinutes());a("#DateTime").val(f.getTime())})},
"#SymptomId change":function(){if(a("#SymptomId option:selected").val()==-1){a.mobile.changePage("../dialog/typenew.htm","flip",false,true);localStorage.onsubmit=0}},onInsertSuccess:function(b){b=Zoladex.Models.Symptom.findOne(b.SymptomId);a.when(b).done(function(f){f[0].WarningSign==1?a.mobile.changePage("../dialog/patientwarningdialog.htm","pop",false,true):a.mobile.changePage("symptomslist.htm","pop",false,true)})},onInsertFail:function(){},refreshForm:function(){a("#RecordSymptomForm").trigger("create");
this.setupDateTimeControls();a.mobile.hidePageLoadingMsg()}})});steal.loaded("zoladex/controllers/symptomadd_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/symptom.js","../views/symptom_addedit/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.SymptomEdit",{},{init:function(){a.mobile.showPageLoadingMsg();a.validator.setDefaults({errorPlacement:function(j,l){a(l).attr({title:j.text()})},highlight:function(j){if(a(j).is("select"))j=a(j).parent().get(0);a(j).removeClass("textinput");a(j).addClass("errorHighlight")},unhighlight:function(j){if(a(j).is("select"))j=
a(j).parent().get(0);a(j).removeClass("errorHighlight");a(j).addClass("textinput")}});var b=this,f=Zoladex.QSUtils.getParams(),h=Zoladex.Models.PatientSymptom.findOne(f.id);a("#DeleteSymptomButton").attr("href","../dialog/symptomconfirmdialog.htm?id="+f.id);f=Zoladex.Models.Symptom.findAll();a.when(h,f).done(function(j,l){j.Symptoms=l;if(localStorage.stid!=="null")j.SymptomId=localStorage.stid;localStorage.stid=null;j=a.View("//zoladex/views/symptom_addedit/init.ejs",j);a("#EditSymptomForm").html(j).trigger("create");
j=navigator.userAgent.indexOf("Android")>0?"android":"ios";a("#Date").scroller({theme:j,dateFormat:"dd M yy",dateOrder:"ddMMyy"});a("#Time").scroller({preset:"time",theme:j,timeFormat:"HH:ii"});b.setupDateTimeControls();a.mobile.hidePageLoadingMsg()})},submit:function(b,f){f.preventDefault();if(a("#EditSymptomForm").valid()){(new Zoladex.Models.PatientSymptom(b.formParams())).save(this.callback("onUpdateSuccess"),this.callback("onUpdateFail"));b.formParams()}return false},setupDateTimeControls:function(){var b=
navigator.userAgent.indexOf("Android")>0?"android":"ios";a("#Date").scroller({theme:b,dateFormat:"dd M yy",dateOrder:"ddMMyy"});a("#Time").scroller({preset:"time",theme:b,timeFormat:"HH:ii"});a("#Date,#Time").change(function(){var f=a.scroller.parseDate("dd M yy",a("#Date").val()),h=a.scroller.parseDate("H:i",a("#Time").val());f.setHours(h.getHours());f.setMinutes(h.getMinutes());a("#DateTime").val(f.getTime())})},"#SymptomId change":function(){if(a("#SymptomId option:selected").val()==-1){var b=
Zoladex.QSUtils.getParams();localStorage.symptomId=b.id;localStorage.onsubmit=1;a.mobile.changePage("../dialog/typenew.htm","flip",false,true)}},onUpdateSuccess:function(){a.mobile.changePage("symptomslist.htm")},onUpdateFail:function(){}})});steal.loaded("zoladex/controllers/symptomedit_controller.js");
steal("jquery/controller","jquery/lang/string/deparam/deparam.js","jquery/controller/view","../models/symptom.js").then(function(a){a.Controller("Zoladex.Controllers.SymptomDelete",{},{init:function(){},"#confirmYes click":function(){var b=Zoladex.QSUtils.getParams();Zoladex.Models.PatientSymptom.destroy(b.id)},"#confirmNo click":function(){a(".ui-dialog").dialog("close")}})});steal.loaded("zoladex/controllers/symptomdelete_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/category.js","../models/question.js","../models/myquestion.js","../models/hcp.js","../lib/WebSQL/db.js","../views/question_addedit/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.QuestionAdd",{},{num:0,init:function(){var b=Zoladex.QSUtils.getParams().category,f=Zoladex.Models.Category.findOne(b);b=Zoladex.Models.Question.findByCategory(b);var h=Zoladex.Models.Hcp.findAll();a.when(f,
b,h).done(function(j,l,q){a("h1.ui-title").append(j.Category);j=a.View("//zoladex/views/question_addedit/init.ejs",{questionList:l,hcpList:q});a("#QuestionForm").html(j).trigger("create")})},submit:function(){var b=this;this.num=this.count();if(a("#CustomQuestionText").val()&&a("#CustomQuestionDdl option:selected").val()!=="-1"){var f={Question:a("#CustomQuestionText").val(),HcpId:a("#CustomQuestionDdl option:selected").val()},h={Question:a("#CustomQuestionText").val(),CategoryId:a("#catId").val()};
(new Zoladex.Models.Question(h)).save(b.callback("onInsertSuccess"),b.callback("onInsertFail"));(new Zoladex.Models.MyQuestion(f)).save(b.callback("onInsertSuccess"),b.callback("onInsertFail"));this.num+=2}a("form #QuestionDdl option:selected").each(function(j){if(a(this).val()!=="-1"){j={Question:a("#Question"+j).text(),HcpId:a(this).val()};(new Zoladex.Models.MyQuestion(j)).save(b.callback("onInsertSuccess"),b.callback("onInsertFail"))}});return false},onInsertSuccess:function(){this.num--;this.num==
0&&a.mobile.changePage("myquestions.htm")},onInsertFail:function(){a.mobile.changePage("../pages/hcp/dialog/error.htm")},count:function(){var b=0;a("form #QuestionDdl option:selected").each(function(){a(this).val()!=="-1"&&b++});return b}})});steal.loaded("zoladex/controllers/questionadd_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/myquestionlist.js","../lib/WebSQL/db.js","../views/question_list/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.MyQuestionsList",{},{init:function(){var b=this;a.mobile.showPageLoadingMsg();var f=Zoladex.Models.MyQuestionList.findAll();a.when(f).done(function(h){a.View("//zoladex/views/question_list/init.ejs",h,null,b.callback(b.refreshList))})},refreshList:function(b){a.mobile.hidePageLoadingMsg();
a("#QuestionList").html(b);a("#QuestionList").listview("refresh")},".deleteButton click":function(b){var f=this;b=a(b).attr("id");b=Zoladex.Models.MyQuestionList.destroy(b);a.when(b).done(function(){f.init()})},".questionText click":function(b){b=a(b).children(":first").text();localStorage.questionText=b;a.mobile.changePage("dialog/questiondialog.htm")}})});steal.loaded("zoladex/controllers/questionlist_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../lib/WebSQL/db.js","../models/psalevel.js","../lib/mobiscroll/css/mobiscroll-1.5.2.css","../lib/mobiscroll/js/mobiscroll-1.5.2.js","../views/level_addedit/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.LevelAdd",{},{averageCancerAge:null,init:function(){a.validator.setDefaults({errorPlacement:function(j,l){a(l).attr({title:j.text()})},highlight:function(j){a(j).removeClass("textinput");
a(j).addClass("errorHighlight")},unhighlight:function(j){a(j).removeClass("errorHighlight");a(j).addClass("textinput")}});var b=new Date,f;if(localStorage.dateOfBirth!==undefined)f=new Date(localStorage.dateOfBirth);else{averageCancerAge=new Date;averageCancerAge.setYear(1940);averageCancerAge.setMonth(0);averageCancerAge.setDate(1)}var h=navigator.userAgent.indexOf("Android")>0?"android":"ios";b=a.View("//zoladex/views/level_addedit/init.ejs",{date:b,dateOfBirth:f});a("#AddLevelForm").html(b);a("#Date").scroller({theme:h,
dateFormat:"dd M yy",dateOrder:"ddMMyy"});a("#Dob").scroller({preset:"date",theme:h,dateFormat:"dd M yy",dateOrder:"ddMMyy"})},"#Dob focus":function(){averageCancerAge&&a("#Dob").scroller("setDate",averageCancerAge,true)},submit:function(b,f){f.preventDefault();if(a("#AddLevelForm").valid()){b=b.formParams();if(b.birthdate!=="")localStorage.dateOfBirth=a.scroller.parseDate("dd M yy",b.Dob);(new Zoladex.Models.Psalevel({Date:b.date,PsaLevel:b.psacount})).save(this.callback("onInsertSuccess"),this.callback("onInsertFail"))}return false},
onInsertSuccess:function(){a.mobile.changePage("levels.htm","pop",false,true)},onInsertFail:function(){a.mobile.changePage("dialog/error.htm","pop",false,true)},calculateAge:function(b){b=b===undefined||b<1?new Date(localStorage.dateOfBirth):new Date(b);return(new Date).getFullYear()-b.getFullYear()}})});steal.loaded("zoladex/controllers/leveladd_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/psalevel.js","../lib/WebSQL/db.js").then(function(a){a.Controller("Zoladex.Controllers.LevelChart",{},{init:function(){a.mobile.showPageLoadingMsg();(new Zoladex.Models.Psalevel.findAll).done(this.callback("onDataLoad"))},onDataLoad:function(b){var f=[],h=[];a.each(b,function(j,l){f.push(l.PsaLevel);h.push(l.Date)});zingchart.render({id:"PsaChartContainer",output:"canvas",width:320,height:320,
data:{graphset:[{type:"line","scale-x":{values:h},series:[{values:f}]}]}})}})});steal.loaded("zoladex/controllers/levelchart_controller.js");steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/alert.js","../lib/WebSQL/db.js").then(function(a){a.Controller("Zoladex.Controllers.Home",{},{init:function(){var b=Zoladex.Models.Alert.findAll();a.when(b).done(function(f){f.length>0&&alertHasBeenShown==false&&a.mobile.changePage("../home/dialog/alertdialog.htm")})}})});
steal.loaded("zoladex/controllers/home_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view","../models/alert.js","../views/alerts/init.ejs").then(function(a){a.Controller("Zoladex.Controllers.Alerts",{},{init:function(){a.mobile.showPageLoadingMsg();Zoladex.Models.Alert.findAll().done(this.callback("onDataLoaded"))},onDataLoaded:function(b){a("#dialog").html(a.View("//zoladex/views/alerts/init.ejs",b));a("#dialog").trigger("create");a.mobile.hidePageLoadingMsg()},"#OK click":function(){alertHasBeenShown=
true}})});steal.loaded("zoladex/controllers/alert_controller.js");
steal("jquery/controller","jquery/lang/string/deparam/deparam.js","jquery/controller/view","../models/appointmenttype.js").then(function(a){a.Controller("Zoladex.Controllers.AppointmentTypeAdd",{},{init:function(){},"#confirmYes click":function(){var b={Name:a("#Name").val()};(new Zoladex.Models.AppointmentType(b)).save(this.callback("onInsertSuccess"),this.callback("onInsertFail"))},"#confirmNo click":function(){a(".ui-dialog").dialog("close")},onInsertSuccess:function(b,f){if(localStorage.onsubmit==
0){localStorage.typeid=f;a.mobile.changePage("../calendar/patientappointmentnew.htm","flip",false,true)}else if(localStorage.onsubmit==1){localStorage.typeid=f;b=localStorage.appId;localStorage.appId=null;a.mobile.changePage("../calendar/patientappointmentedit.htm?id="+b,"flip",false,true)}},onInsertFail:function(){alert("fail")}})});steal.loaded("zoladex/controllers/appointmenttypeadd_controller.js");
steal("jquery/controller","jquery/lang/string/deparam/deparam.js","jquery/controller/view","../models/symptom.js").then(function(a){a.Controller("Zoladex.Controllers.SymptomTypeAdd",{},{init:function(){},"#confirmYes click":function(){var b={Description:a("#Name").val(),WarningSign:-1};(new Zoladex.Models.Symptom(b)).save(this.callback("onInsertSuccess"),this.callback("onInsertFail"))},"#confirmNo click":function(){a(".ui-dialog").dialog("close")},onInsertSuccess:function(b,f){if(localStorage.onsubmit==
0){localStorage.stid=f;a.mobile.changePage("../symptoms/symptomrecord.htm","flip",false,true)}else if(localStorage.onsubmit==1){localStorage.stid=f;b=localStorage.symptomId;localStorage.symptomId=null;a.mobile.changePage("../symptoms/symptomedit.htm?id="+b,"flip",false,true)}},onInsertFail:function(){alert("fail")}})});steal.loaded("zoladex/controllers/symptomtypeadd_controller.js");
steal("jquery/controller","jquery/view/ejs","jquery/dom/form_params","jquery/controller/view").then(function(a){a.Controller("Zoladex.Controllers.QuestionDialog",{},{init:function(){a("#QuestionText").append(localStorage.questionText)}})});steal.loaded("zoladex/controllers/questiondialog_controller.js");
steal("jquery/class","jquery/lang/string","jquery/event/destroyed",function(a){var b=function(F,T,ba){var ia,ca=F.bind&&F.unbind?F:a(j(F)?[F]:F);if(T.indexOf(">")===0){T=T.substr(1);ia=function(ea){ea.target===F&&ba.apply(this,arguments)}}ca.bind(T,ia||ba);return function(){ca.unbind(T,ia||ba);F=T=ba=ia=null}},f=a.makeArray,h=a.isArray,j=a.isFunction,l=a.extend,q=a.String,s=a.each,v=Array.prototype.slice,D=function(F,T,ba,ia){var ca=F.delegate&&F.undelegate?F:a(j(F)?[F]:F);ca.delegate(T,ba,ia);return function(){ca.undelegate(T,
ba,ia);ca=F=ba=ia=T=null}},x=function(F,T,ba,ia){return ia?D(F,ia,T,ba):b(F,T,ba)},K=function(F,T){var ba=typeof T=="string"?F[T]:T;return function(){F.called=T;return ba.apply(F,[this.nodeName?a(this):this].concat(v.call(arguments,0)))}},G=/\./g,u=/_?controllers?/ig,t=function(F){return q.underscore(F.replace("jQuery.","").replace(G,"_").replace(u,""))},N=/[^\w]/,P=/\{([^\}]+)\}/g,o=/^(?:(.*?)\s)?([\w\.\:>]+)$/,y,z=function(F,T){return a.data(F,"controllers",T)};a.Class("jQuery.Controller",{setup:function(){this._super.apply(this,
arguments);if(!(!this.shortName||this.fullName=="jQuery.Controller")){this._fullName=t(this.fullName);this._shortName=t(this.shortName);var F=this,T=this.pluginName||this._fullName,ba;a.fn[T]||(a.fn[T]=function(ia){var ca=f(arguments),ea=typeof ia=="string"&&j(F.prototype[ia]),n=ca[0];return this.each(function(){var H=z(this);if(H=H&&H[T])ea?H[n].apply(H,ca.slice(1)):H.update.apply(H,ca);else F.newInstance.apply(F,[this].concat(ca))})});this.actions={};for(ba in this.prototype)if(!(ba=="constructor"||
!j(this.prototype[ba])))if(this._isAction(ba))this.actions[ba]=this._action(ba)}},hookup:function(F){return new this(F)},_isAction:function(F){return N.test(F)?true:a.inArray(F,this.listensTo)>-1||a.event.special[F]||E[F]},_action:function(F,T){P.lastIndex=0;if(!T&&P.test(F))return null;F=T?q.sub(F,[T,window]):F;T=h(F);var ba=(T?F[1]:F).match(o);return{processor:E[ba[2]]||y,parts:ba,delegate:T?F[0]:undefined}},processors:{},listensTo:[],defaults:{}},{setup:function(F,T){var ba=this.constructor;F=
F.jquery?F[0]:F;var ia=ba.pluginName||ba._fullName;this.element=a(F).addClass(ia);(z(F)||z(F,{}))[ia]=this;this.options=l(l(true,{},ba.defaults),T);this.called="init";this.bind();return this.element},bind:function(F,T,ba){if(F===undefined){this._bindings=[];F=this.constructor;T=this._bindings;ba=F.actions;var ia=this.element;for(funcName in ba)if(ba.hasOwnProperty(funcName)){ready=ba[funcName]||F._action(funcName,this.options);T.push(ready.processor(ready.delegate||ia,ready.parts[2],ready.parts[1],
funcName,this))}var ca=K(this,"destroy");ia.bind("destroyed",ca);T.push(function(ea){a(ea).unbind("destroyed",ca)});return T.length}if(typeof F=="string"){ba=T;T=F;F=this.element}return this._binder(F,T,ba)},_binder:function(F,T,ba,ia){if(typeof ba=="string")ba=K(this,ba);this._bindings.push(x(F,T,ba,ia));return this._bindings.length},_unbind:function(){var F=this.element[0];s(this._bindings,function(T,ba){ba(F)});this._bindings=[]},delegate:function(F,T,ba,ia){if(typeof F=="string"){ia=ba;ba=T;T=
F;F=this.element}return this._binder(F,ba,ia,T)},update:function(F){l(this.options,F);this._unbind();this.bind()},destroy:function(){if(this._destroyed)throw this.constructor.shortName+" controller already deleted";var F=this.constructor.pluginName||this.constructor._fullName;this._destroyed=true;this.element.removeClass(F);this._unbind();delete this._actions;delete this.element.data("controllers")[F];a(this).triggerHandler("destroyed");this.element=null},find:function(F){return this.element.find(F)},
_set_called:true});var E=a.Controller.processors;y=function(F,T,ba,ia,ca){return x(F,T,K(ca,ia),ba)};s("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave".split(" "),function(F,T){E[T]=y});var V,Q=function(F,T){for(V=0;V<T.length;V++)if(typeof T[V]=="string"?F.constructor._shortName==T[V]:F instanceof T[V])return true;return false};a.fn.extend({controllers:function(){var F=
f(arguments),T=[],ba,ia,ca;this.each(function(){ba=a.data(this,"controllers");for(ca in ba)if(ba.hasOwnProperty(ca)){ia=ba[ca];if(!F.length||Q(ia,F))T.push(ia)}});return T},controller:function(){return this.controllers.apply(this,arguments)[0]}})});steal.loaded("jquery/controller/controller.js");
steal("jquery/dom").then(function(a){var b=/radio|checkbox/i,f=/[^\[\]]+/g,h=/^[\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?$/,j=function(l){if(typeof l=="number")return true;if(typeof l!="string")return false;return l.match(h)};a.fn.extend({formParams:function(l){if(this[0].nodeName.toLowerCase()=="form"&&this[0].elements)return jQuery(jQuery.makeArray(this[0].elements)).getParams(l);return jQuery("input[name], textarea[name], select[name]",this[0]).getParams(l)},getParams:function(l){var q={},s;l=l===
undefined?false:l;this.each(function(){var v=this,D=v.type&&v.type.toLowerCase();if(!(D=="submit"||!v.name||v.name.indexOf("_")==0)){var x=v.name,K=a.data(v,"value")||a.fn.val.call([v]),G=b.test(v.type);x=x.match(f);v=!G||!!v.checked;if(l){if(j(K))K=parseFloat(K);else if(K==="true")K=true;else if(K==="false")K=false;if(K==="")K=undefined}s=q;for(G=0;G<x.length-1;G++){s[x[G]]||(s[x[G]]={});s=s[x[G]]}x=x[x.length-1];if(x in s&&D==="checkbox"){a.isArray(s[x])||(s[x]=s[x]===undefined?[]:[s[x]]);v&&s[x].push(K)}else if(v||
!s[x])s[x]=v?K:undefined}});return q}})});steal.loaded("jquery/dom/form_params/form_params.js");
steal("jquery/controller","jquery/view").then(function(){jQuery.Controller.getFolder=function(){return jQuery.String.underscore(this.fullName.replace(/\./g,"/")).replace("/Controllers","")};jQuery.Controller._calculatePosition=function(b,f,h){var j=b.fullName.split("."),l=j.slice(0);l.splice(0,2);l.join("/");j=(b=j.length>2&&j[1]=="Controllers")?jQuery.String.underscore(j[0]):jQuery.String.underscore(j.join("/"));l=jQuery.String.underscore(l.join("/")).toLowerCase();var q=typeof f=="string"&&/\.[\w\d]+$/.test(f)?
"":jQuery.View.ext;if(typeof f=="string"){if(f.substr(0,2)!="//")f="//"+(new steal.File("views/"+(f.indexOf("/")!==-1?f:(b?l+"/":"")+f))).joinFrom(j)+q}else f||(f="//"+(new steal.File("views/"+(b?l+"/":"")+h.replace(/\.|#/g,"").replace(/ /g,"_"))).joinFrom(j)+q);return f};var a=function(b){var f={};if(b)if(jQuery.isArray(b))for(var h=0;h<b.length;h++)jQuery.extend(f,b[h]);else jQuery.extend(f,b);else{if(this._default_helpers)f=this._default_helpers;b=window;h=this.constructor.fullName.split(/\./);
for(var j=0;j<h.length;j++){typeof b.Helpers=="object"&&jQuery.extend(f,b.Helpers);b=b[h[j]]}typeof b.Helpers=="object"&&jQuery.extend(f,b.Helpers);this._default_helpers=f}return f};jQuery.Controller.prototype.view=function(b,f,h){if(typeof b!="string"&&!h){h=f;f=b;b=null}b=jQuery.Controller._calculatePosition(this.Class,b,this.called);f=f||this;h=a.call(this,h);return jQuery.View(b,f,h)}});steal.loaded("jquery/controller/view/view.js");
steal("jquery/event").then(function(a){var b=jQuery.cleanData;a.cleanData=function(f){for(var h=0,j;(j=f[h])!==undefined;h++)a(j).triggerHandler("destroyed");b(f)}});steal.loaded("jquery/event/destroyed/destroyed.js");steal("jquery");steal.loaded("jquery/event/event.js");steal("jquery");steal.loaded("jquery/dom/dom.js");
steal("jquery/view/ejs").then(function(a){a.View.preload("zoladex_views_tab_bar_init_ejs",jQuery.EJS(function(b,f){try{with(f)with(b){b=[];b.push('<div data-role="navbar" id="nav">\n');b.push("    <ul>\n");b.push('        <li><a data-iconpos="top" data-icon="hcp-18" data-transition="none" href="');b.push(jQuery.EJS.clean(baseurl));b.push('/zoladex/pages/hcp/hcp.htm" class="hcpTab">My HCP</a>\n');b.push("    </li>\n");b.push("    <li>\n");b.push('        <a data-iconpos="top" data-icon="calendar-18" data-transition="none" href="');
b.push(jQuery.EJS.clean(baseurl));b.push('/zoladex/pages/calendar/calendar.htm" class="calendarTab">Calendar</a>\n');b.push("    </li>\n");b.push("    <li>\n");b.push('        <a data-iconpos="top"  data-icon="progress-18" data-transition="none" href="');b.push(jQuery.EJS.clean(baseurl));b.push('/zoladex/pages/progress/progress.htm" class="progressTab">Progress</a>\n');b.push("    </li>\n");b.push("    <li>\n");b.push('        <a data-iconpos="top" data-icon="support-18" data-transition="none" href="');
b.push(jQuery.EJS.clean(baseurl));b.push('/zoladex/pages/support/support.htm" class="supportTab">Support</a></li>\n');b.push("    </ul>\n");b.push("</div>");return b.join("")}}catch(h){h.lineNumber=null;throw h;}}))});steal.loaded("zoladex/views/tab_bar/init.ejs");
steal("jquery/model",function(){Zoladex.Models.WebSqlModel("Zoladex.Models.Hcp",{findAll:function(){return localStorageDB.getRows("SELECT * FROM HealthcareProfessionals",this)},findOne:function(a){return localStorageDB.getSingleRow("SELECT * FROM HealthcareProfessionals WHERE id ="+a,this)},tableName:"HealthcareProfessionals"},{FullName:function(){return this.Title+" "+this.FirstName+" "+this.Surname}})});steal.loaded("zoladex/models/hcp.js");
var localStorageDB=function(){function a(u){G=u;try{if(window.openDatabase){K=l();x?b():v()}}catch(t){}}function b(){var u=["HcpPractices","HealthcareProfessionals","Appointments","HealthcareLocations","AppointmentTypes","PatientSymptoms","Practices","Symptoms","PsaLevels","Categories","MyQuestions","Questions","sqlite_sequence"];$.each(u,function(t){K.transaction(function(N){N.executeSql("DROP TABLE "+u[t])})})}function f(u,t,N,P){K=l();var o=$.Deferred();K.transaction(function(y){y.executeSql(u,
t,function(z,E){z=0;try{z=E.insertId}catch(V){}E&&z>0?o.resolve(E.insertId):o.resolve()},function(z,E){s(E,u);o.reject(E)})});N&&o.then(N);P&&o.fail(P);return o.promise()}function h(u,t,N,P){K=l();var o=$.Deferred();K.transaction(function(y){y.executeSql(u,[],function(z,E){t&&t.models?o.resolve(t.models(q(E.rows))):o.resolve(q(E.rows))},function(z,E){s(E,u);o.reject(E)})});N&&o.then(N);P&&o.fail(P);return o.promise()}function j(u,t,N,P){K=l();var o=$.Deferred();K.transaction(function(y){y.executeSql(u,
[],function(z,E){if(E.rows.length>0)t&&t.model?o.resolve(t.model(E.rows.item(0))):o.resolve(E.rows.item(0));else o.resolve()},function(z,E){s(E,u);o.reject(E)})});N&&o.then(N);P&&o.fail(P);return o.promise()}function l(){return openDatabase("zoladexDB","1.0","Zoladex Mobile App",2E5)}function q(u){var t=[];$.each(u,function(N){t.push(u.item(N))});return t}function s(){}function v(){D("Practices",function(u){u.executeSql("CREATE TABLE IF NOT EXISTS Practices (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, Name, Postcode)",
[],function(t){t.executeSql("INSERT INTO Practices (Name, Postcode) VALUES (?,?)",["QE2","AL8 7QX"])})});D("HealthcareProfessionals",function(u){u.executeSql("CREATE TABLE IF NOT EXISTS HealthcareProfessionals (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, Title, FirstName, Surname, Telephone, Email, Street, Town, County, Postcode, Notes)",[],function(t){t.executeSql("INSERT INTO HealthcareProfessionals (Title, FirstName, Surname, Telephone, Email, Street, Town, County, Postcode, Notes) VALUES (?,?,?,?,?,?,?,?,?,?)",
["Dr","Sarah","Westminster","09123 674738","SarahWestminster@nhs.co.uk","Oak Lane","Letchworth","Herts","AL8 7UY","On call hours: 6am - 11pm everyday"])})});D("Appointments",function(u){u.executeSql("CREATE TABLE IF NOT EXISTS Appointments (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, StartDateTime INTEGER, TypeId INTEGER, HcpId INTEGER, HealthcareLocationId INTEGER, AlertsEnabled INTEGER)")});D("AppointmentTypes",function(u){u.executeSql("CREATE TABLE IF NOT EXISTS AppointmentTypes (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, Name)",
[],function(t){t.executeSql('INSERT INTO AppointmentTypes (Name) VALUES ("PSA test")');t.executeSql('INSERT INTO AppointmentTypes (Name) VALUES ("Follow up")');t.executeSql('INSERT INTO AppointmentTypes (Name) VALUES ("Zoladex injection")');t.executeSql('INSERT INTO AppointmentTypes (Name) VALUES ("Surgery")');t.executeSql('INSERT INTO AppointmentTypes (Name) VALUES ("Chemotherapy")');t.executeSql('INSERT INTO AppointmentTypes (Name) VALUES ("Radiotherapy")')})});D("PatientSymptoms",function(u){u.executeSql("CREATE TABLE IF NOT EXISTS PatientSymptoms (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, DateTime INTEGER, SymptomId INTEGER)")});
D("Symptoms",function(u){u.executeSql("CREATE TABLE IF NOT EXISTS Symptoms (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, Description, WarningSign INTEGER)",[],function(t){t.executeSql('INSERT INTO Symptoms (Description, WarningSign) VALUES ("Pain in lower Back", 1)');t.executeSql('INSERT INTO Symptoms (Description, WarningSign) VALUES ("Vomiting", 1)');t.executeSql('INSERT INTO Symptoms (Description, WarningSign) VALUES ("Tiredness", 0)');t.executeSql('INSERT INTO Symptoms (Description, WarningSign) VALUES ("Dizziness", 1)')})});
D("Questions",function(u){u.executeSql("CREATE TABLE IF NOT EXISTS Questions (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, Question, CategoryId INTEGER)",[],function(t){t.executeSql('INSERT INTO Questions (Question, CategoryId) VALUES ("Why is the sky blue?", 0)');t.executeSql('INSERT INTO Questions (Question, CategoryId) VALUES ("Why is the sky pink?", 0)');t.executeSql('INSERT INTO Questions (Question, CategoryId) VALUES ("How big is the moon?", 1)')})});D("MyQuestions",function(u){u.executeSql("CREATE TABLE IF NOT EXISTS MyQuestions (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, Question, HcpId INTEGER)",
[],function(){})});D("Categories",function(u){u.executeSql("CREATE TABLE IF NOT EXISTS Categories (Category , CategoryId INTEGER)",[],function(t){t.executeSql('INSERT INTO Categories (Category, CategoryId) VALUES ("Cat 1", 0)');t.executeSql('INSERT INTO Categories (Category, CategoryId) VALUES ("Cat 2", 1)');t.executeSql('INSERT INTO Categories (Category, CategoryId) VALUES ("Cat 3", 2)');t.executeSql('INSERT INTO Categories (Category, CategoryId) VALUES ("Cat 4", 3)');t.executeSql('INSERT INTO Categories (Category, CategoryId) VALUES ("Cat 5", 4)')})});
D("PsaLevels",function(u){u.executeSql("CREATE TABLE IF NOT EXISTS PsaLevels (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, Date INTEGER, PsaLevel DOUBLE)")});D("HcpPractices",function(u){u.executeSql("CREATE TABLE IF NOT EXISTS HcpPractices (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, HcpId INTEGER, PracticeId INTEGER)")})}function D(u,t){K&&K.transaction(function(N){N.executeSql('select DISTINCT tbl_name from sqlite_master where tbl_name = "'+u+'"',[],function(P,o){o.rows.length||t(P)})})}var x=
false,K=null,G=null;return{init:a,getRows:h,getSingleRow:j,executeSql:f,dropTables:b}}();steal.loaded("zoladex/lib/WebSQL/db.js");
steal("jquery/view/ejs").then(function(a){a.View.preload("zoladex_views_hcp_list_init_ejs",jQuery.EJS(function(b,f){try{with(f)with(b){b=[];b.push("\ufeff");if(this.length<1){b.push("\n");b.push("\t\n");b.push("\t<li>\n");b.push('\t\t<a href="hcpnew.htm">You have no HCP\'s added.</a>\n');b.push("\t</li>\n");b.push("\n")}else{b.push("\n");b.push("\n");for(f=0;f<this.length;f++){b.push("\n");b.push("    <li>\n");b.push('\t\t<a class="hcpAnchor" href="hcpdetails.htm?id=');b.push(jQuery.EJS.clean(this[f].id));
b.push('">');b.push(jQuery.EJS.clean(this[f].FullName()));b.push("</a>\n");b.push("    </li>\n")}}return b.join("")}}catch(h){h.lineNumber=null;throw h;}}))});steal.loaded("zoladex/views/hcp_list/init.ejs");
steal("jquery",function(a){var b=/^\d+$/,f=/([^\[\]]+)|(\[\])/g,h=/\+/g,j=/([^?#]*)(#.*)?$/;a.String=a.extend(a.String||{},{deparam:function(l){if(!l||!j.test(l))return{};var q={};l=l.split("&");for(var s,v=0;v<l.length;v++){s=q;var D=l[v].split("=");if(D.length!=2)D=[D[0],D.slice(1).join("=")];var x=decodeURIComponent(D[0].replace(h," "));D=decodeURIComponent(D[1].replace(h," "));x=x.match(f);for(var K=0;K<x.length-1;K++){var G=x[K];s[G]||(s[G]=b.test(x[K+1])||x[K+1]=="[]"?[]:{});s=s[G]}lastPart=
x[x.length-1];if(lastPart=="[]")s.push(D);else s[lastPart]=D}return q}})});steal.loaded("jquery/lang/string/deparam/deparam.js");
steal("jquery/model",function(){Zoladex.Models.WebSqlModel("Zoladex.Models.Practice",{findAll:function(a){if(a&&a.basicdetails)return localStorageDB.getRows("SELECT Name FROM Practices",this);else if(a&&a.hcpid)return localStorageDB.getRows("SELECT * FROM Practices as p inner join HcpPractices as hp where p.id = hp.PracticeId AND hp.HcpId = "+a.hcpid,this);return localStorageDB.getRows("SELECT * FROM Practices",this)},findOne:function(a){return localStorageDB.getSingleRow("SELECT * FROM Practices WHERE Id ="+
a,this)},tableName:"Practices"},{FullName:function(){return this.Name}})});steal.loaded("zoladex/models/practice.js");
steal("jquery/view/ejs").then(function(a){a.View.preload("zoladex_views_hcp_details_init_ejs",jQuery.EJS(function(b,f){try{with(f)with(b){b=[];b.push('<input id="id" type="hidden" value="');b.push(jQuery.EJS.clean(this.id));b.push('" />\n');b.push("<li>\n");b.push('\t<a href="tel:');b.push(jQuery.EJS.clean(this.Telephone));b.push('">\n');b.push("  <strong>Telephone: </strong>");b.push(jQuery.EJS.clean(this.Telephone));b.push("\n");b.push("\t</a>\n");b.push("</li>\n");b.push("<li>\n");b.push('\t<a href="mailto:');
b.push(jQuery.EJS.clean(this.Email));b.push('">\n');b.push("\t\t<strong>Email: </strong>");b.push(jQuery.EJS.clean(this.Email));b.push("\n");b.push("\t</a>\n");b.push("</li>\n");b.push("<li>\n");b.push("\t<a>\n");b.push("\t\t<strong>Hospital/Practice Name: </strong> ");b.push(jQuery.EJS.clean(this.PracticeName));b.push("\n");b.push("\t</a>\n");b.push("</li>\n");b.push("\n");b.push("<li>\n");b.push('\t<a id="AddressLink">\n');b.push("\tAddress: ");b.push(jQuery.EJS.clean(this.Street));b.push(", ");
b.push(jQuery.EJS.clean(this.Town));b.push(", ");b.push(jQuery.EJS.clean(this.County));b.push(", ");b.push(jQuery.EJS.clean(this.Postcode));b.push("\n");b.push("\t</a>\n");b.push("</li>\n");b.push("\n");b.push("<li>\n");b.push("\t<a>\n");b.push("\tNotes: ");b.push(jQuery.EJS.clean(this.Notes));b.push("\n");b.push("\t</a>\n");b.push("</li>\n");b.push("\n");return b.join("")}}catch(h){h.lineNumber=null;throw h;}}))});steal.loaded("zoladex/views/hcp_details/init.ejs");
steal("jquery/model",function(){Zoladex.Models.WebSqlModel("Zoladex.Models.HcpPractice",{findAll:function(a){return localStorageDB.getRows("SELECT * FROM HcpPractices WHERE Id ="+a,this)},destroyByHcpId:function(a){return localStorageDB.getRows("DELETE FROM HcpPractices WHERE HcpId ="+a,this)},tableName:"HcpPractices"},{})});steal.loaded("zoladex/models/hcppractice.js");
steal("jquery/view/ejs").then(function(a){a.View.preload("zoladex_views_hcp_addedit_init_ejs",jQuery.EJS(function(b,f){try{with(f)with(b){b=[];function h(l,q){for(var s=0;s<l.length;s++)if(q==l[s].id)return true}b.push("\n");b.push("\n");b.push('<input type="hidden" name="id" id="id" value="');b.push(jQuery.EJS.clean(this.id));b.push('" />\n');b.push("\n");b.push('<label for="PracticeName">Hospital:</label>\n');b.push("\n");b.push('<fieldset class="ui-grid-a">\n');b.push('<div class="ui-block-a">\n');
b.push('<select id="PracticeName" name="PracticeName" class=\'practiceSelect textinput required\' multiple="multiple" data-native-menu="false">\n');b.push('    <option value="">Select</option>\n');b.push("\t");for(f=0;f<this.Locs.length;f++){b.push("\n");b.push("\t\t<option ");if(h(this.LocsId,this.Locs[f].id)){b.push(" ");b.push(jQuery.EJS.clean(selected="selected"));b.push(" ")}b.push(' value="');b.push(jQuery.EJS.clean(this.Locs[f].id));b.push('">');b.push(jQuery.EJS.clean(this.Locs[f].Name));
b.push("</option>\n");b.push("\t")}b.push("  \n");b.push("</select>\n");b.push("</div>\n");b.push('<div class="ui-block-b">\n');b.push('<a id="PracticeNew" class="buttonNew" data-icon="plus" data-role="button">New</a>\n');b.push("</div>\n");b.push("\n");b.push("</fieldset>\n");b.push("\n");b.push('<input type="hidden" name="id" id="id" value="');b.push(jQuery.EJS.clean(this.id));b.push('" />\n');b.push('<label data-inline="true" for="title">Title</label>\n');b.push('<input type="text" name="Title" id="Title" class="textinput required" value="');
b.push(jQuery.EJS.clean(this.Title));b.push('" />\n');b.push('<label data-inline="true" for="firstname">First Name:</label>\n');b.push('<input type="text" name="FirstName" id="FirstName" class="textinput required" value ="');b.push(jQuery.EJS.clean(this.FirstName));b.push('" />\n');b.push('<label data-inline="true" for="surname">Surname:</label>\n');b.push('<input type="text" name="Surname" id="Surname"  class="textinput required" value="');b.push(jQuery.EJS.clean(this.Surname));b.push('" />\n');
b.push('<label data-inline="true" for="number">Number:</label>\n');b.push('<input type="tel" name="Telephone" id="Telephone" class="textinput required" value="');b.push(jQuery.EJS.clean(this.Telephone));b.push('"   />\n');b.push('<label data-inline="true" for="email">Email:</label>\n');b.push('<input type="email" name="Email" id="Email" class="textinput required email" value="');b.push(jQuery.EJS.clean(this.Email));b.push('"   />\n');b.push('<label data-inline="true" for="street">Street:</label>\n');
b.push('<input type="text" name="Street" id="Street" class="textinput required" value="');b.push(jQuery.EJS.clean(this.Street));b.push('"  />\n');b.push('<label data-inline="true" for="town">Town:</label>\n');b.push('<input type="text" name="Town" id="Town" class="textinput required" value="');b.push(jQuery.EJS.clean(this.Town));b.push('" />\n');b.push('<label data-inline="true" for="county">County:</label>\n');b.push('<input type="text" name="County" id="County" class="textinput required" value="');
b.push(jQuery.EJS.clean(this.County));b.push('" />\n');b.push('<label data-inline="true" for="postcode">Post code:</label>\n');b.push('<input type="text" name="Postcode" id="Postcode" class="textinput required" value="');b.push(jQuery.EJS.clean(this.Postcode));b.push('" />\n');b.push('<label data-inline="true" for="notes">Notes:</label>\n');b.push('<input type="text" name="Notes" id="Notes" value="');b.push(jQuery.EJS.clean(this.Notes));b.push('" />\n');b.push("\n");if(this.id){b.push("\n");b.push('<input type="submit" id="newhcpbutton" value="Save Changes" />\n')}else{b.push("\n");
b.push('<input type="submit" id="newhcpbutton" value="Add Healthcare Professional" />\n')}return b.join("")}}catch(j){j.lineNumber=null;throw j;}}))});steal.loaded("zoladex/views/hcp_addedit/init.ejs");
steal("jquery/view/ejs").then(function(a){a.View.preload("zoladex_views_practice_list_init_ejs",jQuery.EJS(function(b,f){try{with(f)with(b){b=[];b.push("\ufeff");if(this.length<1){b.push("\n");b.push("\t\n");b.push("\t<li>\n");b.push('\t\t<a href="practicenew.htm">\n');b.push("\t\t\tYou have no Hospitals/Practices added.\n");b.push("\t\t</a>\n");b.push("\t</li>\n");b.push("\n")}else{b.push("\n");b.push("\n");b.push("\n");for(f=0;f<this.length;f++){b.push("\n");b.push("    <li>\n");b.push('\t\t<a class="practiceAnchor" href="practicedetails.htm?id=');
b.push(jQuery.EJS.clean(this[f].id));b.push('">');b.push(jQuery.EJS.clean(this[f].FullName()));b.push("</a>\n");b.push("    </li>\n")}}return b.join("")}}catch(h){h.lineNumber=null;throw h;}}))});steal.loaded("zoladex/views/practice_list/init.ejs");
steal("jquery/view/ejs").then(function(a){a.View.preload("zoladex_views_practice_details_init_ejs",jQuery.EJS(function(b,f){try{with(f)with(b){b=[];b.push('\ufeff<input id="id" type="hidden" value="');b.push(jQuery.EJS.clean(this.id));b.push('" />\n');b.push('<li data-theme="d">\n');b.push("  <strong>Name: </strong>");b.push(jQuery.EJS.clean(this.Name));b.push("\n");b.push("</li>\n");b.push('<li  data-theme="d">\n');b.push("\t<strong>Address: </strong>");b.push(jQuery.EJS.clean(this.Postcode));b.push("\n");
b.push("</li>");return b.join("")}}catch(h){h.lineNumber=null;throw h;}}))});steal.loaded("zoladex/views/practice_details/init.ejs");
steal("jquery/model",function(){Zoladex.Models.WebSqlModel("Zoladex.Models.PracticeB",{findAll:function(a){if(a&&a.basicdetails)return localStorageDB.getRows("SELECT Name FROM Practices",this);else if(a&&a.hcpid)return localStorageDB.getRows("SELECT * FROM Practices as p inner join HcpPractices as hp where p.id = hp.PracticeId AND hp.HcpId = "+a.hcpid,this);return localStorageDB.getRows("SELECT * FROM Practices",this)},findOne:function(a){return localStorageDB.getSingleRow("SELECT * FROM Practices WHERE Id ="+
a,this)},tableName:"Practices"},{FullName:function(){return this.Name}})});steal.loaded("zoladex/models/practiceB.js");
steal("jquery/view/ejs").then(function(a){a.View.preload("zoladex_views_practice_addedit_init_ejs",jQuery.EJS(function(b,f){try{with(f)with(b){b=[];b.push('\ufeff<input type="hidden" name="id" id="id" value="');b.push(jQuery.EJS.clean(this.id));b.push('" />\n');b.push('<label for="title">Name: </label>\n');b.push('<input type="text" name="Name" id="name" class="textinput required" value="');b.push(jQuery.EJS.clean(this.Name));b.push('" />\n');b.push("\n");if(this.id){b.push("\n");b.push('<input type="submit" id="newpracticebutton" value="Save Changes" />\n')}else{b.push("\n");
b.push('<input type="submit" id="newpracticebutton" value="Add Hospital/GP Surgery" />\n')}return b.join("")}}catch(h){h.lineNumber=null;throw h;}}))});steal.loaded("zoladex/views/practice_addedit/init.ejs");
steal("jquery/model",function(){Zoladex.Models.WebSqlModel("Zoladex.Models.Appointment",{findAll:function(){return localStorageDB.getRows("SELECT ap.StartDate, ap.StartTime, ap.TypeId hcp.Title, hcp.FirstName, hcp.Surname, hcl.Name FROM Appointments as ap inner join HealthcareProfessionals as ap.hcp on HcpId=hcp.id inner join Practices as hcl on ap.LocationId = hcl.id",this)},findOne:function(a){return localStorageDB.getSingleRow("SELECT * FROM Appointments WHERE id ="+a,this)},attributes:{StartDateTime:"date"},
convert:{date:function(a){if(typeof a=="number")return new Date(a);return parseInt(a)}},tableName:"Appointments"},{})});steal.loaded("zoladex/models/appointment.js");steal("jquery/model",function(){Zoladex.Models.WebSqlModel("Zoladex.Models.AppointmentType",{findAll:function(){return localStorageDB.getRows("SELECT * from AppointmentTypes",this)},tableName:"AppointmentTypes"},{})});steal.loaded("zoladex/models/appointmenttype.js");
steal("jquery/model",function(){$.Model("Zoladex.Models.HealthcareLocation",{findAll:function(){return localStorageDB.getRows("SELECT * from HealthcareLocations",this)},findOne:function(){},create:function(){},update:function(){},destroy:function(){}},{})});steal.loaded("zoladex/models/healthcare_location.js");
(function(a){function b(ca,ea,n){var H=this,U,da,J,ta={},qa=false;this.settings=n;this.temp=this.val=this.values=null;this.setDefaults=function(d){a.extend(ba,d)};this.enable=function(){n.disabled=false;a(ca).is(":input")&&a(ca).prop("disabled",false)};this.scroll=function(d,O,R,W,Z){function ga(va,oa,Ba,ya){return Ba*Math.sin(va/ya*(Math.PI/2))+oa}d.attr("style",(R?E+"-transition:all "+R.toFixed(1)+"s ease-out;":"")+(z?E+"-transform:translate3d(0,"+O*q+"px,0);":"top:"+O*q+"px;"));if(R){var ka=0;
clearInterval(ta[Z]);ta[Z]=setInterval(function(){ka+=0.1;d.data("pos",Math.round(ga(ka,W,O-W,R)));if(ka>=R){clearInterval(ta[Z]);d.data("pos",O)}},100)}else d.data("pos",O)};this.disable=function(){n.disabled=true;a(ca).is(":input")&&a(ca).prop("disabled",true)};this.formatDate=function(d,O,R){if(!O)return null;R=a.extend({},this.settings,R);for(var W=function(ya){for(var xa=0;oa+1<d.length&&d.charAt(oa+1)==ya;){xa++;oa++}return xa},Z=function(ya,xa,Ia){xa=""+xa;if(W(ya))for(;xa.length<Ia;)xa="0"+
xa;return xa},ga=function(ya,xa,Ia,Ka){return W(ya)?Ka[xa]:Ia[xa]},ka="",va=false,oa=0;oa<d.length;oa++)if(va)if(d.charAt(oa)=="'"&&!W("'"))va=false;else ka+=d.charAt(oa);else switch(d.charAt(oa)){case "d":ka+=Z("d",O.getDate(),2);break;case "D":ka+=ga("D",O.getDay(),R.dayNamesShort,R.dayNames);break;case "o":ka+=Z("o",(O.getTime()-(new Date(O.getFullYear(),0,0)).getTime())/864E5,3);break;case "m":ka+=Z("m",O.getMonth()+1,2);break;case "M":ka+=ga("M",O.getMonth(),R.monthNamesShort,R.monthNames);break;
case "y":ka+=W("y")?O.getFullYear():(O.getYear()%100<10?"0":"")+O.getYear()%100;break;case "h":var Ba=O.getHours();ka+=Z("h",Ba>12?Ba-12:Ba==0?12:Ba,2);break;case "H":ka+=Z("H",O.getHours(),2);break;case "i":ka+=Z("i",O.getMinutes(),2);break;case "s":ka+=Z("s",O.getSeconds(),2);break;case "a":ka+=O.getHours()>11?"pm":"am";break;case "A":ka+=O.getHours()>11?"PM":"AM";break;case "'":if(W("'"))ka+="'";else va=true;break;default:ka+=d.charAt(oa)}return ka};this.parseDate=function(d,O,R){var W=new Date;
if(!d||!O)return W;O=typeof O=="object"?O.toString():O+"";var Z=a.extend({},this.settings,R);R=W.getFullYear();var ga=W.getMonth(),ka=W.getDate(),va=-1,oa=W.getHours(),Ba=W.getMinutes();W=W.getSeconds();for(var ya=-1,xa=false,Ia=function(Aa){(Aa=Pa+1<d.length&&d.charAt(Pa+1)==Aa)&&Pa++;return Aa},Ka=function(Aa){Ia(Aa);Aa=new RegExp("^\\d{1,"+(Aa=="@"?14:Aa=="!"?20:Aa=="y"?4:Aa=="o"?3:2)+"}");Aa=O.substr(Ja).match(Aa);if(!Aa)throw"Missing number at position "+Ja;Ja+=Aa[0].length;return parseInt(Aa[0],
10)},Oa=function(Aa,Sa,ab){Aa=Ia(Aa)?ab:Sa;for(Sa=0;Sa<Aa.length;Sa++)if(O.substr(Ja,Aa[Sa].length).toLowerCase()==Aa[Sa].toLowerCase()){Ja+=Aa[Sa].length;return Sa+1}throw"Unknown name at position "+Ja;},Ra=function(){if(O.charAt(Ja)!=d.charAt(Pa))throw"Unexpected literal at position "+Ja;Ja++},Ja=0,Pa=0;Pa<d.length;Pa++)if(xa)if(d.charAt(Pa)=="'"&&!Ia("'"))xa=false;else Ra();else switch(d.charAt(Pa)){case "d":ka=Ka("d");break;case "D":Oa("D",Z.dayNamesShort,Z.dayNames);break;case "o":va=Ka("o");
break;case "m":ga=Ka("m");break;case "M":ga=Oa("M",Z.monthNamesShort,Z.monthNames);break;case "y":R=Ka("y");break;case "H":oa=Ka("H");break;case "h":oa=Ka("h");break;case "i":Ba=Ka("i");break;case "s":W=Ka("s");break;case "a":ya=Oa("a",["am","pm"],["am","pm"])-1;break;case "A":ya=Oa("A",["am","pm"],["am","pm"])-1;break;case "'":if(Ia("'"))Ra();else xa=true;break;default:Ra()}if(R<100)R+=(new Date).getFullYear()-(new Date).getFullYear()%100+(R<=Z.shortYearCutoff?0:-100);if(va>-1){ga=1;ka=va;do{Z=32-
(new Date(R,ga-1,32)).getDate();if(ka<=Z)break;ga++;ka-=Z}while(1)}oa=ya==-1?oa:ya&&oa<12?oa+12:!ya&&oa==12?0:oa;oa=new Date(R,ga-1,ka,oa,Ba,W);if(oa.getFullYear()!=R||oa.getMonth()+1!=ga||oa.getDate()!=ka)throw"Invalid date";return oa};this.setValue=function(d){if(d==undefined)d=true;var O=this.formatResult();this.val=O;this.values=this.temp.slice(0);d&&a(ca).is(":input")&&a(ca).val(O).change()};this.getDate=function(){var d=this.values;if(n.preset=="date")return new Date(d[U],d[da],d[J]);if(n.preset==
"time"){var O=n.ampm?d[n.seconds?3:2]=="PM"&&d[0]-0<12?d[0]-0+12:d[n.seconds?3:2]=="AM"&&d[0]==12?0:d[0]:d[0];return new Date(1970,0,1,O,d[1],n.seconds?d[2]:null)}if(n.preset=="datetime"){O=n.ampm?d[n.seconds?6:5]=="PM"&&d[3]-0<12?d[3]-0+12:d[n.seconds?6:5]=="AM"&&d[3]==12?0:d[3]:d[3];return new Date(d[U],d[da],d[J],O,d[4],n.seconds?d[5]:null)}};this.setDate=function(d,O){if(n.preset.match(/date/i)){this.temp[U]=d.getFullYear();this.temp[da]=d.getMonth();this.temp[J]=d.getDate()}if(n.preset=="time"){var R=
d.getHours();this.temp[0]=n.ampm?R>12?R-12:R==0?12:R:R;this.temp[1]=d.getMinutes();if(n.seconds)this.temp[2]=d.getSeconds();if(n.ampm)this.temp[n.seconds?3:2]=R>11?"PM":"AM"}if(n.preset=="datetime"){R=d.getHours();this.temp[3]=n.ampm?R>12?R-12:R==0?12:R:R;this.temp[4]=d.getMinutes();if(n.seconds)this.temp[5]=d.getSeconds();if(n.ampm)this.temp[n.seconds?6:5]=R>11?"PM":"AM"}this.setValue(O)};this.parseValue=function(d){if(this.preset){var O=[];if(n.preset=="date"){try{var R=this.parseDate(n.dateFormat,
d,n)}catch(W){R=new Date}O[U]=R.getFullYear();O[da]=R.getMonth();O[J]=R.getDate()}else if(n.preset=="time"){try{R=this.parseDate(n.timeFormat,d,n)}catch(Z){R=new Date}d=R.getHours();O[0]=n.ampm?d>12?d-12:d==0?12:d:d;O[1]=R.getMinutes();if(n.seconds)O[2]=R.getSeconds();if(n.ampm)O[n.seconds?3:2]=d>11?"PM":"AM"}else if(n.preset=="datetime"){try{R=this.parseDate(n.dateFormat+" "+n.timeFormat,d,n)}catch(ga){R=new Date}d=R.getHours();O[U]=R.getFullYear();O[da]=R.getMonth();O[J]=R.getDate();O[3]=n.ampm?
d>12?d-12:d==0?12:d:d;O[4]=R.getMinutes();if(n.seconds)O[5]=R.getSeconds();if(n.ampm)O[n.seconds?6:5]=d>11?"PM":"AM"}return O}return n.parseValue(d,this)};this.formatResult=function(){var d=this.temp;if(this.preset)if(n.preset=="date")return this.formatDate(n.dateFormat,new Date(d[U],d[da],d[J]),n);else if(n.preset=="datetime"){var O=n.ampm?d[n.seconds?6:5]=="PM"&&d[3]-0<12?d[3]-0+12:d[n.seconds?6:5]=="AM"&&d[3]==12?0:d[3]:d[3];return this.formatDate(n.dateFormat+" "+n.timeFormat,new Date(d[U],d[da],
d[J],O,d[4],n.seconds?d[5]:null),n)}else if(n.preset=="time"){O=n.ampm?d[n.seconds?3:2]=="PM"&&d[0]-0<12?d[0]-0+12:d[n.seconds?3:2]=="AM"&&d[0]==12?0:d[0]:d[0];return this.formatDate(n.timeFormat,new Date(1970,0,1,O,d[1],n.seconds?d[2]:null),n)}return n.formatResult(d)};this.validate=function(d){if(this.preset&&n.preset.match(/date/i)&&(d==U||d==da||d==-1)){d=32-(new Date(this.temp[U],this.temp[da],32)).getDate()-1;var O=a("ul:eq("+J+")",ea);a("li",O).show();a("li:gt("+d+")",O).hide();if(this.temp[J]>
d){this.scroll(O,s-d-1);this.temp[J]=a("li:eq("+d+")",O).data("val")}}else n.validate(d)};this.hide=function(){if(n.onClose(this.val,this)===false)return false;a(".dwtd").prop("disabled",false).removeClass("dwtd");a(ca).blur();ea.hide();l.hide();qa=false;if(this.preset)n.wheels=null;a(window).unbind("resize.dw")};this.show=function(){if(n.disabled||qa)return false;n.beforeShow(ca,this);q=n.height;s=Math.round(n.rows/2);D=this;this.init();if(this.preset){n.wheels=[];if(n.preset.match(/date/i)){for(var d=
{},O=0;O<3;O++)if(O==U){d[n.yearText]={};for(var R=n.startYear;R<=n.endYear;R++)d[n.yearText][R]=n.dateOrder.search(/yy/i)<0?R.toString().substr(2,2):R.toString()}else if(O==da){d[n.monthText]={};for(R=0;R<12;R++)d[n.monthText][R]=n.dateOrder.search(/MM/)<0?n.dateOrder.search(/M/)<0?n.dateOrder.search(/mm/)<0?R+1:R<9?"0"+(R+1):R+1:n.monthNamesShort[R]:n.monthNames[R]}else if(O==J){d[n.dayText]={};for(R=1;R<32;R++)d[n.dayText][R]=n.dateOrder.search(/dd/i)<0?R:R<10?"0"+R:R}n.wheels.push(d)}if(n.preset.match(/time/i)){n.stepHour=
n.stepHour<1?1:parseInt(n.stepHour);n.stepMinute=n.stepMinute<1?1:parseInt(n.stepMinute);n.stepSecond=n.stepSecond<1?1:parseInt(n.stepSecond);d={};d[n.hourText]={};for(R=n.ampm?1:0;R<(n.ampm?13:24);R+=n.stepHour)d[n.hourText][R]=R<10?"0"+R:R;d[n.minuteText]={};for(R=0;R<60;R+=n.stepMinute)d[n.minuteText][R]=R<10?"0"+R:R;if(n.seconds){d[n.secText]={};for(R=0;R<60;R+=n.stepSecond)d[n.secText][R]=R<10?"0"+R:R}if(n.ampm){d[n.ampmText]={};d[n.ampmText].AM="AM";d[n.ampmText].PM="PM"}n.wheels.push(d)}}a(".dwc",
ea).remove();for(R=0;R<n.wheels.length;R++){O=a('<div class="dwc'+(n.mode=="clickpick"?" dwpm":"")+'"><div class="dwwc dwrc"><div class="clear" style="clear:both;"></div></div>').insertBefore(a(".dwbc",ea));for(var W in n.wheels[R]){d=a(".dwwc .clear",O);d=a('<div class="dwwl dwrc">'+(n.mode=="clickpick"?'<div class="dwwb dwwbp">+</div><div class="dwwb dwwbm">&ndash;</div>':"")+'<div class="dwl">'+W+'</div><div class="dww dwrc"><ul></ul><div class="dwwo"></div></div><div class="dwwol"></div></div>').insertBefore(d);
for(var Z in n.wheels[R][W])a('<li class="val_'+Z+'">'+n.wheels[R][W][Z]+"</li>").data("val",Z).appendTo(a("ul",d))}}a(".dww ul",ea).each(function(ga){for(var ka=a("li",this).index(a("li.val_"+H.temp[ga],this));ka<0&&--H.temp[ga]>=0;)ka=a("li",this).index(a("li.val_"+H.temp[ga],this));H.scroll(a(this),s-(ka<0?0:ka)-1)});a(".dwv",ea).html(this.formatResult());H.validate(-1);a("#dw_set",ea).text(n.setText).unbind().bind("click",function(){H.setValue();n.onSelect(H.val,D);H.hide();return false});a("#dw_cancel",
ea).text(n.cancelText).unbind().bind("click",function(){n.onCancel(H.val,D);H.hide();return false});a(":input:not(:disabled)").addClass("dwtd");a(":input").prop("disabled",true);l.show();ea.attr("class","dw "+n.theme).show();qa=true;a(".dww, .dwwl",ea).height(n.rows*q);a(".dww",ea).each(function(){a(this).width(a(this).parent().width()<n.width?n.width:a(this).parent().width())});a(".dwbc a",ea).attr("class",n.btnClass);a(".dww li, .dwwb",ea).css({height:q,lineHeight:q+"px"});a(".dwwc",ea).each(function(){var ga=
0;a(".dwwl",this).each(function(){ga+=a(this).outerWidth(true)});a(this).width(ga)});a(".dwc",ea).each(function(){a(this).width(a(".dwwc",this).outerWidth(true))});this.pos();a(window).bind("resize.dw",function(){H.pos()})};this.pos=function(){var d=0,O=0,R=a(window).width(),W=a(window).height(),Z=a(window).scrollTop(),ga,ka;a(".dwc",ea).each(function(){ga=a(this).outerWidth(true);d+=ga;O=ga>O?ga:O});ga=d>R?O:d;ea.width(ga);ga=ea.outerWidth();ka=ea.outerHeight();ea.css({left:(R-ga)/2,top:Z+(W-ka)/
2});l.height(0);l.height(a(document).height())};this.init=function(){var d=n.dateOrder.search(/y/i),O=n.dateOrder.search(/m/i),R=n.dateOrder.search(/d/i);U=d<O?d<R?0:1:d<R?1:2;da=O<d?O<R?0:1:O<R?1:2;J=R<d?R<O?0:1:R<O?1:2;this.preset=n.wheels===null;this.temp=a(ca).is("input")||this.values===null?this.parseValue(a(ca).val()?a(ca).val():""):this.values.slice(0);this.setValue(false)};this.init();a(ca).is(":input")&&n.showOnFocus&&a(ca).data("dwro",a(ca).prop("readonly")).prop("readonly",true);a(ca).addClass("scroller").unbind("focus.dw").bind("focus.dw",
function(){n.showOnFocus&&H.show()})}function f(ca){for(var ea in ca)if(y[ca[ea]]!==undefined)return true;return false}function h(){var ca=["Webkit","Moz","O","ms"];for(var ea in ca)if(f([ca[ea]+"Transform"]))return"-"+ca[ea].toLowerCase();return""}var j,l,q,s,v,D,x={},K=new Date,G=K.getTime(),u=false,t=null,N,P,o,y=document.createElement(y).style,z=f(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"])&&"webkitPerspective"in document.documentElement.style,
E=h(),V="ontouchstart"in window,Q=V?"touchstart":"mousedown",F=V?"touchmove":"mousemove",T=V?"touchend":"mouseup",ba={width:80,height:40,rows:3,disabled:false,showOnFocus:true,wheels:null,theme:"",mode:"scroller",preset:"date",dateFormat:"mm/dd/yy",dateOrder:"mmddy",ampm:true,seconds:false,timeFormat:"hh:ii A",startYear:K.getFullYear()-100,endYear:K.getFullYear()+1,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan",
"Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortYearCutoff:"+10",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",ampmText:"&nbsp;",setText:"Set",cancelText:"Cancel",btnClass:"dwb",stepHour:1,stepMinute:1,stepSecond:1,beforeShow:function(){},onClose:function(){},onSelect:function(){},
onCancel:function(){},formatResult:function(ca){for(var ea="",n=0;n<ca.length;n++)ea+=(n>0?" ":"")+ca[n];return ea},parseValue:function(ca,ea){ea=ea.settings.wheels;ca=ca.split(" ");for(var n=[],H=0,U=0;U<ea.length;U++)for(var da in ea[U]){H++;for(var J in ea[U][da]){n.push(J);break}}return ca.length==H?ca:n},validate:function(){return true}},ia={init:function(ca){if(ca===undefined)ca={};var ea={};if(ca.theme=="ios"){ea.dateOrder="MMdyy";ea.rows=5;ea.height=30;ea.width=55}if(ca.mode=="clickpick"){ea.height=
50;ea.rows=3}var n=a.extend({},ba,ea,ca),H=false,U=false;if(a(".dw").length){l=a(".dwo");j=a(".dw")}else{l=a('<div class="dwo"></div>').hide().appendTo("body");j=a('<div class="dw"><div class="dwv">&nbsp;</div><div class="dwbc" style="clear:both;"><span class="dwbw dwb-s"><a id="dw_set" href="#"></a></span><span class="dwbw dwb-c"><a id="dw_cancel" href="#"></a></span></div></div>');j.hide().appendTo("body");function da(d){return V?d.originalEvent.changedTouches[0].pageY:d.pageY}function J(d,O,R,
W){var Z=a("ul",j).index(d);O=O>s-1?s-1:O;O=O<s-v?s-v:O;D.scroll(d,O,R?O==W?0.1:Math.abs((O-W)*0.1):0,W,Z);D.temp[Z]=a("li:eq("+(s-1-O)+")",d).data("val");D.validate(Z);a(".dwv",j).html(D.formatResult())}function ta(d){if(H){var O=d.data("pos")-1;O=O<s-v?s-1:O;J(d,O)}else clearInterval(H)}function qa(d){if(U){var O=d.data("pos")+1;O=O>s-1?s-v:O;J(d,O)}else clearInterval(U)}a(document).bind(F,function(d){if(u){d.preventDefault();P=da(d);d=o+(P-N)/q;d=d>s-1+1?s-1+1:d;d=d<s-v-1?s-v-1:d;D.scroll(t,d)}});
a(document).bind(T,function(d){if(u){d.preventDefault();d=o+(P-N)/q;d=d>s-1+1?s-1+1:d;d=d<s-v-1?s-v-1:d;J(t,Math.round(o+(P-N)/q),true,Math.round(d));u=false;t=null}clearInterval(H);clearInterval(U);U=H=false;a(".dwb-a").removeClass("dwb-a")});j.delegate(".dwwl","DOMMouseScroll mousewheel",function(d){d.preventDefault();var O=d.wheelDelta?d.wheelDelta/120:d.detail?-d.detail/3:0;d=a("ul",this);var R=d.data("pos");O=Math.round(R+O);v=a("li:visible",d).length;J(d,O)}).delegate(".dwb, .dwwb",Q,function(){a(this).addClass("dwb-a")}).delegate(".dwwbp",
Q,function(d){d.preventDefault();var O=a(this).closest(".dwwl").find("ul");v=a("li:visible",O).length;clearInterval(H);H=setInterval(function(){ta(O)},200);ta(O)}).delegate(".dwwbm",Q,function(d){d.preventDefault();var O=a(this).closest(".dwwl").find("ul");v=a("li:visible",O).length;clearInterval(U);U=setInterval(function(){qa(O)},200);qa(O)}).delegate(".dwwl",Q,function(d){if(!u&&D.settings.mode=="scroller"){d.preventDefault();u=true;t=a("ul",this);o=t.data("pos");v=a("li:visible",t).length;P=N=
da(d);D.scroll(t,o)}})}return this.each(function(){if(!this.id){G+=1;this.id="scoller"+G}x[this.id]=new b(this,j,n)})},enable:function(){return this.each(function(){x[this.id]&&x[this.id].enable()})},disable:function(){return this.each(function(){x[this.id]&&x[this.id].disable()})},isDisabled:function(){if(x[this[0].id])return x[this[0].id].settings.disabled},option:function(ca,ea){return this.each(function(){if(x[this.id]){if(typeof ca==="object")a.extend(x[this.id].settings,ca);else x[this.id].settings[ca]=
ea;x[this.id].init()}})},setValue:function(ca,ea){if(ea==undefined)ea=false;return this.each(function(){if(x[this.id]){x[this.id].temp=ca;x[this.id].setValue(ca,ea)}})},getValue:function(){if(x[this[0].id])return x[this[0].id].values},setDate:function(ca,ea){if(ea==undefined)ea=false;return this.each(function(){x[this.id]&&x[this.id].setDate(ca,ea)})},getDate:function(){if(x[this[0].id])return x[this[0].id].getDate()},show:function(){if(x[this[0].id])return x[this[0].id].show()},hide:function(){return this.each(function(){x[this.id]&&
x[this.id].hide()})},destroy:function(){return this.each(function(){if(x[this.id]){a(this).unbind("focus.dw").removeClass("scroller");a(this).is(":input")&&a(this).prop("readonly",a(this).data("dwro"));delete x[this.id]}})}};a.fn.scroller=function(ca){if(ia[ca])return ia[ca].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof ca==="object"||!ca)return ia.init.apply(this,arguments);else a.error("Unknown method")};a.scroller=new b(null,null,ba)})(jQuery);steal.loaded("zoladex/lib/mobiscroll/js/mobiscroll-1.5.2.js");
steal("jquery/view/ejs").then(function(a){a.View.preload("zoladex_views_patientappointment_addedit_init_ejs",jQuery.EJS(function(b,f){try{with(f)with(b){b=[];b.push("\ufeff");if(this.id){b.push("\n");b.push('<input type="hidden" name="id" id="id" value="');b.push(jQuery.EJS.clean(this.id));b.push('" />\n')}b.push("\n");b.push('<label for="HcpId">HCP</label>\n');b.push('<select class="ddl" id="HcpId" name="HcpId">\n');b.push('    <option value="-1">no HCP</option>\n');b.push('\t<option value="0">add new HCP</option>\n');
b.push("\t");for(f=0;f<this.Hcps.length;f++){b.push("\n");b.push("\t\t<option ");if(this.HcpId==this.Hcps[f].id){b.push(" ");b.push(jQuery.EJS.clean(selected="selected"));b.push(" ")}b.push(' value="');b.push(jQuery.EJS.clean(this.Hcps[f].id));b.push('">');b.push(jQuery.EJS.clean(this.Hcps[f].FullName()));b.push("</option>\n");b.push("\t")}b.push("     \n");b.push("</select>\n");b.push('<label for="HealthcareLocationId">Location:</label>\n');b.push('<select class="ddl" id="HealthcareLocationId" name="HealthcareLocationId">\n');
b.push('    <option value="-1">no location</option>\n');b.push('\t<option value="0">add new Hospital/Practice</option>\n');b.push("\t");for(f=0;f<this.Locs.length;f++){b.push("\n");b.push("\t\t<option ");if(this.LocsId==this.Locs[f].id){b.push(" ");b.push(jQuery.EJS.clean(selected="selected"));b.push(" ")}b.push(' value="');b.push(jQuery.EJS.clean(this.Locs[f].id));b.push('">');b.push(jQuery.EJS.clean(this.Locs[f].Name));b.push("</option>\n");b.push("\t")}b.push("     \n");b.push("</select>\n");b.push('<label for="TypeId">Type:</label>\n');
b.push('<select class="ddl textinput required" id="TypeId" name="TypeId">\n');b.push('    <option value="">select appointment type</option>\n');b.push("    ");for(f=0;f<this.Types.length;f++){b.push("\t\n");b.push("    <option ");if(this.TypeId==this.Types[f].id){b.push(" ");b.push(jQuery.EJS.clean(selected="selected"));b.push(" ")}b.push(' value="');b.push(jQuery.EJS.clean(this.Types[f].id));b.push('">');b.push(jQuery.EJS.clean(this.Types[f].Name));b.push("</option>\n");b.push("    ")}b.push("\n");
b.push('\t<option id="OtherAppointmentType" value="-1">Other</option>\n');b.push("</select>\n");b.push('<input type="hidden" name="StartDateTime" id="StartDateTime" value="');b.push(jQuery.EJS.clean(this.StartDateTime?this.StartDateTime.getTime():""));b.push('" />\n');b.push('<label for="StartDate">Date:</label>\n');b.push('<input type="text" name="_StartDate" id="StartDate" placeholder="Click to select date" class="mustBeInFuture textinput required" value="');b.push(jQuery.EJS.clean(a.scroller.formatDate("dd M yy",
this.StartDateTime)));b.push('"/>\n');b.push("\n");b.push('<label for="StartTime">Time:</label>\n');b.push('<input type="text" name="_StartTime" id="StartTime" placeholder="Click to select time" class="mustBeInFuture textinput required" value="');b.push(jQuery.EJS.clean(a.scroller.formatDate("HH:ii",this.StartDateTime)));b.push('"/>\n');b.push("\n");b.push('<label for="AlertsEnabled">Alerts:</label>\n');b.push('<select class="switch" id="AlertsEnabled" data-role="slider" name="AlertsEnabled">\n');
b.push('    <option value="0" ');if(this.AlertsEnabled===0){b.push(" ");b.push(jQuery.EJS.clean(selected="selected"));b.push(" ")}b.push(">Off</option>\n");b.push('\t<option value="1" ');if(this.AlertsEnabled===1){b.push(" ");b.push(jQuery.EJS.clean(selected="selected"));b.push(" ")}b.push(">On</option>\n");b.push("</select>\n");b.push("<p><i>NB. Alerts will remind you of your next appointment every time you open the app. The app does not currently support integration with your phone's calendar.</i></p>\n");
b.push("\n");if(this.id){b.push("\n");b.push('<input type="submit" id="newappointmentbutton" value="Save Changes" data-icon="check" />\n')}else{b.push("\n");b.push('<input type="submit" id="newappointmentbutton" value="Add Appointment" data-icon="plus" />\n')}return b.join("")}}catch(h){h.lineNumber=null;throw h;}}))});steal.loaded("zoladex/views/patientappointment_addedit/init.ejs");
steal("jquery/model",function(){$.Model("Zoladex.Models.AppointmentListItem",{findAll:function(){return localStorageDB.getRows("SELECT ap.id, ap.StartDateTime, ap.TypeId, apt.Name as TypeName, hcp.Title as HcpTitle, hcp.FirstName as HcpFirstName, hcp.Surname as HcpSurname, hcl.Name as LocationName FROM Appointments as ap inner join AppointmentTypes as apt on ap.TypeId = apt.id left join HealthcareProfessionals as hcp on ap.HcpId=hcp.id left join Practices as hcl on ap.HealthcareLocationId = hcl.id ORDER BY ap.StartDateTime",this)},
attributes:{StartDateTime:"date"},convert:{date:function(a){return new Date(a)}}},{})});steal.loaded("zoladex/models/appointmentlistitem.js");
steal("jquery/view/ejs").then(function(a){a.View.preload("zoladex_views_patientappointment_list_init_ejs",jQuery.EJS(function(b,f){try{with(f)with(b){b=[];f=null;b.push("\n");b.push("\n");if(this.length<1){b.push("\n");b.push("\t\n");b.push('\t<li data-role="list-divider">\n');b.push("\t\tYou have no appointments added. To add one, press 'new' on the top right.\n");b.push("\t</li>\n");b.push("\n")}else{b.push("\n");b.push("\n");for(var h=0;h<this.length;h++){b.push("\t\n");var j=new Date(this[h].StartDateTime);
j.setHours(0);j.setSeconds(0);j.setMinutes(0);j.setMilliseconds(0);if(f!==j.getTime()){f=j.getTime();b.push("\n");b.push('<li data-role="list-divider">');b.push(jQuery.EJS.clean(a.scroller.formatDate("D d M yy",this[h].StartDateTime)));b.push("</li>\n")}b.push("\n");b.push('<li><a class="app-link" href="patientappointmentedit.htm?id=');b.push(jQuery.EJS.clean(this[h].id));b.push('">\n');b.push("    <h3>");b.push(jQuery.EJS.clean(this[h].TypeName));b.push("</h3>\n");b.push("\t");if(this[h].LocationName&&
this[h].LocationName.length>0){b.push("\n");b.push("    <p>");b.push(jQuery.EJS.clean(this[h].LocationName));b.push("</p>\n");b.push("    ")}b.push("\n");b.push("\t");if(this[h].HcpTitle&&this[h].HcpTitle.length>0){b.push("\n");b.push("    <p>");b.push(jQuery.EJS.clean(this[h].HcpTitle));b.push(" ");b.push(jQuery.EJS.clean(this[h].HcpFirstName));b.push(" ");b.push(jQuery.EJS.clean(this[h].HcpSurname));b.push("</p>\n");b.push("\t")}b.push("\n");b.push('\t<p class="ui-li-aside"><strong>');b.push(jQuery.EJS.clean(a.scroller.formatDate("D d M yy h:ii A",
this[h].StartDateTime)));b.push("</strong></p>\n");b.push("</a></li>\n")}}b.push(" ");return b.join("")}}catch(l){l.lineNumber=null;throw l;}}))});steal.loaded("zoladex/views/patientappointment_list/init.ejs");
steal("jquery/model",function(){Zoladex.Models.WebSqlModel("Zoladex.Models.PatientSymptomListItem",{findAll:function(){return localStorageDB.getRows("SELECT ps.id, ps.DateTime, ps.SymptomId, s.Description, s.WarningSign FROM PatientSymptoms as ps INNER JOIN Symptoms as s on ps.SymptomId=s.id ORDER BY ps.DateTime DESC",this)},attributes:{DateTime:"date"},convert:{date:function(a){if(typeof a=="number")return new Date(a);return parseInt(a)}}},{})});steal.loaded("zoladex/models/patientsymptomlistitem.js");
steal("jquery/view/ejs").then(function(a){a.View.preload("zoladex_views_symptom_list_init_ejs",jQuery.EJS(function(b,f){try{with(f)with(b){b=[];f=null;b.push("\n");b.push("\n");if(this.length<1){b.push("\n");b.push("\t\n");b.push('\t<li data-role="list-divider">\n');b.push("\t\tYou have reported no symptoms. To add one, press 'new' on the top right.\n");b.push("\t</li>\n");b.push("\n")}else{b.push("\n");b.push("\n");for(var h=0;h<this.length;h++){b.push("\t\n");var j=new Date(this[h].DateTime);j.setHours(0);
j.setSeconds(0);j.setMinutes(0);j.setMilliseconds(0);if(f!==j.getTime()){f=j.getTime();b.push("\n");b.push('<li data-role="list-divider">');b.push(jQuery.EJS.clean(a.scroller.formatDate("D d M yy",this[h].DateTime)));b.push("</li>\n")}b.push("\n");b.push("<li>\n");b.push('\t<a href="symptomedit.htm?id=');b.push(jQuery.EJS.clean(this[h].id));b.push('">\n');b.push("\t\t<h3>");b.push(jQuery.EJS.clean(this[h].Description));b.push("</h3>\n");b.push("\t\t<p>Warning Sign?  ");if(this[h].WarningSign===1){b.push(" ");
b.push(jQuery.EJS.clean("Yes"))}else{b.push(" ");b.push(jQuery.EJS.clean("No"))}b.push(" ");b.push("</p>\n");b.push('\t\t<p class="ui-li-aside"><strong>');b.push(jQuery.EJS.clean(a.scroller.formatDate("D d M yy h:ii A",this[h].DateTime)));b.push("</strong></p>\n");b.push("\t</a>\n");b.push("</li>\n")}}b.push(" ");return b.join("")}}catch(l){l.lineNumber=null;throw l;}}))});steal.loaded("zoladex/views/symptom_list/init.ejs");
steal("jquery/model",function(){Zoladex.Models.WebSqlModel("Zoladex.Models.PatientSymptom",{findOne:function(a){return localStorageDB.getSingleRow("SELECT * FROM PatientSymptoms WHERE id ="+a,this)},attributes:{DateTime:"date"},convert:{date:function(a){if(typeof a=="number")return new Date(a);return parseInt(a)}},tableName:"PatientSymptoms"},{})});steal.loaded("zoladex/models/patientsymptom.js");
steal("jquery/model",function(){Zoladex.Models.WebSqlModel("Zoladex.Models.Symptom",{findAll:function(){return localStorageDB.getRows("SELECT id, Description, WarningSign FROM Symptoms",this)},findOne:function(a){return localStorageDB.getRows("SELECT * FROM Symptoms WHERE id = "+a,this)},tableName:"Symptoms"},{})});steal.loaded("zoladex/models/symptom.js");
steal("jquery/view/ejs").then(function(a){a.View.preload("zoladex_views_symptom_addedit_init_ejs",jQuery.EJS(function(b,f){try{with(f)with(b){b=[];b.push("\ufeff");if(this.id){b.push("\n");b.push('<input type="hidden" name="id" id="id" value="');b.push(jQuery.EJS.clean(this.id));b.push('" />\n')}b.push("\n");b.push('<label for="SymptomId">Symptom:</label>\n');b.push('<select class="required textinput" id="SymptomId" name="SymptomId">\n');b.push('\t<option value="">Select a symptom</option>\n');b.push("\t");
for(f=0;f<this.Symptoms.length;f++){b.push("\n");b.push("\t\t<option ");if(this.SymptomId==this.Symptoms[f].id){b.push(" ");b.push(jQuery.EJS.clean(selected="selected"));b.push(" ")}b.push(' value="');b.push(jQuery.EJS.clean(this.Symptoms[f].id));b.push('">');b.push(jQuery.EJS.clean(this.Symptoms[f].Description));b.push("</option>\n");b.push("\t")}b.push("\n");b.push('\t<option value="-1">Other</option>     \n');b.push("</select>\n");b.push('<label for="Date">Date:</label>\n');b.push('<input type="text" id="Date" placeholder="Click to select date" class="textinput required" name="_Date" value="');
b.push(jQuery.EJS.clean(a.scroller.formatDate("dd M yy",this.DateTime)));b.push('" />\n');b.push('<label for="Time">Time:</label>\n');b.push('<input type="text" id="Time" placeholder="Click to select time" class="textinput required" name="_Time" value="');b.push(jQuery.EJS.clean(a.scroller.formatDate("HH:ii",this.DateTime)));b.push('"" />\n');b.push('<input type="submit" id="submitsymptombutton" value="Record Symptom" />\n');b.push("\n");b.push('<input type="hidden" name="DateTime" id="DateTime" value="');
b.push(jQuery.EJS.clean(this.DateTime?this.DateTime.getTime():""));b.push('" />');return b.join("")}}catch(h){h.lineNumber=null;throw h;}}))});steal.loaded("zoladex/views/symptom_addedit/init.ejs");
steal("jquery/model",function(){Zoladex.Models.WebSqlModel("Zoladex.Models.Category",{findAll:function(){return localStorageDB.getRows("SELECT * FROM Categories",this)},findOne:function(a){return localStorageDB.getSingleRow("SELECT * FROM Categories WHERE CategoryId ="+a,this)},tableName:"Categories"},{})});steal.loaded("zoladex/models/category.js");
steal("jquery/model",function(){Zoladex.Models.WebSqlModel("Zoladex.Models.Question",{findAll:function(){return localStorageDB.getRows("SELECT * FROM Questions",this)},findOne:function(a){return localStorageDB.getSingleRow("SELECT * FROM Questions WHERE id ="+a,this)},findByCategory:function(a){return localStorageDB.getRows("SELECT * FROM Questions WHERE CategoryId ="+a,this)},tableName:"Questions"},{})});steal.loaded("zoladex/models/question.js");
steal("jquery/model",function(){Zoladex.Models.WebSqlModel("Zoladex.Models.MyQuestion",{findAll:function(){return localStorageDB.getRows("SELECT * FROM MyQuestions",this)},findOne:function(a){return localStorageDB.getSingleRow("SELECT * FROM MyQuestions WHERE id ="+a,this)},tableName:"MyQuestions"},{})});steal.loaded("zoladex/models/myquestion.js");
steal("jquery/view/ejs").then(function(a){a.View.preload("zoladex_views_question_addedit_init_ejs",jQuery.EJS(function(b,f){try{with(f)with(b){b=[];b.push("\ufeff\n");if(this.hcpList.length<1){b.push("\n");b.push("\n");b.push('<ul data-role="listview" data-divider-theme="c">\n');b.push('\t<li data-role="list-divider">Sorry, you have not added any HCPs yet. You can\'t ask a question to noone!</li>\n');b.push("</ul>\n")}else{b.push("\n");b.push("\n");b.push('<input type="hidden" id="catId" value="');
b.push(jQuery.EJS.clean(this.questionList[0].CategoryId));b.push('"/>\n');b.push("\n");for(f=0;f<this.questionList.length;f++){b.push("\n");b.push("\t<li>\n");b.push('\t\t<div id="Question');b.push(jQuery.EJS.clean(f));b.push('" style="padding: 10px; text-align: center">');b.push(jQuery.EJS.clean(this.questionList[f].Question));b.push("</div>\n");b.push('\t\t<select id="QuestionDdl" name="QuestionDdl">\n');b.push('\t\t\t<option value="-1">Select an HCP</option>\n');b.push("\t\t\t");for(var h=0;h<
this.hcpList.length;h++){b.push("\n");b.push('\t\t\t\t<option value="');b.push(jQuery.EJS.clean(this.hcpList[h].id));b.push('">');b.push(jQuery.EJS.clean(this.hcpList[h].Title));b.push(" ");b.push(jQuery.EJS.clean(this.hcpList[h].FirstName));b.push(" ");b.push(jQuery.EJS.clean(this.hcpList[h].Surname));b.push("</option>\n");b.push("\t\t\t")}b.push("     \n");b.push("\t\t</select>\n");b.push("\t</li>\t\n")}b.push("\n");b.push("\n");b.push('<div style="padding: 10px; text-align: center"><input placeholder="Type your own question" type="text" id="CustomQuestionText"/></div>\n');
b.push('<select id="CustomQuestionDdl" name="CustomQuestionDdl">\n');b.push('\t<option value="-1">Select an HCP</option>\n');b.push("\t");for(f=0;f<this.hcpList.length;f++){b.push("\n");b.push('\t\t<option value="');b.push(jQuery.EJS.clean(this.hcpList[f].id));b.push('">');b.push(jQuery.EJS.clean(this.hcpList[f].Title));b.push(" ");b.push(jQuery.EJS.clean(this.hcpList[f].FirstName));b.push(" ");b.push(jQuery.EJS.clean(this.hcpList[f].Surname));b.push("</option>\n");b.push("\t")}b.push("     \n");
b.push("</select>\n");b.push("\t\n");b.push('<input type="submit" id="addquestionsbutton" value="Add Questions" />\n');b.push(" </form>\n")}return b.join("")}}catch(j){j.lineNumber=null;throw j;}}))});steal.loaded("zoladex/views/question_addedit/init.ejs");
steal("jquery/model",function(){Zoladex.Models.WebSqlModel("Zoladex.Models.MyQuestionList",{findAll:function(){return localStorageDB.getRows("SELECT mq.id,  mq.Question, mq.HcpId, hcp.Title, hcp.FirstName, hcp.Surname FROM MyQuestions as mq inner join HealthcareProfessionals as hcp on mq.HcpId=hcp.id ORDER BY mq.HcpId ASC",this)},findOne:function(a){return localStorageDB.getSingleRow("SELECT * FROM MyQuestions WHERE id ="+a,this)},tableName:"MyQuestions"},{})});steal.loaded("zoladex/models/myquestionlist.js");
steal("jquery/view/ejs").then(function(a){a.View.preload("zoladex_views_question_list_init_ejs",jQuery.EJS(function(b,f){try{with(f)with(b){b=[];b.push("\ufeff");lastId=0;b.push("\n");b.push("\n");if(this.length<1){b.push("\n");b.push("\t<li data-role=\"list-divider\">You have not added any questions yet. To do so, press 'New' on the top right. </li>\n")}else{b.push("\n");b.push("\n");b.push("\t");for(f=0;f<this.length;f++){b.push("\n");b.push("\n");b.push("\t\t");if(this[f].HcpId!==lastId){b.push("\n");
b.push("\n");b.push('\t\t\t<li data-role="list-divider">\n');b.push("\t\t\tQuestions for ");b.push(jQuery.EJS.clean(this[f].Title));b.push(" ");b.push(jQuery.EJS.clean(this[f].FirstName));b.push(" ");b.push(jQuery.EJS.clean(this[f].Surname));b.push("\n");b.push("\t\t\t\n");b.push("\t\t\t</li>\n");b.push("\n");b.push("\t\t")}b.push("\n");b.push("\n");b.push("\t\t<li>\n");b.push('\t\t\t<a class="questionText">\n');b.push("\t\t\t\t<h3>");b.push(jQuery.EJS.clean(this[f].Question));b.push("</h3>\n");b.push("\t\t\t</a>\n");
b.push('\t\t\t<a class="deleteButton" id="');b.push(jQuery.EJS.clean(this[f].id));b.push('" >Delete</a>\n');b.push("\t\t</li>\n");b.push("\t\n");b.push("\t\t");lastId=this[f].HcpId;b.push("\n");b.push("\n");b.push("\t")}b.push("\n");b.push("\n")}b.push("\n");b.push("\n");return b.join("")}}catch(h){h.lineNumber=null;throw h;}}))});steal.loaded("zoladex/views/question_list/init.ejs");
steal("jquery/model",function(){Zoladex.Models.WebSqlModel("Zoladex.Models.Psalevel",{findAll:function(){return localStorageDB.getRows("SELECT * FROM PsaLevels",this)},findOne:function(a){return localStorageDB.getSingleRow("SELECT * FROM PsaLevels WHERE id ="+a,this)},attributes:{Date:"date"},convert:{date:function(a){if(typeof a!="number")return $.scroller.parseDate("dd M yy",a);return new Date(a)}},tableName:"PsaLevels"},{})});steal.loaded("zoladex/models/psalevel.js");
steal("jquery/view/ejs").then(function(a){a.View.preload("zoladex_views_level_addedit_init_ejs",jQuery.EJS(function(b,f){try{with(f)with(b){b=[];b.push('\ufeff<label for="birthdate">Your date of birth</label>\n');b.push('<input type="text" placeholder="Enter your date of birth" name="Dob" id="Dob" class="textinput required" value="');b.push(jQuery.EJS.clean(a.scroller.formatDate("dd M yy",this.dateOfBirth)));b.push('" />\n');b.push('<label for="psacount">PSA Count</label>\n');b.push('<input type="number" step = "0.1" min="0.1" max="20.0"  placeholder="Your current PSA level (ng/ml)" name="psacount" id="PsaCount" class="textinput required" />\n');
b.push('<label for="date">Date</label>\n');b.push('<input type="text" name="date" id="Date" class="textinput required" value="');b.push(jQuery.EJS.clean(a.scroller.formatDate("dd M yy",this.date)));b.push('" />\n');b.push('<input type="submit" id="newpsalevelbutton" value="Record PSA Level" data-icon="check" />\n');return b.join("")}}catch(h){h.lineNumber=null;throw h;}}))});steal.loaded("zoladex/views/level_addedit/init.ejs");
steal("jquery/model",function(){Zoladex.Models.WebSqlModel("Zoladex.Models.Alert",{findAll:function(){var a=new Date,b=new Date;b.setDate(a.getDate()+1);a="SELECT ap.id, ap.StartDateTime, ap.TypeId, apt.Name as TypeName, hcp.Title as HcpTitle, hcp.FirstName as HcpFirstName, hcp.Surname as HcpSurname, hcl.Name as LocationName FROM Appointments as ap inner join AppointmentTypes as apt on ap.TypeId = apt.id left join HealthcareProfessionals as hcp on ap.HcpId=hcp.id left join Practices as hcl on ap.HealthcareLocationId = hcl.id WHERE ap.StartDateTime < "+
b.getTime()+" AND ap.StartDateTime > "+a.getTime()+" AND ap.AlertsEnabled = 1";console.log(a);return localStorageDB.getRows(a,this)},attributes:{StartDate:"date"},convert:{date:function(a){if(typeof a!="number")return $.scroller.parseDate("dd M yy",a);return new Date(a)}},tableName:"Appointments"},{})});steal.loaded("zoladex/models/alert.js");
steal("jquery/view/ejs").then(function(a){a.View.preload("zoladex_views_alerts_init_ejs",jQuery.EJS(function(b,f){try{with(f)with(b){b=[];b.push("\n");for(f=0;f<this.length;f++){b.push("\t\n");b.push("<h3>");b.push(jQuery.EJS.clean(this[f].TypeName));b.push(" </h3>\n");b.push("\n");b.push("<p>\n");b.push("\t<strong>Date:</strong> ");b.push(jQuery.EJS.clean(a.scroller.formatDate("D d M yy",new Date(this[f].StartDateTime))));b.push(" <strong>Time:</strong> ");b.push(jQuery.EJS.clean(a.scroller.formatDate("h:ii A",
new Date(this[f].StartDateTime))));b.push("\n");b.push("</p>\n");b.push("\n");if(this[f].LocationName&&this[f].LocationName.length>0){b.push("\n");b.push("    <p><strong>Location:</strong> ");b.push(jQuery.EJS.clean(this[f].LocationName));b.push("</p>\n")}b.push(" \n");b.push("\n");if(this[f].HcpTitle&&this[f].HcpTitle.length>0){b.push("\n");b.push("\t<p><strong>To see:</strong>\n");b.push("    ");b.push(jQuery.EJS.clean(this[f].HcpTitle));b.push(" ");b.push(jQuery.EJS.clean(this[f].HcpFirstName));
b.push(" ");b.push(jQuery.EJS.clean(this[f].HcpSurname));b.push("\n");b.push("\t</p>\n")}b.push("\n");b.push("\n");if(f!==this.length-1){b.push("\n");b.push("\t<hr/>\n")}b.push("\n");b.push("\n")}b.push(" \n");b.push("\n");b.push('<a id="OK" data-role="button" href="../../home/home.htm">OK</a>');return b.join("")}}catch(h){h.lineNumber=null;throw h;}}))});steal.loaded("zoladex/views/alerts/init.ejs");
